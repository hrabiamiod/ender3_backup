===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Args: ['/home/turbo/klipper/klippy/klippy.py', '/home/turbo/printer_data/config/printer.cfg', '-I', '/home/turbo/printer_data/comms/klippy.serial', '-l', '/home/turbo/printer_data/logs/klippy.log', '-a', '/home/turbo/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-125-gbfb71bc2'
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 2 core Intel(R) Core(TM)2 Duo CPU     E8400  @ 3.00GHz
Python: '3.10.12 (main, Nov 20 2023, 15:14:05) [GCC 11.4.0]'
webhooks client 123299320094752: {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
=============== Log rollover at Mon Mar 25 19:38:54 2024 ===============
Attempting MCU 'mcu' reset
Unhandled exception during post run
Traceback (most recent call last):
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialposix.py", line 265, in open
    self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
FileNotFoundError: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 234, in run
    self.send_event("klippy:firmware_restart")
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/mcu.py", line 931, in _firmware_restart
    self._restart_arduino()
  File "/home/turbo/klipper/klippy/mcu.py", line 891, in _restart_arduino
    serialhdl.arduino_reset(self._serialport, self._reactor)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 379, in arduino_reset
    ser = serial.Serial(serialport, 2400, timeout=0, exclusive=True)
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialutil.py", line 240, in __init__
    self.open()
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialposix.py", line 268, in open
    raise SerialException(msg.errno, "could not open port {}: {}".format(self._port, msg))
serial.serialutil.SerialException: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
Restarting printer
Start printer at Mon Mar 25 19:38:55 2024 (1711391936.0 378915.2)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
webhooks client 123299318825024: New connection
webhooks client 123299318825024: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
webhooks client 123299318825024: Disconnected
Restarting printer
Start printer at Mon Mar 25 19:39:18 2024 (1711391958.8 378938.0)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 123299318677664: New connection
webhooks client 123299318677664: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
Loaded MCU 'PIS' 107 commands (v0.11.0-219-g645a1b83 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Protocol error
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 180, in _connect
    cb()
  File "/home/turbo/klipper/klippy/mcu.py", line 724, in _connect
    self._send_config(None)
  File "/home/turbo/klipper/klippy/mcu.py", line 654, in _send_config
    cb()
  File "/home/turbo/klipper/klippy/extras/adxl345.py", line 228, in _build_config
    self.query_adxl345_cmd = self.mcu.lookup_command(
  File "/home/turbo/klipper/klippy/mcu.py", line 855, in lookup_command
    return CommandWrapper(self._serial, msgformat, cq)
  File "/home/turbo/klipper/klippy/mcu.py", line 86, in __init__
    self._cmd = msgparser.lookup_command(msgformat)
  File "/home/turbo/klipper/klippy/msgproto.py", line 317, in lookup_command
    self._error("Command format mismatch: %s vs %s",
  File "/home/turbo/klipper/klippy/msgproto.py", line 243, in _error
    raise error(self.warn_prefix + (msg % params))
msgproto.error: mcu 'PIS': Command format mismatch: query_adxl345 oid=%c rest_ticks=%u vs query_adxl345 oid=%c clock=%u rest_ticks=%u
Build file /home/turbo/klipper/klippy/../.config(3419): Wed Mar 13 15:56:03 2024
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
CONFIG_MACH_STM32=y
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="stm32"
CONFIG_MCU="stm32g0b1xx"
CONFIG_CLOCK_FREQ=64000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x20000
CONFIG_FLASH_BOOT_ADDRESS=0x8000000
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x24000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x8002000
CONFIG_STM32_SELECT=y
# CONFIG_MACH_STM32F103 is not set
# CONFIG_MACH_STM32F207 is not set
# CONFIG_MACH_STM32F401 is not set
# CONFIG_MACH_STM32F405 is not set
# CONFIG_MACH_STM32F407 is not set
# CONFIG_MACH_STM32F429 is not set
# CONFIG_MACH_STM32F446 is not set
# CONFIG_MACH_STM32F765 is not set
# CONFIG_MACH_STM32F031 is not set
# CONFIG_MACH_STM32F042 is not set
# CONFIG_MACH_STM32F070 is not set
# CONFIG_MACH_STM32F072 is not set
# CONFIG_MACH_STM32G070 is not set
# CONFIG_MACH_STM32G071 is not set
# CONFIG_MACH_STM32G0B0 is not set
CONFIG_MACH_STM32G0B1=y
# CONFIG_MACH_STM32G431 is not set
# CONFIG_MACH_STM32H723 is not set
# CONFIG_MACH_STM32H743 is not set
# CONFIG_MACH_STM32H750 is not set
# CONFIG_MACH_STM32L412 is not set
# CONFIG_MACH_N32G452 is not set
# CONFIG_MACH_N32G455 is not set
CONFIG_MACH_STM32G0=y
CONFIG_MACH_STM32G0Bx=y
CONFIG_HAVE_STM32_USBFS=y
CONFIG_HAVE_STM32_FDCANBUS=y
CONFIG_HAVE_STM32_USBCANBUS=y
CONFIG_STM32_DFU_ROM_ADDRESS=0x1fff0000
CONFIG_STM32_FLASH_START_2000=y
# CONFIG_STM32_FLASH_START_0000 is not set
CONFIG_STM32_CLOCK_REF_8M=y
# CONFIG_STM32_CLOCK_REF_12M is not set
# CONFIG_STM32_CLOCK_REF_16M is not set
# CONFIG_STM32_CLOCK_REF_20M is not set
# CONFIG_STM32_CLOCK_REF_24M is not set
# CONFIG_STM32_CLOCK_REF_25M is not set
# CONFIG_STM32_CLOCK_REF_INTERNAL is not set
CONFIG_CLOCK_REF_FREQ=8000000
CONFIG_STM32F0_TRIM=16
CONFIG_STM32_USB_PA11_PA12=y
# CONFIG_STM32_SERIAL_USART1 is not set
# CONFIG_STM32_SERIAL_USART1_ALT_PB7_PB6 is not set
# CONFIG_STM32_SERIAL_USART2 is not set
# CONFIG_STM32_SERIAL_USART2_ALT_PD6_PD5 is not set
# CONFIG_STM32_SERIAL_USART3 is not set
# CONFIG_STM32_SERIAL_USART3_ALT_PD9_PD8 is not set
# CONFIG_STM32_SERIAL_USART5 is not set
# CONFIG_STM32_CANBUS_PA11_PA12 is not set
# CONFIG_STM32_CANBUS_PA11_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB8_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB12_PB13 is not set
# CONFIG_STM32_MMENU_CANBUS_PD0_PD1 is not set
# CONFIG_STM32_MMENU_CANBUS_PB0_PB1 is not set
# CONFIG_STM32_MMENU_CANBUS_PD12_PD13 is not set
# CONFIG_STM32_MMENU_CANBUS_PC2_PC3 is not set
# CONFIG_STM32_USBCANBUS_PA11_PA12 is not set
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"

#
# USB ids
#
# end of USB ids

CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_HAVE_BOOTLOADER_REQUEST=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/turbo/klipper/klippy/../out/klipper.dict(8112): Wed Mar 13 15:58:41 2024
Last MCU build version: v0.12.0-25-g99d7af87
Last MCU build tools: gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/turbo/klipper/klippy/../out/klipper.elf(1059108): Wed Mar 13 15:58:44 2024
Starting Klippy...
Args: ['/home/turbo/klipper/klippy/klippy.py', '/home/turbo/printer_data/config/printer.cfg', '-I', '/home/turbo/printer_data/comms/klippy.serial', '-l', '/home/turbo/printer_data/logs/klippy.log', '-a', '/home/turbo/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-132-ge37b007f'
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper
CPU: 2 core Intel(R) Core(TM)2 Duo CPU     E8400  @ 3.00GHz
Python: '3.10.12 (main, Nov 20 2023, 15:14:05) [GCC 11.4.0]'
Start printer at Mon Mar 25 20:05:40 2024 (1711393540.6 380519.9)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448636743424: New connection
webhooks client 135448636743424: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
mcu 'mcu': got {'oid': 22, 'next_clock': 3041032192, 'value': 31384, '#name': 'analog_in_state', '#sent_time': 380521.065402162, '#receive_time': 380521.08061053}
mcu 'mcu': got {'oid': 13, 'next_clock': 3054472192, 'value': 31438, '#name': 'analog_in_state', '#sent_time': 380521.275646626, '#receive_time': 380521.288023153}
mcu 'mcu': got {'oid': 22, 'next_clock': 3060232192, 'value': 31401, '#name': 'analog_in_state', '#sent_time': 380521.33060905, '#receive_time': 380521.380016591}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
mcu 'mcu': got {'oid': 13, 'next_clock': 3073672192, 'value': 31407, '#name': 'analog_in_state', '#sent_time': 380521.4407255, '#receive_time': 380521.588015398}
mcu 'mcu': got {'oid': 22, 'next_clock': 3079432192, 'value': 31387, '#name': 'analog_in_state', '#sent_time': 380521.4407255, '#receive_time': 380521.678213974}
mcu 'mcu': got {'oid': 13, 'next_clock': 3092872192, 'value': 31418, '#name': 'analog_in_state', '#sent_time': 380521.4407255, '#receive_time': 380521.88801666}
mcu 'mcu': got {'oid': 22, 'next_clock': 3098632192, 'value': 31394, '#name': 'analog_in_state', '#sent_time': 380521.4407255, '#receive_time': 380521.985014136}
Loaded MCU 'PIS' 107 commands (v0.11.0-219-g645a1b83 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Protocol error
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 180, in _connect
    cb()
  File "/home/turbo/klipper/klippy/mcu.py", line 724, in _connect
    self._send_config(None)
  File "/home/turbo/klipper/klippy/mcu.py", line 654, in _send_config
    cb()
  File "/home/turbo/klipper/klippy/extras/adxl345.py", line 228, in _build_config
    self.query_adxl345_cmd = self.mcu.lookup_command(
  File "/home/turbo/klipper/klippy/mcu.py", line 855, in lookup_command
    return CommandWrapper(self._serial, msgformat, cq)
  File "/home/turbo/klipper/klippy/mcu.py", line 86, in __init__
    self._cmd = msgparser.lookup_command(msgformat)
  File "/home/turbo/klipper/klippy/msgproto.py", line 317, in lookup_command
    self._error("Command format mismatch: %s vs %s",
  File "/home/turbo/klipper/klippy/msgproto.py", line 243, in _error
    raise error(self.warn_prefix + (msg % params))
msgproto.error: mcu 'PIS': Command format mismatch: query_adxl345 oid=%c rest_ticks=%u vs query_adxl345 oid=%c clock=%u rest_ticks=%u
Build file /home/turbo/klipper/klippy/../.config(3419): Wed Mar 13 15:56:03 2024
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
CONFIG_MACH_STM32=y
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="stm32"
CONFIG_MCU="stm32g0b1xx"
CONFIG_CLOCK_FREQ=64000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x20000
CONFIG_FLASH_BOOT_ADDRESS=0x8000000
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x24000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x8002000
CONFIG_STM32_SELECT=y
# CONFIG_MACH_STM32F103 is not set
# CONFIG_MACH_STM32F207 is not set
# CONFIG_MACH_STM32F401 is not set
# CONFIG_MACH_STM32F405 is not set
# CONFIG_MACH_STM32F407 is not set
# CONFIG_MACH_STM32F429 is not set
# CONFIG_MACH_STM32F446 is not set
# CONFIG_MACH_STM32F765 is not set
# CONFIG_MACH_STM32F031 is not set
# CONFIG_MACH_STM32F042 is not set
# CONFIG_MACH_STM32F070 is not set
# CONFIG_MACH_STM32F072 is not set
# CONFIG_MACH_STM32G070 is not set
# CONFIG_MACH_STM32G071 is not set
# CONFIG_MACH_STM32G0B0 is not set
CONFIG_MACH_STM32G0B1=y
# CONFIG_MACH_STM32G431 is not set
# CONFIG_MACH_STM32H723 is not set
# CONFIG_MACH_STM32H743 is not set
# CONFIG_MACH_STM32H750 is not set
# CONFIG_MACH_STM32L412 is not set
# CONFIG_MACH_N32G452 is not set
# CONFIG_MACH_N32G455 is not set
CONFIG_MACH_STM32G0=y
CONFIG_MACH_STM32G0Bx=y
CONFIG_HAVE_STM32_USBFS=y
CONFIG_HAVE_STM32_FDCANBUS=y
CONFIG_HAVE_STM32_USBCANBUS=y
CONFIG_STM32_DFU_ROM_ADDRESS=0x1fff0000
CONFIG_STM32_FLASH_START_2000=y
# CONFIG_STM32_FLASH_START_0000 is not set
CONFIG_STM32_CLOCK_REF_8M=y
# CONFIG_STM32_CLOCK_REF_12M is not set
# CONFIG_STM32_CLOCK_REF_16M is not set
# CONFIG_STM32_CLOCK_REF_20M is not set
# CONFIG_STM32_CLOCK_REF_24M is not set
# CONFIG_STM32_CLOCK_REF_25M is not set
# CONFIG_STM32_CLOCK_REF_INTERNAL is not set
CONFIG_CLOCK_REF_FREQ=8000000
CONFIG_STM32F0_TRIM=16
CONFIG_STM32_USB_PA11_PA12=y
# CONFIG_STM32_SERIAL_USART1 is not set
# CONFIG_STM32_SERIAL_USART1_ALT_PB7_PB6 is not set
# CONFIG_STM32_SERIAL_USART2 is not set
# CONFIG_STM32_SERIAL_USART2_ALT_PD6_PD5 is not set
# CONFIG_STM32_SERIAL_USART3 is not set
# CONFIG_STM32_SERIAL_USART3_ALT_PD9_PD8 is not set
# CONFIG_STM32_SERIAL_USART5 is not set
# CONFIG_STM32_CANBUS_PA11_PA12 is not set
# CONFIG_STM32_CANBUS_PA11_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB8_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB12_PB13 is not set
# CONFIG_STM32_MMENU_CANBUS_PD0_PD1 is not set
# CONFIG_STM32_MMENU_CANBUS_PB0_PB1 is not set
# CONFIG_STM32_MMENU_CANBUS_PD12_PD13 is not set
# CONFIG_STM32_MMENU_CANBUS_PC2_PC3 is not set
# CONFIG_STM32_USBCANBUS_PA11_PA12 is not set
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"

#
# USB ids
#
# end of USB ids

CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_HAVE_BOOTLOADER_REQUEST=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/turbo/klipper/klippy/../out/klipper.dict(8112): Wed Mar 13 15:58:41 2024
Last MCU build version: v0.12.0-25-g99d7af87
Last MCU build tools: gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/turbo/klipper/klippy/../out/klipper.elf(1059108): Wed Mar 13 15:58:44 2024
b'Got EOF when reading from device'
b'Got EOF when reading from device'
webhooks client 135448636743424: Disconnected
Restarting printer
Start printer at Mon Mar 25 20:51:07 2024 (1711396267.8 383247.1)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
webhooks client 135448638218464: New connection
webhooks client 135448638218464: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
Attempting MCU 'mcu' reset
Unhandled exception during post run
Traceback (most recent call last):
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialposix.py", line 265, in open
    self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
FileNotFoundError: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 234, in run
    self.send_event("klippy:firmware_restart")
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/mcu.py", line 931, in _firmware_restart
    self._restart_arduino()
  File "/home/turbo/klipper/klippy/mcu.py", line 891, in _restart_arduino
    serialhdl.arduino_reset(self._serialport, self._reactor)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 379, in arduino_reset
    ser = serial.Serial(serialport, 2400, timeout=0, exclusive=True)
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialutil.py", line 240, in __init__
    self.open()
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialposix.py", line 268, in open
    raise SerialException(msg.errno, "could not open port {}: {}".format(self._port, msg))
serial.serialutil.SerialException: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
Restarting printer
Start printer at Mon Mar 25 20:51:53 2024 (1711396313.7 383293.1)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
webhooks client 135448637305712: New connection
webhooks client 135448637305712: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00'
mcu 'mcu': got {'oid': 13, 'next_clock': 829045760, 'value': 31424, '#name': 'analog_in_state', '#sent_time': 383305.169084785, '#receive_time': 383305.193644147}
mcu 'mcu': got {'oid': 22, 'next_clock': 834805760, 'value': 31380, '#name': 'analog_in_state', '#sent_time': 383305.271033517, '#receive_time': 383305.283637696}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
mcu 'mcu': got {'oid': 13, 'next_clock': 848245760, 'value': 31416, '#name': 'analog_in_state', '#sent_time': 383305.482900733, '#receive_time': 383305.493654946}
mcu 'mcu': got {'oid': 22, 'next_clock': 854005760, 'value': 31397, '#name': 'analog_in_state', '#sent_time': 383305.482900733, '#receive_time': 383305.583690441}
mcu 'mcu': got {'oid': 13, 'next_clock': 867445760, 'value': 31421, '#name': 'analog_in_state', '#sent_time': 383305.482900733, '#receive_time': 383305.79462225}
mcu 'mcu': got {'oid': 22, 'next_clock': 873205760, 'value': 31378, '#name': 'analog_in_state', '#sent_time': 383305.482900733, '#receive_time': 383305.883662831}
mcu 'mcu': got {'oid': 13, 'next_clock': 886645760, 'value': 31423, '#name': 'analog_in_state', '#sent_time': 383305.482900733, '#receive_time': 383306.093667744}
mcu 'mcu': got {'oid': 22, 'next_clock': 892405760, 'value': 31372, '#name': 'analog_in_state', '#sent_time': 383305.482900733, '#receive_time': 383306.183654652}
Loaded MCU 'PIS' 106 commands (v0.12.0-132-ge37b007f / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
MCU error during connect
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 180, in _connect
    cb()
  File "/home/turbo/klipper/klippy/mcu.py", line 731, in _connect
    raise error("Failed automated reset of MCU '%s'"
mcu.error: Failed automated reset of MCU 'mcu'
Build file /home/turbo/klipper/klippy/../.config(1648): Mon Mar 25 20:47:58 2024
========= Last MCU build config =========
# CONFIG_LOW_LEVEL_OPTIONS is not set
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
CONFIG_MACH_RP2040=y
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="rp2040"
CONFIG_MCU="rp2040"
CONFIG_CLOCK_FREQ=12000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x200000
CONFIG_FLASH_BOOT_ADDRESS=0x10000100
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x42000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x10000100
CONFIG_RP2040_SELECT=y
CONFIG_RP2040_HAVE_STAGE2=y
CONFIG_RP2040_FLASH_START_0100=y
# CONFIG_RP2040_FLASH_START_4000 is not set
CONFIG_RP2040_STAGE2_FILE="boot2_w25q080.S"
CONFIG_RP2040_STAGE2_CLKDIV=2
CONFIG_RP2040_USB=y
# CONFIG_RP2040_SERIAL_UART0 is not set
# CONFIG_RP2040_CANBUS is not set
# CONFIG_RP2040_USBCANBUS is not set
CONFIG_RP2040_CANBUS_GPIO_RX=4
CONFIG_RP2040_CANBUS_GPIO_TX=5
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_NEED_SENSOR_BULK=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_HAVE_BOOTLOADER_REQUEST=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/turbo/klipper/klippy/../out/klipper.dict(8088): Mon Mar 25 20:48:04 2024
Last MCU build version: v0.12.0-132-ge37b007f
Last MCU build tools: gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/turbo/klipper/klippy/../out/klipper.elf(1793968): Mon Mar 25 20:48:07 2024
mcu 'mcu': got {'oid': 13, 'next_clock': 905845760, 'value': 31412, '#name': 'analog_in_state', '#sent_time': 383306.206545983, '#receive_time': 383306.398124484}
mcu 'mcu': got {'oid': 22, 'next_clock': 911605760, 'value': 31372, '#name': 'analog_in_state', '#sent_time': 383306.467815188, '#receive_time': 383306.483669316}
mcu 'mcu': got {'oid': 13, 'next_clock': 925045760, 'value': 31420, '#name': 'analog_in_state', '#sent_time': 383306.467815188, '#receive_time': 383306.694896883}
mcu 'mcu': got {'oid': 22, 'next_clock': 930805760, 'value': 31384, '#name': 'analog_in_state', '#sent_time': 383306.467815188, '#receive_time': 383306.783676855}
mcu 'mcu': got {'oid': 13, 'next_clock': 944245760, 'value': 31409, '#name': 'analog_in_state', '#sent_time': 383306.467815188, '#receive_time': 383306.993667404}
mcu 'mcu': got {'oid': 22, 'next_clock': 950005760, 'value': 31378, '#name': 'analog_in_state', '#sent_time': 383306.467815188, '#receive_time': 383307.083659482}
mcu 'mcu': got {'oid': 13, 'next_clock': 963445760, 'value': 31408, '#name': 'analog_in_state', '#sent_time': 383306.467815188, '#receive_time': 383307.293721264}
mcu 'mcu': got {'oid': 22, 'next_clock': 969205760, 'value': 31383, '#name': 'analog_in_state', '#sent_time': 383306.467815188, '#receive_time': 383307.383686206}
mcu 'mcu': got {'oid': 13, 'next_clock': 982645760, 'value': 31412, '#name': 'analog_in_state', '#sent_time': 383307.45251144, '#receive_time': 383307.5937376}
mcu 'mcu': got {'oid': 22, 'next_clock': 988405760, 'value': 31371, '#name': 'analog_in_state', '#sent_time': 383307.45251144, '#receive_time': 383307.68368246}
mcu 'mcu': got {'oid': 13, 'next_clock': 1001845760, 'value': 31412, '#name': 'analog_in_state', '#sent_time': 383307.45251144, '#receive_time': 383307.89370617}
mcu 'mcu': got {'oid': 22, 'next_clock': 1007605760, 'value': 31380, '#name': 'analog_in_state', '#sent_time': 383307.45251144, '#receive_time': 383307.983675175}
webhooks client 135448637305712: Disconnected
Restarting printer
Start printer at Mon Mar 25 20:52:09 2024 (1711396329.8 383309.2)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448706727648: New connection
webhooks client 135448706727648: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
mcu 'mcu': got {'oid': 22, 'next_clock': 1142005760, 'value': 31384, '#name': 'analog_in_state', '#sent_time': 383310.080454121, '#receive_time': 383310.084636313}
mcu 'mcu': got {'oid': 13, 'next_clock': 1155445760, 'value': 31417, '#name': 'analog_in_state', '#sent_time': 383310.285153479, '#receive_time': 383310.294678932}
mcu 'mcu': got {'oid': 22, 'next_clock': 1161205760, 'value': 31368, '#name': 'analog_in_state', '#sent_time': 383310.336123333, '#receive_time': 383310.384702448}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
mcu 'mcu': got {'oid': 13, 'next_clock': 1174645760, 'value': 31419, '#name': 'analog_in_state', '#sent_time': 383310.49793612, '#receive_time': 383310.594666281}
mcu 'mcu': got {'oid': 22, 'next_clock': 1180405760, 'value': 31378, '#name': 'analog_in_state', '#sent_time': 383310.49793612, '#receive_time': 383310.684660922}
mcu 'mcu': got {'oid': 13, 'next_clock': 1193845760, 'value': 31389, '#name': 'analog_in_state', '#sent_time': 383310.49793612, '#receive_time': 383310.894665516}
mcu 'mcu': got {'oid': 22, 'next_clock': 1199605760, 'value': 31382, '#name': 'analog_in_state', '#sent_time': 383310.49793612, '#receive_time': 383310.984682981}
Loaded MCU 'PIS' 106 commands (v0.12.0-132-ge37b007f / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Configured MCU 'mcu' (1024 moves)
Sending MCU 'PIS' printer configuration...
Configured MCU 'PIS' (1024 moves)
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (52.0, 24.0)    | (9.5, 15.0)
  1   | (100.2, 24.0)   | (57.8, 15.0)
  2   | (148.5, 24.0)   | (106.0, 15.0)
  3   | (196.8, 24.0)   | (154.2, 15.0)
  4   | (245.0, 24.0)   | (202.5, 15.0)
  5   | (245.0, 75.2)   | (202.5, 66.2)
  6   | (196.8, 75.2)   | (154.2, 66.2)
  7   | (148.5, 75.2)   | (106.0, 66.2)
  8   | (100.2, 75.2)   | (57.8, 66.2)
  9   | (52.0, 75.2)    | (9.5, 66.2)
  10  | (52.0, 126.5)   | (9.5, 117.5)
  11  | (100.2, 126.5)  | (57.8, 117.5)
  12  | (148.5, 126.5)  | (106.0, 117.5)
  13  | (196.8, 126.5)  | (154.2, 117.5)
  14  | (245.0, 126.5)  | (202.5, 117.5)
  15  | (245.0, 177.8)  | (202.5, 168.8)
  16  | (196.8, 177.8)  | (154.2, 168.8)
  17  | (148.5, 177.8)  | (106.0, 168.8)
  18  | (100.2, 177.8)  | (57.8, 168.8)
  19  | (52.0, 177.8)   | (9.5, 168.8)
  20  | (52.0, 229.0)   | (9.5, 220.0)
  21  | (100.2, 229.0)  | (57.8, 220.0)
  22  | (148.5, 229.0)  | (106.0, 220.0)
  23  | (196.8, 229.0)  | (154.2, 220.0)
  24  | (245.0, 229.0)  | (202.5, 220.0)
Starting heater checks for heater_bed
Starting heater checks for extruder
webhooks: registering remote method 'shutdown_machine' for connection id: 135448706727648
webhooks: registering remote method 'reboot_machine' for connection id: 135448706727648
webhooks: registering remote method 'pause_job_queue' for connection id: 135448706727648
webhooks: registering remote method 'start_job_queue' for connection id: 135448706727648
webhooks: registering remote method 'timelapse_newframe' for connection id: 135448706727648
webhooks: registering remote method 'timelapse_saveFrames' for connection id: 135448706727648
webhooks: registering remote method 'timelapse_render' for connection id: 135448706727648
b'Got EOF when reading from device'
Timeout with MCU 'PIS' (eventtime=385561.358647)
Transition to shutdown state: Lost communication with MCU 'PIS'
Dumping gcode input 0 blocks
Dumping 20 requests for client 135448706727648
Received 384976.751913: b'{"id": 135512733219088, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385006.780914: b'{"id": 135512733006864, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385036.816810: b'{"id": 135512759366608, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385066.844493: b'{"id": 135512733216448, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385096.871260: b'{"id": 135512760614720, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385126.900131: b'{"id": 135512759415760, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385156.929050: b'{"id": 135512759281232, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385186.957436: b'{"id": 135512733209584, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385216.988533: b'{"id": 135512733205120, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385247.016124: b'{"id": 135512733218512, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385277.045024: b'{"id": 135512759416288, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385307.074981: b'{"id": 135512758992512, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385337.106512: b'{"id": 135512760608240, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385367.135331: b'{"id": 135512759444880, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385397.164291: b'{"id": 135512759580848, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385427.192617: b'{"id": 135512759575616, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385457.221713: b'{"id": 135512759574752, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385487.253252: b'{"id": 135512759449872, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385517.282361: b'{"id": 135512759450064, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385547.311110: b'{"id": 135512760614528, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
gcode state: absolute_coord=True absolute_extrude=True base_position=[0.0, 0.0, 0.0, 0.0] last_position=[0.0, 0.0, 0.0, 0.0] homing_position=[0.0, 0.0, 0.0, 0.0] speed_factor=0.016666666666666666 extrude_factor=1.0 speed=25.0
Reactor garbage collection: (385186.957618696, 384676.451502284, 0.0)
MCU 'mcu' shutdown: Command request
clocksync state: mcu_freq=64000000 last_clock=424369686000 clock_est=(385532.764 422542245840 63997552.786) min_half_rtt=0.000095 min_rtt_time=384428.019 time_avg=385532.764(843.486) clock_avg=422542245840.246(53981019852.336) pred_variance=1381265.853
Dumping serial stats: bytes_write=35330 bytes_read=280664 bytes_retransmit=0 bytes_invalid=0 send_seq=4125 receive_seq=4125 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0
Dumping send queue 100 messages
Sent 0 385486.484217 385486.484217 6: seq: 19, get_clock
Sent 1 385487.469142 385487.469142 6: seq: 1a, get_clock
Sent 2 385488.453297 385488.453297 6: seq: 1b, get_clock
Sent 3 385489.438052 385489.438052 6: seq: 1c, get_clock
Sent 4 385490.422978 385490.422978 6: seq: 1d, get_clock
Sent 5 385491.407679 385491.407679 6: seq: 1e, get_clock
Sent 6 385492.392423 385492.392423 6: seq: 1f, get_clock
Sent 7 385493.377316 385493.377316 6: seq: 10, get_clock
Sent 8 385494.361488 385494.361488 6: seq: 11, get_clock
Sent 9 385495.346258 385495.346258 6: seq: 12, get_clock
Sent 10 385496.331016 385496.331016 6: seq: 13, get_clock
Sent 11 385497.315883 385497.315883 6: seq: 14, get_clock
Sent 12 385498.300932 385498.300932 6: seq: 15, get_clock
Sent 13 385499.285437 385499.285437 6: seq: 16, get_clock
Sent 14 385500.270007 385500.270007 6: seq: 17, get_clock
Sent 15 385501.254718 385501.254718 6: seq: 18, get_clock
Sent 16 385502.239235 385502.239235 6: seq: 19, get_clock
Sent 17 385503.223352 385503.223352 6: seq: 1a, get_clock
Sent 18 385504.208035 385504.208035 6: seq: 1b, get_clock
Sent 19 385505.192953 385505.192953 6: seq: 1c, get_clock
Sent 20 385506.177844 385506.177844 6: seq: 1d, get_clock
Sent 21 385507.162712 385507.162712 6: seq: 1e, get_clock
Sent 22 385508.147171 385508.147171 6: seq: 1f, get_clock
Sent 23 385509.131815 385509.131815 6: seq: 10, get_clock
Sent 24 385510.116726 385510.116726 6: seq: 11, get_clock
Sent 25 385511.101238 385511.101238 6: seq: 12, get_clock
Sent 26 385511.320384 385511.320384 14: seq: 13, st7920_send_cmds oid=3 cmds=b'\x82', st7920_send_data oid=3 data=b'4 '
Sent 27 385511.821567 385511.821567 9: seq: 14, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 28 385511.827219 385511.827219 10: seq: 15, st7920_send_data oid=3 data=b'3 '
Sent 29 385512.085878 385512.085878 6: seq: 16, get_clock
Sent 30 385513.071095 385513.071095 6: seq: 17, get_clock
Sent 31 385514.055916 385514.055916 6: seq: 18, get_clock
Sent 32 385514.826717 385514.826717 9: seq: 19, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 33 385514.832219 385514.832219 10: seq: 1a, st7920_send_data oid=3 data=b'4 '
Sent 34 385515.040006 385515.040006 6: seq: 1b, get_clock
Sent 35 385515.831941 385515.831941 9: seq: 1c, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 36 385515.837750 385515.837750 10: seq: 1d, st7920_send_data oid=3 data=b'3 '
Sent 37 385516.025033 385516.025033 6: seq: 1e, get_clock
Sent 38 385517.010051 385517.010051 6: seq: 1f, get_clock
Sent 39 385517.994310 385517.994310 6: seq: 10, get_clock
Sent 40 385518.979089 385518.979089 6: seq: 11, get_clock
Sent 41 385519.964007 385519.964007 6: seq: 12, get_clock
Sent 42 385520.948209 385520.948209 6: seq: 13, get_clock
Sent 43 385521.933069 385521.933069 6: seq: 14, get_clock
Sent 44 385522.917806 385522.917806 6: seq: 15, get_clock
Sent 45 385523.902703 385523.902703 6: seq: 16, get_clock
Sent 46 385524.339299 385524.339299 14: seq: 17, st7920_send_cmds oid=3 cmds=b'\x82', st7920_send_data oid=3 data=b'4 '
Sent 47 385524.839563 385524.839563 9: seq: 18, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 48 385524.845226 385524.845226 10: seq: 19, st7920_send_data oid=3 data=b'3 '
Sent 49 385524.886797 385524.886797 6: seq: 1a, get_clock
Sent 50 385525.871578 385525.871578 6: seq: 1b, get_clock
Sent 51 385526.856461 385526.856461 6: seq: 1c, get_clock
Sent 52 385527.841001 385527.841001 6: seq: 1d, get_clock
Sent 53 385528.825412 385528.825412 6: seq: 1e, get_clock
Sent 54 385529.810140 385529.810140 6: seq: 1f, get_clock
Sent 55 385530.795084 385530.795084 6: seq: 10, get_clock
Sent 56 385531.779097 385531.779097 6: seq: 11, get_clock
Sent 57 385532.764021 385532.764021 6: seq: 12, get_clock
Sent 58 385532.849198 385532.849198 14: seq: 13, st7920_send_cmds oid=3 cmds=b'\x82', st7920_send_data oid=3 data=b'4 '
Sent 59 385533.349869 385533.349869 14: seq: 14, st7920_send_cmds oid=3 cmds=b'\x82', st7920_send_data oid=3 data=b'3 '
Sent 60 385533.748304 385533.748304 6: seq: 15, get_clock
Sent 61 385533.850240 385533.850240 9: seq: 16, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 62 385533.856205 385533.856205 10: seq: 17, st7920_send_data oid=3 data=b'4 '
Sent 63 385534.351108 385534.351108 9: seq: 18, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 64 385534.356221 385534.356221 10: seq: 19, st7920_send_data oid=3 data=b'3 '
Sent 65 385534.732556 385534.732556 6: seq: 1a, get_clock
Sent 66 385535.717758 385535.717758 6: seq: 1b, get_clock
Sent 67 385536.702850 385536.702850 6: seq: 1c, get_clock
Sent 68 385537.687069 385537.687069 6: seq: 1d, get_clock
Sent 69 385538.671707 385538.671707 6: seq: 1e, get_clock
Sent 70 385539.656804 385539.656804 6: seq: 1f, get_clock
Sent 71 385540.641111 385540.641111 6: seq: 10, get_clock
Sent 72 385541.625907 385541.625907 6: seq: 11, get_clock
Sent 73 385542.610745 385542.610745 6: seq: 12, get_clock
Sent 74 385543.595421 385543.595421 6: seq: 13, get_clock
Sent 75 385544.580250 385544.580250 6: seq: 14, get_clock
Sent 76 385545.564793 385545.564793 6: seq: 15, get_clock
Sent 77 385546.549693 385546.549693 6: seq: 16, get_clock
Sent 78 385547.534052 385547.534052 6: seq: 17, get_clock
Sent 79 385548.518272 385548.518272 6: seq: 18, get_clock
Sent 80 385548.871187 385548.871187 9: seq: 19, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 81 385548.877222 385548.877222 10: seq: 1a, st7920_send_data oid=3 data=b'4 '
Sent 82 385549.503172 385549.503172 6: seq: 1b, get_clock
Sent 83 385549.872842 385549.872842 9: seq: 1c, st7920_send_cmds oid=3 cmds=b'\x82'
Sent 84 385549.878227 385549.878227 10: seq: 1d, st7920_send_data oid=3 data=b'3 '
Sent 85 385550.487857 385550.487857 6: seq: 1e, get_clock
Sent 86 385551.472447 385551.472447 6: seq: 1f, get_clock
Sent 87 385552.456575 385552.456575 6: seq: 10, get_clock
Sent 88 385553.376309 385553.376309 14: seq: 11, st7920_send_cmds oid=3 cmds=b'\x82', st7920_send_data oid=3 data=b'4 '
Sent 89 385553.441512 385553.441512 6: seq: 12, get_clock
Sent 90 385553.876410 385553.876410 14: seq: 13, st7920_send_cmds oid=3 cmds=b'\x82', st7920_send_data oid=3 data=b'3 '
Sent 91 385554.426351 385554.426351 6: seq: 14, get_clock
Sent 92 385555.410895 385555.410895 6: seq: 15, get_clock
Sent 93 385556.394869 385556.394869 6: seq: 16, get_clock
Sent 94 385557.379836 385557.379836 6: seq: 17, get_clock
Sent 95 385558.364576 385558.364576 6: seq: 18, get_clock
Sent 96 385559.348723 385559.348723 6: seq: 19, get_clock
Sent 97 385560.333888 385560.333888 6: seq: 1a, get_clock
Sent 98 385561.318741 385561.318741 6: seq: 1b, get_clock
Sent 99 385561.359835 385561.359835 6: seq: 1c, emergency_stop
Dumping receive queue 100 messages
Receive: 0 385548.880134 385548.877222 15: seq: 1b, analog_in_state oid=13 next_clock=2685524992 value=31419
Receive: 1 385548.970168 385548.877222 15: seq: 1b, analog_in_state oid=22 next_clock=2691284992 value=31385
Receive: 2 385549.180167 385548.877222 15: seq: 1b, analog_in_state oid=13 next_clock=2704724992 value=31420
Receive: 3 385549.270162 385548.877222 15: seq: 1b, analog_in_state oid=22 next_clock=2710484992 value=31385
Receive: 4 385549.480161 385548.877222 15: seq: 1b, analog_in_state oid=13 next_clock=2723924992 value=31417
Receive: 5 385549.504144 385549.503172 11: seq: 1c, clock clock=2706723453
Receive: 6 385549.570187 385549.503172 15: seq: 1c, analog_in_state oid=22 next_clock=2729684992 value=31383
Receive: 7 385549.780165 385549.503172 15: seq: 1c, analog_in_state oid=13 next_clock=2743124992 value=31414
Receive: 8 385549.870164 385549.503172 15: seq: 1c, analog_in_state oid=22 next_clock=2748884992 value=31392
Receive: 9 385550.080165 385549.878227 15: seq: 1e, analog_in_state oid=13 next_clock=2762324992 value=31418
Receive: 10 385550.170169 385549.878227 15: seq: 1e, analog_in_state oid=22 next_clock=2768084992 value=31394
Receive: 11 385550.380169 385549.878227 15: seq: 1e, analog_in_state oid=13 next_clock=2781524992 value=31415
Receive: 12 385550.470162 385549.878227 15: seq: 1e, analog_in_state oid=22 next_clock=2787284992 value=31388
Receive: 13 385550.488148 385550.487857 11: seq: 1f, clock clock=2769740743
Receive: 14 385550.680164 385550.487857 15: seq: 1f, analog_in_state oid=13 next_clock=2800724992 value=31402
Receive: 15 385550.770248 385550.487857 15: seq: 1f, analog_in_state oid=22 next_clock=2806484992 value=31388
Receive: 16 385550.980178 385550.487857 15: seq: 1f, analog_in_state oid=13 next_clock=2819924992 value=31420
Receive: 17 385551.070166 385550.487857 15: seq: 1f, analog_in_state oid=22 next_clock=2825684992 value=31383
Receive: 18 385551.280176 385550.487857 15: seq: 1f, analog_in_state oid=13 next_clock=2839124992 value=31406
Receive: 19 385551.370162 385550.487857 15: seq: 1f, analog_in_state oid=22 next_clock=2844884992 value=31392
Receive: 20 385551.473150 385551.472447 11: seq: 10, clock clock=2832752225
Receive: 21 385551.580173 385551.472447 15: seq: 10, analog_in_state oid=13 next_clock=2858324992 value=31406
Receive: 22 385551.670162 385551.472447 15: seq: 10, analog_in_state oid=22 next_clock=2864084992 value=31381
Receive: 23 385551.880170 385551.472447 15: seq: 10, analog_in_state oid=13 next_clock=2877524992 value=31414
Receive: 24 385551.970196 385551.472447 15: seq: 10, analog_in_state oid=22 next_clock=2883284992 value=31392
Receive: 25 385552.180156 385551.472447 15: seq: 10, analog_in_state oid=13 next_clock=2896724992 value=31421
Receive: 26 385552.270176 385551.472447 15: seq: 10, analog_in_state oid=22 next_clock=2902484992 value=31370
Receive: 27 385552.457164 385552.456575 11: seq: 11, clock clock=2895734215
Receive: 28 385552.480150 385552.456575 15: seq: 11, analog_in_state oid=13 next_clock=2915924992 value=31408
Receive: 29 385552.570171 385552.456575 15: seq: 11, analog_in_state oid=22 next_clock=2921684992 value=31404
Receive: 30 385552.743169 385552.456575 14: seq: 11, stats count=178 sum=153571 sumsq=950620
Receive: 31 385552.780166 385552.456575 15: seq: 11, analog_in_state oid=13 next_clock=2935124992 value=31420
Receive: 32 385552.870181 385552.456575 15: seq: 11, analog_in_state oid=22 next_clock=2940884992 value=31372
Receive: 33 385553.080164 385552.456575 15: seq: 11, analog_in_state oid=13 next_clock=2954324992 value=31403
Receive: 34 385553.170197 385552.456575 15: seq: 11, analog_in_state oid=22 next_clock=2960084992 value=31375
Receive: 35 385553.380135 385553.376309 15: seq: 12, analog_in_state oid=13 next_clock=2973524992 value=31420
Receive: 36 385553.442159 385553.441512 11: seq: 13, clock clock=2958767728
Receive: 37 385553.470149 385553.441512 15: seq: 13, analog_in_state oid=22 next_clock=2979284992 value=31378
Receive: 38 385553.680170 385553.441512 15: seq: 13, analog_in_state oid=13 next_clock=2992724992 value=31421
Receive: 39 385553.770232 385553.441512 15: seq: 13, analog_in_state oid=22 next_clock=2998484992 value=31392
Receive: 40 385553.980166 385553.876410 15: seq: 14, analog_in_state oid=13 next_clock=3011924992 value=31425
Receive: 41 385554.070185 385553.876410 15: seq: 14, analog_in_state oid=22 next_clock=3017684992 value=31398
Receive: 42 385554.280166 385553.876410 15: seq: 14, analog_in_state oid=13 next_clock=3031124992 value=31412
Receive: 43 385554.370185 385553.876410 15: seq: 14, analog_in_state oid=22 next_clock=3036884992 value=31380
Receive: 44 385554.427149 385554.426351 11: seq: 15, clock clock=3021794504
Receive: 45 385554.580175 385554.426351 15: seq: 15, analog_in_state oid=13 next_clock=3050324992 value=31421
Receive: 46 385554.670186 385554.426351 15: seq: 15, analog_in_state oid=22 next_clock=3056084992 value=31385
Receive: 47 385554.880168 385554.426351 15: seq: 15, analog_in_state oid=13 next_clock=3069524992 value=31405
Receive: 48 385554.970180 385554.426351 15: seq: 15, analog_in_state oid=22 next_clock=3075284992 value=31389
Receive: 49 385555.180164 385554.426351 15: seq: 15, analog_in_state oid=13 next_clock=3088724992 value=31417
Receive: 50 385555.270154 385554.426351 15: seq: 15, analog_in_state oid=22 next_clock=3094484992 value=31389
Receive: 51 385555.411139 385555.410895 11: seq: 16, clock clock=3084802828
Receive: 52 385555.480160 385555.410895 15: seq: 16, analog_in_state oid=13 next_clock=3107924992 value=31410
Receive: 53 385555.570161 385555.410895 15: seq: 16, analog_in_state oid=22 next_clock=3113684992 value=31380
Receive: 54 385555.780177 385555.410895 15: seq: 16, analog_in_state oid=13 next_clock=3127124992 value=31418
Receive: 55 385555.870168 385555.410895 15: seq: 16, analog_in_state oid=22 next_clock=3132884992 value=31387
Receive: 56 385556.080159 385555.410895 15: seq: 16, analog_in_state oid=13 next_clock=3146324992 value=31417
Receive: 57 385556.170170 385555.410895 15: seq: 16, analog_in_state oid=22 next_clock=3152084992 value=31385
Receive: 58 385556.380159 385555.410895 15: seq: 16, analog_in_state oid=13 next_clock=3165524992 value=31421
Receive: 59 385556.395146 385556.394869 11: seq: 17, clock clock=3147774759
Receive: 60 385556.470161 385556.394869 15: seq: 17, analog_in_state oid=22 next_clock=3171284992 value=31388
Receive: 61 385556.680162 385556.394869 15: seq: 17, analog_in_state oid=13 next_clock=3184724992 value=31417
Receive: 62 385556.770163 385556.394869 15: seq: 17, analog_in_state oid=22 next_clock=3190484992 value=31382
Receive: 63 385556.980163 385556.394869 15: seq: 17, analog_in_state oid=13 next_clock=3203924992 value=31403
Receive: 64 385557.070160 385556.394869 15: seq: 17, analog_in_state oid=22 next_clock=3209684992 value=31383
Receive: 65 385557.282548 385556.394869 15: seq: 17, analog_in_state oid=13 next_clock=3223124992 value=31426
Receive: 66 385557.370156 385556.394869 15: seq: 17, analog_in_state oid=22 next_clock=3228884992 value=31383
Receive: 67 385557.380142 385557.379836 11: seq: 18, clock clock=3210810367
Receive: 68 385557.580185 385557.379836 15: seq: 18, analog_in_state oid=13 next_clock=3242324992 value=31417
Receive: 69 385557.670169 385557.379836 15: seq: 18, analog_in_state oid=22 next_clock=3248084992 value=31386
Receive: 70 385557.843161 385557.379836 14: seq: 18, stats count=176 sum=154104 sumsq=1166988
Receive: 71 385557.880168 385557.379836 15: seq: 18, analog_in_state oid=13 next_clock=3261524992 value=31406
Receive: 72 385557.970179 385557.379836 15: seq: 18, analog_in_state oid=22 next_clock=3267284992 value=31390
Receive: 73 385558.180174 385557.379836 15: seq: 18, analog_in_state oid=13 next_clock=3280724992 value=31417
Receive: 74 385558.270176 385557.379836 15: seq: 18, analog_in_state oid=22 next_clock=3286484992 value=31390
Receive: 75 385558.365157 385558.364576 11: seq: 19, clock clock=3273831593
Receive: 76 385558.480168 385558.364576 15: seq: 19, analog_in_state oid=13 next_clock=3299924992 value=31409
Receive: 77 385558.570163 385558.364576 15: seq: 19, analog_in_state oid=22 next_clock=3305684992 value=31388
Receive: 78 385558.780166 385558.364576 15: seq: 19, analog_in_state oid=13 next_clock=3319124992 value=31424
Receive: 79 385558.870183 385558.364576 15: seq: 19, analog_in_state oid=22 next_clock=3324884992 value=31378
Receive: 80 385559.080171 385558.364576 15: seq: 19, analog_in_state oid=13 next_clock=3338324992 value=31423
Receive: 81 385559.170173 385558.364576 15: seq: 19, analog_in_state oid=22 next_clock=3344084992 value=31378
Receive: 82 385559.349140 385559.348723 11: seq: 1a, clock clock=3336814644
Receive: 83 385559.380162 385559.348723 15: seq: 1a, analog_in_state oid=13 next_clock=3357524992 value=31419
Receive: 84 385559.470161 385559.348723 15: seq: 1a, analog_in_state oid=22 next_clock=3363284992 value=31388
Receive: 85 385559.680161 385559.348723 15: seq: 1a, analog_in_state oid=13 next_clock=3376724992 value=31405
Receive: 86 385559.770186 385559.348723 15: seq: 1a, analog_in_state oid=22 next_clock=3382484992 value=31390
Receive: 87 385559.980177 385559.348723 15: seq: 1a, analog_in_state oid=13 next_clock=3395924992 value=31409
Receive: 88 385560.070181 385559.348723 15: seq: 1a, analog_in_state oid=22 next_clock=3401684992 value=31381
Receive: 89 385560.280169 385559.348723 15: seq: 1a, analog_in_state oid=13 next_clock=3415124992 value=31422
Receive: 90 385560.334154 385560.333888 11: seq: 1b, clock clock=3399862903
Receive: 91 385560.370174 385560.333888 15: seq: 1b, analog_in_state oid=22 next_clock=3420884992 value=31390
Receive: 92 385560.580164 385560.333888 15: seq: 1b, analog_in_state oid=13 next_clock=3434324992 value=31413
Receive: 93 385560.670163 385560.333888 15: seq: 1b, analog_in_state oid=22 next_clock=3440084992 value=31383
Receive: 94 385560.880174 385560.333888 15: seq: 1b, analog_in_state oid=13 next_clock=3453524992 value=31421
Receive: 95 385560.970168 385560.333888 15: seq: 1b, analog_in_state oid=22 next_clock=3459284992 value=31395
Receive: 96 385561.180168 385560.333888 15: seq: 1b, analog_in_state oid=13 next_clock=3472724992 value=31411
Receive: 97 385561.270168 385560.333888 15: seq: 1b, analog_in_state oid=22 next_clock=3478484992 value=31384
Receive: 98 385561.319156 385561.318741 11: seq: 1c, clock clock=3462890992
Receive: 99 385561.362014 385561.359835 12: seq: 1d, shutdown clock=3465521061 static_string_id=Command request
webhooks client 135448706727648: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:32:16 2024 (1711398737.0 385716.4)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448637087776: New connection
webhooks client 135448637087776: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
mcu 'mcu': got {'oid': 13, 'next_clock': 591023104, 'value': 31400, '#name': 'analog_in_state', '#sent_time': 385717.457663353, '#receive_time': 385717.486203748}
mcu 'mcu': got {'oid': 22, 'next_clock': 596783104, 'value': 31336, '#name': 'analog_in_state', '#sent_time': 385717.560201436, '#receive_time': 385717.57620038}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
mcu 'mcu': got {'oid': 13, 'next_clock': 610223104, 'value': 31384, '#name': 'analog_in_state', '#sent_time': 385717.720398911, '#receive_time': 385717.786243942}
mcu 'mcu': got {'oid': 22, 'next_clock': 615983104, 'value': 31353, '#name': 'analog_in_state', '#sent_time': 385717.720398911, '#receive_time': 385717.87618427}
mcu 'mcu': got {'oid': 13, 'next_clock': 629423104, 'value': 31391, '#name': 'analog_in_state', '#sent_time': 385717.720398911, '#receive_time': 385718.086205433}
mcu 'mcu': got {'oid': 22, 'next_clock': 635183104, 'value': 31349, '#name': 'analog_in_state', '#sent_time': 385717.720398911, '#receive_time': 385718.176199701}
mcu 'mcu': got {'oid': 13, 'next_clock': 648623104, 'value': 31399, '#name': 'analog_in_state', '#sent_time': 385717.720398911, '#receive_time': 385718.386205284}
Loaded MCU 'PIS' 106 commands (v0.12.0-132-ge37b007f / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
MCU error during connect
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 180, in _connect
    cb()
  File "/home/turbo/klipper/klippy/mcu.py", line 718, in _connect
    config_params = self._send_get_config()
  File "/home/turbo/klipper/klippy/mcu.py", line 704, in _send_get_config
    raise error("Can not update MCU '%s' config as it is shutdown" % (
mcu.error: Can not update MCU 'mcu' config as it is shutdown
Build file /home/turbo/klipper/klippy/../.config(1648): Mon Mar 25 20:47:58 2024
========= Last MCU build config =========
# CONFIG_LOW_LEVEL_OPTIONS is not set
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
CONFIG_MACH_RP2040=y
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="rp2040"
CONFIG_MCU="rp2040"
CONFIG_CLOCK_FREQ=12000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x200000
CONFIG_FLASH_BOOT_ADDRESS=0x10000100
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x42000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x10000100
CONFIG_RP2040_SELECT=y
CONFIG_RP2040_HAVE_STAGE2=y
CONFIG_RP2040_FLASH_START_0100=y
# CONFIG_RP2040_FLASH_START_4000 is not set
CONFIG_RP2040_STAGE2_FILE="boot2_w25q080.S"
CONFIG_RP2040_STAGE2_CLKDIV=2
CONFIG_RP2040_USB=y
# CONFIG_RP2040_SERIAL_UART0 is not set
# CONFIG_RP2040_CANBUS is not set
# CONFIG_RP2040_USBCANBUS is not set
CONFIG_RP2040_CANBUS_GPIO_RX=4
CONFIG_RP2040_CANBUS_GPIO_TX=5
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_NEED_SENSOR_BULK=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_HAVE_BOOTLOADER_REQUEST=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/turbo/klipper/klippy/../out/klipper.dict(8088): Mon Mar 25 20:48:04 2024
Last MCU build version: v0.12.0-132-ge37b007f
Last MCU build tools: gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/turbo/klipper/klippy/../out/klipper.elf(1793968): Mon Mar 25 20:48:07 2024
mcu 'mcu': got {'oid': 22, 'next_clock': 654383104, 'value': 31334, '#name': 'analog_in_state', '#sent_time': 385718.396127834, '#receive_time': 385718.476199943}
mcu 'mcu': got {'oid': 13, 'next_clock': 667823104, 'value': 31395, '#name': 'analog_in_state', '#sent_time': 385718.396127834, '#receive_time': 385718.686221915}
mcu 'mcu': got {'oid': 22, 'next_clock': 673583104, 'value': 31335, '#name': 'analog_in_state', '#sent_time': 385718.705330256, '#receive_time': 385718.776206023}
mcu 'mcu': got {'oid': 13, 'next_clock': 687023104, 'value': 31405, '#name': 'analog_in_state', '#sent_time': 385718.705330256, '#receive_time': 385718.986201099}
mcu 'mcu': got {'oid': 22, 'next_clock': 692783104, 'value': 31350, '#name': 'analog_in_state', '#sent_time': 385718.705330256, '#receive_time': 385719.076200954}
mcu 'mcu': got {'oid': 13, 'next_clock': 706223104, 'value': 31411, '#name': 'analog_in_state', '#sent_time': 385718.705330256, '#receive_time': 385719.286225813}
mcu 'mcu': got {'oid': 22, 'next_clock': 711983104, 'value': 31340, '#name': 'analog_in_state', '#sent_time': 385718.705330256, '#receive_time': 385719.37619434}
mcu 'mcu': got {'oid': 13, 'next_clock': 725423104, 'value': 31387, '#name': 'analog_in_state', '#sent_time': 385718.705330256, '#receive_time': 385719.588457754}
mcu 'mcu': got {'oid': 22, 'next_clock': 731183104, 'value': 31351, '#name': 'analog_in_state', '#sent_time': 385718.705330256, '#receive_time': 385719.676214243}
mcu 'mcu': got {'oid': 13, 'next_clock': 744623104, 'value': 31408, '#name': 'analog_in_state', '#sent_time': 385719.689956243, '#receive_time': 385719.886217592}
mcu 'mcu': got {'oid': 22, 'next_clock': 750383104, 'value': 31346, '#name': 'analog_in_state', '#sent_time': 385719.689956243, '#receive_time': 385719.97619881}
mcu 'mcu': got {'oid': 13, 'next_clock': 763823104, 'value': 31402, '#name': 'analog_in_state', '#sent_time': 385719.689956243, '#receive_time': 385720.186688093}
mcu 'mcu': got {'oid': 22, 'next_clock': 769583104, 'value': 31342, '#name': 'analog_in_state', '#sent_time': 385719.689956243, '#receive_time': 385720.276204547}
mcu 'mcu': got {'oid': 13, 'next_clock': 783023104, 'value': 31412, '#name': 'analog_in_state', '#sent_time': 385719.689956243, '#receive_time': 385720.486251268}
mcu 'mcu': got {'oid': 22, 'next_clock': 788783104, 'value': 31348, '#name': 'analog_in_state', '#sent_time': 385719.689956243, '#receive_time': 385720.576209839}
mcu 'mcu': got {'oid': 13, 'next_clock': 802223104, 'value': 31402, '#name': 'analog_in_state', '#sent_time': 385720.674894812, '#receive_time': 385720.786223889}
mcu 'mcu': got {'oid': 22, 'next_clock': 807983104, 'value': 31344, '#name': 'analog_in_state', '#sent_time': 385720.674894812, '#receive_time': 385720.876214921}
mcu 'mcu': got {'oid': 13, 'next_clock': 821423104, 'value': 31393, '#name': 'analog_in_state', '#sent_time': 385720.674894812, '#receive_time': 385721.086233819}
mcu 'mcu': got {'oid': 22, 'next_clock': 827183104, 'value': 31347, '#name': 'analog_in_state', '#sent_time': 385720.674894812, '#receive_time': 385721.176234165}
mcu 'mcu': got {'oid': 13, 'next_clock': 840623104, 'value': 31402, '#name': 'analog_in_state', '#sent_time': 385720.674894812, '#receive_time': 385721.386199195}
mcu 'mcu': got {'oid': 22, 'next_clock': 846383104, 'value': 31353, '#name': 'analog_in_state', '#sent_time': 385720.674894812, '#receive_time': 385721.476203382}
mcu 'mcu': got {'oid': 13, 'next_clock': 859823104, 'value': 31403, '#name': 'analog_in_state', '#sent_time': 385721.659091223, '#receive_time': 385721.686203224}
mcu 'mcu': got {'oid': 22, 'next_clock': 865583104, 'value': 31334, '#name': 'analog_in_state', '#sent_time': 385721.659091223, '#receive_time': 385721.77620769}
mcu 'mcu': got {'oid': 13, 'next_clock': 879023104, 'value': 31399, '#name': 'analog_in_state', '#sent_time': 385721.659091223, '#receive_time': 385721.98620466}
mcu 'mcu': got {'oid': 22, 'next_clock': 884783104, 'value': 31353, '#name': 'analog_in_state', '#sent_time': 385721.659091223, '#receive_time': 385722.076227298}
mcu 'mcu': got {'oid': 13, 'next_clock': 898223104, 'value': 31411, '#name': 'analog_in_state', '#sent_time': 385721.659091223, '#receive_time': 385722.286208157}
mcu 'mcu': got {'oid': 22, 'next_clock': 903983104, 'value': 31329, '#name': 'analog_in_state', '#sent_time': 385721.659091223, '#receive_time': 385722.37620942}
mcu 'mcu': got {'oid': 13, 'next_clock': 917423104, 'value': 31407, '#name': 'analog_in_state', '#sent_time': 385721.659091223, '#receive_time': 385722.586204872}
mcu 'mcu': got {'oid': 22, 'next_clock': 923183104, 'value': 31344, '#name': 'analog_in_state', '#sent_time': 385722.643896405, '#receive_time': 385722.676253726}
mcu 'mcu': got {'oid': 13, 'next_clock': 936623104, 'value': 31403, '#name': 'analog_in_state', '#sent_time': 385722.643896405, '#receive_time': 385722.88620035}
mcu 'mcu': got {'oid': 22, 'next_clock': 942383104, 'value': 31343, '#name': 'analog_in_state', '#sent_time': 385722.643896405, '#receive_time': 385722.976212077}
Attempting MCU 'mcu' reset command
Attempting MCU 'PIS' reset command
webhooks client 135448637087776: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:32:24 2024 (1711398744.7 385724.1)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448637308544: New connection
webhooks client 135448637308544: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
Loaded MCU 'PIS' 106 commands (v0.12.0-132-ge37b007f / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'PIS' printer configuration...
Configured MCU 'PIS' (1024 moves)
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (52.0, 24.0)    | (9.5, 15.0)
  1   | (100.2, 24.0)   | (57.8, 15.0)
  2   | (148.5, 24.0)   | (106.0, 15.0)
  3   | (196.8, 24.0)   | (154.2, 15.0)
  4   | (245.0, 24.0)   | (202.5, 15.0)
  5   | (245.0, 75.2)   | (202.5, 66.2)
  6   | (196.8, 75.2)   | (154.2, 66.2)
  7   | (148.5, 75.2)   | (106.0, 66.2)
  8   | (100.2, 75.2)   | (57.8, 66.2)
  9   | (52.0, 75.2)    | (9.5, 66.2)
  10  | (52.0, 126.5)   | (9.5, 117.5)
  11  | (100.2, 126.5)  | (57.8, 117.5)
  12  | (148.5, 126.5)  | (106.0, 117.5)
  13  | (196.8, 126.5)  | (154.2, 117.5)
  14  | (245.0, 126.5)  | (202.5, 117.5)
  15  | (245.0, 177.8)  | (202.5, 168.8)
  16  | (196.8, 177.8)  | (154.2, 168.8)
  17  | (148.5, 177.8)  | (106.0, 168.8)
  18  | (100.2, 177.8)  | (57.8, 168.8)
  19  | (52.0, 177.8)   | (9.5, 168.8)
  20  | (52.0, 229.0)   | (9.5, 220.0)
  21  | (100.2, 229.0)  | (57.8, 220.0)
  22  | (148.5, 229.0)  | (106.0, 220.0)
  23  | (196.8, 229.0)  | (154.2, 220.0)
  24  | (245.0, 229.0)  | (202.5, 220.0)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 385727.4: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=3255 bytes_read=5756 bytes_retransmit=9 bytes_invalid=0 send_seq=220 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=1839 upcoming_bytes=0 freq=63998879 PIS: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=799 bytes_read=4147 bytes_retransmit=9 bytes_invalid=0 send_seq=108 receive_seq=108 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12004489 adj=12000107  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.76 cputime=28.560 memavail=3291964 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 135448637308544
webhooks: registering remote method 'reboot_machine' for connection id: 135448637308544
webhooks: registering remote method 'pause_job_queue' for connection id: 135448637308544
webhooks: registering remote method 'start_job_queue' for connection id: 135448637308544
webhooks: registering remote method 'timelapse_newframe' for connection id: 135448637308544
webhooks: registering remote method 'timelapse_saveFrames' for connection id: 135448637308544
webhooks: registering remote method 'timelapse_render' for connection id: 135448637308544
Stats 385728.4: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000061 mcu_task_stddev=0.000190 bytes_write=5285 bytes_read=6139 bytes_retransmit=9 bytes_invalid=0 send_seq=258 receive_seq=258 retransmit_seq=2 srtt=0.004 rttvar=0.005 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63998250 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=805 bytes_read=4176 bytes_retransmit=9 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001326 adj=12006902  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.76 cputime=28.580 memavail=3292000 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385729.4: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000061 mcu_task_stddev=0.000190 bytes_write=5291 bytes_read=6260 bytes_retransmit=9 bytes_invalid=0 send_seq=259 receive_seq=259 retransmit_seq=2 srtt=0.004 rttvar=0.005 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63998090 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=811 bytes_read=4191 bytes_retransmit=9 bytes_invalid=0 send_seq=110 receive_seq=110 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12002676 adj=12001314  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.62 cputime=28.594 memavail=3275900 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385730.4: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000061 mcu_task_stddev=0.000190 bytes_write=5297 bytes_read=6366 bytes_retransmit=9 bytes_invalid=0 send_seq=260 receive_seq=260 retransmit_seq=2 srtt=0.004 rttvar=0.004 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997952 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=817 bytes_read=4206 bytes_retransmit=9 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001434 adj=12004028  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.62 cputime=28.603 memavail=3268656 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385731.4: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000061 mcu_task_stddev=0.000190 bytes_write=5303 bytes_read=6487 bytes_retransmit=9 bytes_invalid=0 send_seq=261 receive_seq=261 retransmit_seq=2 srtt=0.003 rttvar=0.004 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997845 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=823 bytes_read=4221 bytes_retransmit=9 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001520 adj=12001180  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.62 cputime=28.613 memavail=3270308 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385732.4: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000061 mcu_task_stddev=0.000190 bytes_write=5309 bytes_read=6608 bytes_retransmit=9 bytes_invalid=0 send_seq=262 receive_seq=262 retransmit_seq=2 srtt=0.003 rttvar=0.004 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997754 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=829 bytes_read=4236 bytes_retransmit=9 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001466 adj=12001596  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.62 cputime=28.620 memavail=3228484 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 385733.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5315 bytes_read=6728 bytes_retransmit=9 bytes_invalid=0 send_seq=263 receive_seq=263 retransmit_seq=2 srtt=0.003 rttvar=0.003 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997721 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=835 bytes_read=4262 bytes_retransmit=9 bytes_invalid=0 send_seq=114 receive_seq=114 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001216 adj=12001584  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.62 cputime=28.628 memavail=3282364 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385734.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5321 bytes_read=6849 bytes_retransmit=9 bytes_invalid=0 send_seq=264 receive_seq=264 retransmit_seq=2 srtt=0.002 rttvar=0.003 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997691 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=841 bytes_read=4277 bytes_retransmit=9 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000955 adj=12000792  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.49 cputime=28.635 memavail=3281860 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385735.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5327 bytes_read=6970 bytes_retransmit=9 bytes_invalid=0 send_seq=265 receive_seq=265 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997673 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=847 bytes_read=4292 bytes_retransmit=9 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000794 adj=12000223  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.49 cputime=28.643 memavail=3280600 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385736.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5333 bytes_read=7076 bytes_retransmit=9 bytes_invalid=0 send_seq=266 receive_seq=266 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997665 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=853 bytes_read=4307 bytes_retransmit=9 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000750 adj=11999995  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.49 cputime=28.650 memavail=3278588 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385737.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5339 bytes_read=7197 bytes_retransmit=9 bytes_invalid=0 send_seq=267 receive_seq=267 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997653 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=859 bytes_read=4322 bytes_retransmit=9 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000705 adj=12000107  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.49 cputime=28.657 memavail=3278588 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385738.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5345 bytes_read=7332 bytes_retransmit=9 bytes_invalid=0 send_seq=268 receive_seq=268 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997646 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=865 bytes_read=4348 bytes_retransmit=9 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000678 adj=12000221  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.49 cputime=28.665 memavail=3278596 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
ADXL345 starting 'adxl345' measurements
Stats 385739.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5385 bytes_read=7448 bytes_retransmit=9 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997637 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1067 bytes_read=17951 bytes_retransmit=9 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000517 adj=12000350  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.29 cputime=28.701 memavail=3278600 print_time=16.947 buffer_time=0.533 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
accelerometer values (x, y, z): 0.000000, 9959.241474, 888.247130
ADXL345 finished 'adxl345' measurements
Stats 385740.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5391 bytes_read=7569 bytes_retransmit=9 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997632 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1143 bytes_read=29220 bytes_retransmit=9 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000401 adj=11999961  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.29 cputime=28.737 memavail=3278096 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 385741.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5430 bytes_read=7700 bytes_retransmit=9 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997632 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1149 bytes_read=29236 bytes_retransmit=9 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000419 adj=11999572  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.29 cputime=28.745 memavail=3278096 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385742.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5436 bytes_read=7806 bytes_retransmit=9 bytes_invalid=0 send_seq=276 receive_seq=276 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997624 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1155 bytes_read=29252 bytes_retransmit=9 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000419 adj=11999973  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.29 cputime=28.752 memavail=3278192 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385743.4: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000039 bytes_write=5442 bytes_read=7942 bytes_retransmit=9 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997672 PIS: mcu_awake=0.113 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1161 bytes_read=29283 bytes_retransmit=9 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000398 adj=12000204  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.29 cputime=28.759 memavail=3262072 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385744.4: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000039 bytes_write=5448 bytes_read=8063 bytes_retransmit=9 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997664 PIS: mcu_awake=0.113 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1167 bytes_read=29299 bytes_retransmit=9 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000357 adj=12000216  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.18 cputime=28.766 memavail=3208652 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385745.4: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000039 bytes_write=5454 bytes_read=8169 bytes_retransmit=9 bytes_invalid=0 send_seq=279 receive_seq=279 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997657 PIS: mcu_awake=0.113 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1173 bytes_read=29315 bytes_retransmit=9 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000343 adj=12000165  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.18 cputime=28.774 memavail=3276668 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385746.4: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000039 bytes_write=5460 bytes_read=8290 bytes_retransmit=9 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997648 PIS: mcu_awake=0.113 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1179 bytes_read=29331 bytes_retransmit=9 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000379 adj=12000259  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.18 cputime=28.781 memavail=3275928 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385747.4: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000039 bytes_write=5466 bytes_read=8411 bytes_retransmit=9 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997640 PIS: mcu_awake=0.113 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1185 bytes_read=29347 bytes_retransmit=9 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000321 adj=12000599  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.18 cputime=28.789 memavail=3275928 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385748.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5472 bytes_read=8531 bytes_retransmit=9 bytes_invalid=0 send_seq=282 receive_seq=282 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997633 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1191 bytes_read=29374 bytes_retransmit=9 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000292 adj=12000330  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.18 cputime=28.796 memavail=3275712 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385749.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5478 bytes_read=8652 bytes_retransmit=9 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997625 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1197 bytes_read=29390 bytes_retransmit=9 bytes_invalid=0 send_seq=161 receive_seq=161 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000310 adj=12000270  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.01 cputime=28.803 memavail=3275208 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 385750.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5484 bytes_read=8773 bytes_retransmit=9 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997620 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1203 bytes_read=29406 bytes_retransmit=9 bytes_invalid=0 send_seq=162 receive_seq=162 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000278 adj=12000506  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=2.01 cputime=28.810 memavail=3274960 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385751.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5490 bytes_read=8879 bytes_retransmit=9 bytes_invalid=0 send_seq=285 receive_seq=285 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997618 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1209 bytes_read=29422 bytes_retransmit=9 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000261 adj=12000373  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.01 cputime=28.818 memavail=3274960 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385752.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5496 bytes_read=9000 bytes_retransmit=9 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997614 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1215 bytes_read=29438 bytes_retransmit=9 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000253 adj=12000352  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.01 cputime=28.825 memavail=3274952 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385753.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5502 bytes_read=9121 bytes_retransmit=9 bytes_invalid=0 send_seq=287 receive_seq=287 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997610 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1221 bytes_read=29465 bytes_retransmit=9 bytes_invalid=0 send_seq=165 receive_seq=165 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000265 adj=12000344  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.01 cputime=28.832 memavail=3274952 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385754.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5508 bytes_read=9241 bytes_retransmit=9 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997606 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1227 bytes_read=29481 bytes_retransmit=9 bytes_invalid=0 send_seq=166 receive_seq=166 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000246 adj=12000523  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.85 cputime=28.839 memavail=3274952 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385755.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5514 bytes_read=9362 bytes_retransmit=9 bytes_invalid=0 send_seq=289 receive_seq=289 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997605 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1233 bytes_read=29497 bytes_retransmit=9 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000228 adj=12000441  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.85 cputime=28.846 memavail=3241204 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385756.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5520 bytes_read=9483 bytes_retransmit=9 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997604 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1239 bytes_read=29513 bytes_retransmit=9 bytes_invalid=0 send_seq=168 receive_seq=168 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000226 adj=12000377  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.85 cputime=28.854 memavail=3277444 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385757.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5526 bytes_read=9589 bytes_retransmit=9 bytes_invalid=0 send_seq=291 receive_seq=291 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997607 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1245 bytes_read=29529 bytes_retransmit=9 bytes_invalid=0 send_seq=169 receive_seq=169 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000210 adj=12000435  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.85 cputime=28.861 memavail=3277192 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 385758.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5532 bytes_read=9710 bytes_retransmit=9 bytes_invalid=0 send_seq=292 receive_seq=292 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997607 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1251 bytes_read=29556 bytes_retransmit=9 bytes_invalid=0 send_seq=170 receive_seq=170 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000190 adj=12000370  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.85 cputime=28.868 memavail=3277200 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385759.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5538 bytes_read=9845 bytes_retransmit=9 bytes_invalid=0 send_seq=293 receive_seq=293 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997604 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1257 bytes_read=29572 bytes_retransmit=9 bytes_invalid=0 send_seq=171 receive_seq=171 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000165 adj=12000289  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.70 cputime=28.875 memavail=3277200 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385760.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5544 bytes_read=9951 bytes_retransmit=9 bytes_invalid=0 send_seq=294 receive_seq=294 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997602 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1263 bytes_read=29588 bytes_retransmit=9 bytes_invalid=0 send_seq=172 receive_seq=172 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000192 adj=12000187  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.70 cputime=28.882 memavail=3276724 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385761.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5550 bytes_read=10087 bytes_retransmit=9 bytes_invalid=0 send_seq=295 receive_seq=295 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997602 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1269 bytes_read=29604 bytes_retransmit=9 bytes_invalid=0 send_seq=173 receive_seq=173 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000169 adj=12000516  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.70 cputime=28.890 memavail=3276476 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385762.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5556 bytes_read=10193 bytes_retransmit=9 bytes_invalid=0 send_seq=296 receive_seq=296 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997600 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1275 bytes_read=29620 bytes_retransmit=9 bytes_invalid=0 send_seq=174 receive_seq=174 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000158 adj=12000358  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.70 cputime=28.897 memavail=3276476 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 385763.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5562 bytes_read=10299 bytes_retransmit=9 bytes_invalid=0 send_seq=297 receive_seq=297 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997597 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1281 bytes_read=29647 bytes_retransmit=9 bytes_invalid=0 send_seq=175 receive_seq=175 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000165 adj=12000334  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.70 cputime=28.903 memavail=3276476 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385764.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5568 bytes_read=10449 bytes_retransmit=9 bytes_invalid=0 send_seq=298 receive_seq=298 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997597 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1287 bytes_read=29663 bytes_retransmit=9 bytes_invalid=0 send_seq=176 receive_seq=176 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000145 adj=12000463  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.56 cputime=28.911 memavail=3274988 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385765.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5574 bytes_read=10555 bytes_retransmit=9 bytes_invalid=0 send_seq=299 receive_seq=299 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997598 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1293 bytes_read=29679 bytes_retransmit=9 bytes_invalid=0 send_seq=177 receive_seq=177 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000142 adj=12000334  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.56 cputime=28.918 memavail=3274736 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385766.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5580 bytes_read=10661 bytes_retransmit=9 bytes_invalid=0 send_seq=300 receive_seq=300 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997613 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1299 bytes_read=29695 bytes_retransmit=9 bytes_invalid=0 send_seq=178 receive_seq=178 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000141 adj=12000368  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.56 cputime=28.925 memavail=3274484 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385767.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5586 bytes_read=10797 bytes_retransmit=9 bytes_invalid=0 send_seq=301 receive_seq=301 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997611 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1305 bytes_read=29711 bytes_retransmit=9 bytes_invalid=0 send_seq=179 receive_seq=179 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000163 adj=12000392  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.56 cputime=28.933 memavail=3228372 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385768.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5592 bytes_read=10903 bytes_retransmit=9 bytes_invalid=0 send_seq=302 receive_seq=302 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997609 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1317 bytes_read=29754 bytes_retransmit=9 bytes_invalid=0 send_seq=181 receive_seq=181 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000153 adj=12000641  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.56 cputime=28.940 memavail=3275972 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385769.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5598 bytes_read=11023 bytes_retransmit=9 bytes_invalid=0 send_seq=303 receive_seq=303 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997607 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1323 bytes_read=29770 bytes_retransmit=9 bytes_invalid=0 send_seq=182 receive_seq=182 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000168 adj=12000548  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.44 cputime=28.947 memavail=3275972 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385770.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5604 bytes_read=11159 bytes_retransmit=9 bytes_invalid=0 send_seq=304 receive_seq=304 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997606 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1329 bytes_read=29786 bytes_retransmit=9 bytes_invalid=0 send_seq=183 receive_seq=183 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000181 adj=12000708  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.44 cputime=28.954 memavail=3275972 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385771.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5610 bytes_read=11265 bytes_retransmit=9 bytes_invalid=0 send_seq=305 receive_seq=305 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997604 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1335 bytes_read=29802 bytes_retransmit=9 bytes_invalid=0 send_seq=184 receive_seq=184 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000191 adj=12000808  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.44 cputime=28.961 memavail=3275476 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385772.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5616 bytes_read=11371 bytes_retransmit=9 bytes_invalid=0 send_seq=306 receive_seq=306 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997607 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1341 bytes_read=29818 bytes_retransmit=9 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000172 adj=12000856  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.44 cputime=28.968 memavail=3275256 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385773.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5622 bytes_read=11507 bytes_retransmit=9 bytes_invalid=0 send_seq=307 receive_seq=307 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997605 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1347 bytes_read=29845 bytes_retransmit=9 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000154 adj=12000616  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.44 cputime=28.976 memavail=3275004 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 385774.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5628 bytes_read=11627 bytes_retransmit=9 bytes_invalid=0 send_seq=308 receive_seq=308 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997604 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1353 bytes_read=29861 bytes_retransmit=9 bytes_invalid=0 send_seq=187 receive_seq=187 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000164 adj=12000447  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.32 cputime=28.983 memavail=3274520 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385775.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5634 bytes_read=11748 bytes_retransmit=9 bytes_invalid=0 send_seq=309 receive_seq=309 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997601 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1359 bytes_read=29877 bytes_retransmit=9 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000155 adj=12000581  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.32 cputime=28.990 memavail=3274524 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385776.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5640 bytes_read=11869 bytes_retransmit=9 bytes_invalid=0 send_seq=310 receive_seq=310 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997599 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1365 bytes_read=29893 bytes_retransmit=9 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000152 adj=12000512  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.32 cputime=28.997 memavail=3274272 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385777.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5646 bytes_read=11975 bytes_retransmit=9 bytes_invalid=0 send_seq=311 receive_seq=311 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997598 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1371 bytes_read=29909 bytes_retransmit=9 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000159 adj=12000501  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.32 cputime=29.004 memavail=3273768 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385778.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5652 bytes_read=12096 bytes_retransmit=9 bytes_invalid=0 send_seq=312 receive_seq=312 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997596 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1377 bytes_read=29936 bytes_retransmit=9 bytes_invalid=0 send_seq=191 receive_seq=191 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000143 adj=12000608  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.32 cputime=29.011 memavail=3266964 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 385779.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000009 bytes_write=5658 bytes_read=12231 bytes_retransmit=9 bytes_invalid=0 send_seq=313 receive_seq=313 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997595 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1383 bytes_read=29952 bytes_retransmit=9 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000156 adj=12000448  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.30 cputime=29.018 memavail=3222120 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385780.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000009 bytes_write=5664 bytes_read=12337 bytes_retransmit=9 bytes_invalid=0 send_seq=314 receive_seq=314 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997594 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1389 bytes_read=29968 bytes_retransmit=9 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000154 adj=12000620  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.30 cputime=29.025 memavail=3275220 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385781.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000009 bytes_write=5670 bytes_read=12458 bytes_retransmit=9 bytes_invalid=0 send_seq=315 receive_seq=315 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997593 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1395 bytes_read=29984 bytes_retransmit=9 bytes_invalid=0 send_seq=194 receive_seq=194 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000158 adj=12000598  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.30 cputime=29.032 memavail=3274968 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385782.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000009 bytes_write=5676 bytes_read=12579 bytes_retransmit=9 bytes_invalid=0 send_seq=316 receive_seq=316 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997591 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1401 bytes_read=30000 bytes_retransmit=9 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000164 adj=12000648  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.30 cputime=29.039 memavail=3274716 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 385783.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000009 bytes_write=5682 bytes_read=12685 bytes_retransmit=9 bytes_invalid=0 send_seq=317 receive_seq=317 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997590 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1407 bytes_read=30027 bytes_retransmit=9 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000148 adj=12000701  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.30 cputime=29.046 memavail=3274716 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385784.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5688 bytes_read=12820 bytes_retransmit=9 bytes_invalid=0 send_seq=318 receive_seq=318 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997589 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1413 bytes_read=30043 bytes_retransmit=9 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000143 adj=12000562  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.19 cputime=29.053 memavail=3274252 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 385785.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5694 bytes_read=12941 bytes_retransmit=9 bytes_invalid=0 send_seq=319 receive_seq=319 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997588 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1419 bytes_read=30059 bytes_retransmit=9 bytes_invalid=0 send_seq=198 receive_seq=198 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000140 adj=12000515  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.19 cputime=29.061 memavail=3274000 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385786.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5700 bytes_read=13047 bytes_retransmit=9 bytes_invalid=0 send_seq=320 receive_seq=320 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997588 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1425 bytes_read=30075 bytes_retransmit=9 bytes_invalid=0 send_seq=199 receive_seq=199 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000137 adj=12000504  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.19 cputime=29.067 memavail=3273748 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385787.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5706 bytes_read=13168 bytes_retransmit=9 bytes_invalid=0 send_seq=321 receive_seq=321 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997588 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1431 bytes_read=30091 bytes_retransmit=9 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000141 adj=12000497  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.19 cputime=29.074 memavail=3273748 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385788.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5718 bytes_read=13305 bytes_retransmit=9 bytes_invalid=0 send_seq=323 receive_seq=323 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997587 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1437 bytes_read=30118 bytes_retransmit=9 bytes_invalid=0 send_seq=201 receive_seq=201 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000128 adj=12000558  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.19 cputime=29.081 memavail=3273748 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385789.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5724 bytes_read=13420 bytes_retransmit=9 bytes_invalid=0 send_seq=324 receive_seq=324 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997587 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1443 bytes_read=30134 bytes_retransmit=9 bytes_invalid=0 send_seq=202 receive_seq=202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000120 adj=12000417  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.10 cputime=29.088 memavail=3273496 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385790.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5730 bytes_read=13532 bytes_retransmit=9 bytes_invalid=0 send_seq=325 receive_seq=325 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997586 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1449 bytes_read=30150 bytes_retransmit=9 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000120 adj=12000367  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.10 cputime=29.095 memavail=3256372 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385791.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5736 bytes_read=13645 bytes_retransmit=9 bytes_invalid=0 send_seq=326 receive_seq=326 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997585 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1455 bytes_read=30166 bytes_retransmit=9 bytes_invalid=0 send_seq=204 receive_seq=204 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000122 adj=12000420  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.10 cputime=29.103 memavail=3209640 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385792.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5742 bytes_read=13744 bytes_retransmit=9 bytes_invalid=0 send_seq=327 receive_seq=327 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997584 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1461 bytes_read=30182 bytes_retransmit=9 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000129 adj=12000490  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.10 cputime=29.113 memavail=3273376 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385793.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=5748 bytes_read=13861 bytes_retransmit=9 bytes_invalid=0 send_seq=328 receive_seq=328 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997585 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1467 bytes_read=30209 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000118 adj=12000601  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.10 cputime=29.120 memavail=3273376 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385794.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000012 mcu_task_stddev=0.000009 bytes_write=5754 bytes_read=13996 bytes_retransmit=9 bytes_invalid=0 send_seq=329 receive_seq=329 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997590 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1473 bytes_read=30225 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000113 adj=12000461  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.01 cputime=29.127 memavail=3272892 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385795.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000012 mcu_task_stddev=0.000009 bytes_write=5760 bytes_read=14102 bytes_retransmit=9 bytes_invalid=0 send_seq=330 receive_seq=330 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997589 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1479 bytes_read=30241 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000115 adj=12000419  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.01 cputime=29.134 memavail=3272900 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385796.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000012 mcu_task_stddev=0.000009 bytes_write=5766 bytes_read=14223 bytes_retransmit=9 bytes_invalid=0 send_seq=331 receive_seq=331 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997588 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1485 bytes_read=30257 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000105 adj=12000472  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.01 cputime=29.141 memavail=3272648 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385797.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000012 mcu_task_stddev=0.000009 bytes_write=5772 bytes_read=14344 bytes_retransmit=9 bytes_invalid=0 send_seq=332 receive_seq=332 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997587 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1491 bytes_read=30273 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000101 adj=12000379  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.01 cputime=29.148 memavail=3272396 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385798.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000012 mcu_task_stddev=0.000009 bytes_write=5778 bytes_read=14450 bytes_retransmit=9 bytes_invalid=0 send_seq=333 receive_seq=333 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997587 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1497 bytes_read=30300 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000100 adj=12000382  heater_bed: target=0 temp=24.0 pwm=0.000 sysload=1.01 cputime=29.155 memavail=3272396 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385799.4: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000015 bytes_write=5812 bytes_read=14595 bytes_retransmit=9 bytes_invalid=0 send_seq=336 receive_seq=336 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997586 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1503 bytes_read=30316 bytes_retransmit=9 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000105 adj=12000407  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=0.93 cputime=29.162 memavail=3272152 print_time=16.947 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Must home axis first: 100.000 100.000 20.000 [0.000]
TMC 'stepper_z' reports GSTAT:      00000001 reset=1(Reset)
TMC 'stepper_z' reports GSTAT:      00000000
Stats 385854.7: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=6800 bytes_read=21590 bytes_retransmit=9 bytes_invalid=0 send_seq=422 receive_seq=422 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997586 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1839 bytes_read=31333 bytes_retransmit=9 bytes_invalid=0 send_seq=268 receive_seq=268 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000283  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.82 cputime=29.739 memavail=3187016 print_time=133.212 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385855.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000016 mcu_task_stddev=0.000026 bytes_write=6855 bytes_read=21782 bytes_retransmit=9 bytes_invalid=0 send_seq=427 receive_seq=427 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997586 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1845 bytes_read=31349 bytes_retransmit=9 bytes_invalid=0 send_seq=269 receive_seq=269 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000387  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.82 cputime=29.750 memavail=3182412 print_time=133.212 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
TMC 'stepper_x' reports GSTAT:      00000001 reset=1(Reset)
TMC 'stepper_x' reports GSTAT:      00000000
Stats 385856.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000016 mcu_task_stddev=0.000026 bytes_write=7521 bytes_read=22512 bytes_retransmit=9 bytes_invalid=0 send_seq=471 receive_seq=471 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997586 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1851 bytes_read=31365 bytes_retransmit=9 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000061 adj=12000420  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=0.82 cputime=29.778 memavail=3236260 print_time=133.862 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385857.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000016 mcu_task_stddev=0.000026 bytes_write=8087 bytes_read=23067 bytes_retransmit=9 bytes_invalid=0 send_seq=508 receive_seq=508 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997588 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1857 bytes_read=31381 bytes_retransmit=9 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000062 adj=12000489  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=0.82 cputime=29.799 memavail=3233564 print_time=134.880 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
TMC 'stepper_y' reports GSTAT:      00000001 reset=1(Reset)
TMC 'stepper_y' reports GSTAT:      00000000
Stats 385858.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000016 mcu_task_stddev=0.000026 bytes_write=8986 bytes_read=23979 bytes_retransmit=9 bytes_invalid=0 send_seq=564 receive_seq=564 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997587 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1863 bytes_read=31408 bytes_retransmit=9 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000064 adj=12000510  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.82 cputime=29.831 memavail=3233564 print_time=135.883 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385859.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000016 mcu_task_stddev=0.000026 bytes_write=9579 bytes_read=24602 bytes_retransmit=9 bytes_invalid=0 send_seq=605 receive_seq=605 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=38 upcoming_bytes=0 freq=63997586 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1869 bytes_read=31424 bytes_retransmit=9 bytes_invalid=0 send_seq=273 receive_seq=273 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000540  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.91 cputime=29.853 memavail=3233132 print_time=136.966 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385860.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=10329 bytes_read=25077 bytes_retransmit=9 bytes_invalid=0 send_seq=633 receive_seq=633 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=63997585 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1875 bytes_read=31440 bytes_retransmit=9 bytes_invalid=0 send_seq=274 receive_seq=274 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000636  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.91 cputime=29.872 memavail=3230768 print_time=138.834 buffer_time=1.145 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385861.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=10419 bytes_read=25336 bytes_retransmit=9 bytes_invalid=0 send_seq=640 receive_seq=640 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=63997584 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1881 bytes_read=31456 bytes_retransmit=9 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000079 adj=12000629  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=0.91 cputime=29.884 memavail=3194592 print_time=138.834 buffer_time=0.144 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385862.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=10557 bytes_read=25618 bytes_retransmit=9 bytes_invalid=0 send_seq=650 receive_seq=649 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997584 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1887 bytes_read=31472 bytes_retransmit=9 bytes_invalid=0 send_seq=276 receive_seq=276 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000083 adj=12000707  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=0.91 cputime=29.897 memavail=3266872 print_time=138.834 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
BLTouch failed to verify sensor state; retrying.
Stats 385863.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=10774 bytes_read=25988 bytes_retransmit=9 bytes_invalid=0 send_seq=664 receive_seq=664 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=36 freq=63997583 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1893 bytes_read=31499 bytes_retransmit=9 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000086 adj=12000747  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=0.91 cputime=29.913 memavail=3258508 print_time=140.025 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385864.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=10902 bytes_read=26257 bytes_retransmit=9 bytes_invalid=0 send_seq=673 receive_seq=673 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=8 freq=63997583 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1899 bytes_read=31515 bytes_retransmit=9 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000091 adj=12000740  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.56 cputime=29.926 memavail=3258228 print_time=140.025 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385865.7: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000024 bytes_write=11225 bytes_read=26660 bytes_retransmit=9 bytes_invalid=0 send_seq=691 receive_seq=691 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997582 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1905 bytes_read=31531 bytes_retransmit=9 bytes_invalid=0 send_seq=279 receive_seq=279 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000096 adj=12000759  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.56 cputime=29.943 memavail=3258468 print_time=142.850 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385866.7: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000024 bytes_write=11699 bytes_read=27241 bytes_retransmit=9 bytes_invalid=0 send_seq=726 receive_seq=726 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997582 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1911 bytes_read=31547 bytes_retransmit=9 bytes_invalid=0 send_seq=280 receive_seq=280 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000102 adj=12000775  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.56 cputime=29.964 memavail=3272800 print_time=143.850 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385867.7: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000024 bytes_write=12185 bytes_read=27827 bytes_retransmit=9 bytes_invalid=0 send_seq=762 receive_seq=762 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997581 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1917 bytes_read=31563 bytes_retransmit=9 bytes_invalid=0 send_seq=281 receive_seq=281 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000103 adj=12000809  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.56 cputime=29.985 memavail=3264360 print_time=144.850 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385868.7: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000024 bytes_write=12673 bytes_read=28407 bytes_retransmit=9 bytes_invalid=0 send_seq=797 receive_seq=797 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997581 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1923 bytes_read=31590 bytes_retransmit=9 bytes_invalid=0 send_seq=282 receive_seq=282 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000107 adj=12000777  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.56 cputime=30.006 memavail=3261644 print_time=145.850 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385869.7: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000024 bytes_write=13086 bytes_read=28940 bytes_retransmit=9 bytes_invalid=0 send_seq=827 receive_seq=827 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997580 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1929 bytes_read=31606 bytes_retransmit=9 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000110 adj=12000771  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.51 cputime=30.025 memavail=3261644 print_time=146.391 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385870.7: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=13448 bytes_read=29348 bytes_retransmit=9 bytes_invalid=0 send_seq=843 receive_seq=843 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=8 freq=63997580 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1935 bytes_read=31622 bytes_retransmit=9 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000113 adj=12000786  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.51 cputime=30.041 memavail=3261200 print_time=148.918 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385871.7: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=13546 bytes_read=29592 bytes_retransmit=9 bytes_invalid=0 send_seq=850 receive_seq=850 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997579 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1941 bytes_read=31638 bytes_retransmit=9 bytes_invalid=0 send_seq=285 receive_seq=285 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000106 adj=12000699  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.51 cputime=30.053 memavail=3251348 print_time=148.918 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385872.7: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=13996 bytes_read=30125 bytes_retransmit=9 bytes_invalid=0 send_seq=881 receive_seq=881 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997578 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1947 bytes_read=31654 bytes_retransmit=9 bytes_invalid=0 send_seq=286 receive_seq=286 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000110 adj=12000596  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.51 cputime=30.073 memavail=3250628 print_time=149.868 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385873.7: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=14462 bytes_read=30711 bytes_retransmit=9 bytes_invalid=0 send_seq=917 receive_seq=917 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997578 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1953 bytes_read=31681 bytes_retransmit=9 bytes_invalid=0 send_seq=287 receive_seq=287 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000108 adj=12000656  heater_bed: target=0 temp=23.0 pwm=0.000 sysload=1.51 cputime=30.092 memavail=3222924 print_time=150.868 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385874.7: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=14777 bytes_read=31147 bytes_retransmit=9 bytes_invalid=0 send_seq=939 receive_seq=939 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997577 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1959 bytes_read=31697 bytes_retransmit=9 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000108 adj=12000607  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.63 cputime=30.109 memavail=3193188 print_time=151.191 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385875.7: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=15059 bytes_read=31565 bytes_retransmit=9 bytes_invalid=0 send_seq=957 receive_seq=957 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1965 bytes_read=31713 bytes_retransmit=9 bytes_invalid=0 send_seq=289 receive_seq=289 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000104 adj=12000602  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.63 cputime=30.124 memavail=3240584 print_time=153.513 buffer_time=0.811 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385876.7: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=15210 bytes_read=31829 bytes_retransmit=9 bytes_invalid=0 send_seq=965 receive_seq=965 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1971 bytes_read=31729 bytes_retransmit=9 bytes_invalid=0 send_seq=290 receive_seq=290 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000105 adj=12000517  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.63 cputime=30.136 memavail=3240584 print_time=153.513 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385877.7: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=15333 bytes_read=32083 bytes_retransmit=9 bytes_invalid=0 send_seq=974 receive_seq=974 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1977 bytes_read=31745 bytes_retransmit=9 bytes_invalid=0 send_seq=291 receive_seq=291 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000104 adj=12000539  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.63 cputime=30.148 memavail=3239240 print_time=153.513 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385878.7: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=15423 bytes_read=32342 bytes_retransmit=9 bytes_invalid=0 send_seq=981 receive_seq=981 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997575 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1989 bytes_read=31788 bytes_retransmit=9 bytes_invalid=0 send_seq=293 receive_seq=293 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000102 adj=12000534  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.63 cputime=30.159 memavail=3238492 print_time=153.513 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385879.7: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=15513 bytes_read=32601 bytes_retransmit=9 bytes_invalid=0 send_seq=988 receive_seq=988 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1995 bytes_read=31804 bytes_retransmit=9 bytes_invalid=0 send_seq=294 receive_seq=294 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000098 adj=12000511  heater_bed: target=0 temp=23.0 pwm=0.000 sysload=1.50 cputime=30.171 memavail=3231632 print_time=153.513 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385880.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=15603 bytes_read=32860 bytes_retransmit=9 bytes_invalid=0 send_seq=995 receive_seq=995 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2001 bytes_read=31820 bytes_retransmit=9 bytes_invalid=0 send_seq=295 receive_seq=295 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000099 adj=12000455  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.50 cputime=30.182 memavail=3231436 print_time=153.513 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 385881.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=15693 bytes_read=33119 bytes_retransmit=9 bytes_invalid=0 send_seq=1002 receive_seq=1002 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2007 bytes_read=31836 bytes_retransmit=9 bytes_invalid=0 send_seq=296 receive_seq=296 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000094 adj=12000496  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.50 cputime=30.194 memavail=3231440 print_time=153.513 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 385882.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=16149 bytes_read=33413 bytes_retransmit=9 bytes_invalid=0 send_seq=1016 receive_seq=1016 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2013 bytes_read=31852 bytes_retransmit=9 bytes_invalid=0 send_seq=297 receive_seq=297 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000099 adj=12000435  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.50 cputime=30.207 memavail=3231440 print_time=161.482 buffer_time=1.777 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385883.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=16239 bytes_read=33657 bytes_retransmit=9 bytes_invalid=0 send_seq=1023 receive_seq=1023 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2019 bytes_read=31879 bytes_retransmit=9 bytes_invalid=0 send_seq=298 receive_seq=298 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000091 adj=12000595  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.50 cputime=30.220 memavail=3231448 print_time=161.482 buffer_time=0.776 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
ADXL345 starting 'adxl345' measurements
toolhead: max_velocity: 300.000000
max_accel: 10000.000000
minimum_cruise_ratio: 0.000000
square_corner_velocity: 5.000000
Testing frequency 5 Hz
Testing frequency 6 Hz
Testing frequency 7 Hz
Testing frequency 8 Hz
Testing frequency 9 Hz
Stats 385884.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=22862 bytes_read=34446 bytes_retransmit=9 bytes_invalid=0 send_seq=1136 receive_seq=1136 retransmit_seq=2 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2179 bytes_read=35735 bytes_retransmit=9 bytes_invalid=0 send_seq=315 receive_seq=315 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000082 adj=12000474  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.38 cputime=30.251 memavail=3229432 print_time=166.284 buffer_time=4.573 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 385885.7: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000030 mcu_task_stddev=0.000037 bytes_write=22994 bytes_read=34720 bytes_retransmit=9 bytes_invalid=0 send_seq=1143 receive_seq=1143 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997573 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2255 bytes_read=54475 bytes_retransmit=9 bytes_invalid=0 send_seq=326 receive_seq=326 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000493  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.38 cputime=30.311 memavail=3208040 print_time=166.284 buffer_time=3.572 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385886.7: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000030 mcu_task_stddev=0.000037 bytes_write=23084 bytes_read=34964 bytes_retransmit=9 bytes_invalid=0 send_seq=1150 receive_seq=1150 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997573 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2331 bytes_read=73431 bytes_retransmit=9 bytes_invalid=0 send_seq=337 receive_seq=337 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000444  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.38 cputime=30.386 memavail=3177148 print_time=166.284 buffer_time=2.563 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 385887.7: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000030 mcu_task_stddev=0.000037 bytes_write=24006 bytes_read=35288 bytes_retransmit=9 bytes_invalid=0 send_seq=1170 receive_seq=1170 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997573 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=2407 bytes_read=92267 bytes_retransmit=9 bytes_invalid=0 send_seq=348 receive_seq=348 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000060 adj=12000401  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.38 cputime=30.469 memavail=3256928 print_time=166.745 buffer_time=2.023 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 10 Hz
Stats 385888.7: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000030 mcu_task_stddev=0.000037 bytes_write=26180 bytes_read=35707 bytes_retransmit=9 bytes_invalid=0 send_seq=1209 receive_seq=1209 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997572 PIS: mcu_awake=0.299 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=2483 bytes_read=111119 bytes_retransmit=9 bytes_invalid=0 send_seq=359 receive_seq=359 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000358  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.38 cputime=30.532 memavail=3253660 print_time=167.821 buffer_time=2.099 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 11 Hz
Stats 385889.7: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000030 mcu_task_stddev=0.000037 bytes_write=28320 bytes_read=36116 bytes_retransmit=9 bytes_invalid=0 send_seq=1249 receive_seq=1249 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=63997572 PIS: mcu_awake=0.299 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=2559 bytes_read=129955 bytes_retransmit=9 bytes_invalid=0 send_seq=370 receive_seq=370 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000048 adj=12000314  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.35 cputime=30.600 memavail=3250888 print_time=168.819 buffer_time=2.095 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 12 Hz
Stats 385890.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000029 mcu_task_stddev=0.000034 bytes_write=30692 bytes_read=36570 bytes_retransmit=9 bytes_invalid=0 send_seq=1292 receive_seq=1292 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=33 upcoming_bytes=0 freq=63997571 PIS: mcu_awake=0.299 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=2635 bytes_read=148731 bytes_retransmit=9 bytes_invalid=0 send_seq=381 receive_seq=381 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000042 adj=12000268  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.35 cputime=30.682 memavail=3243104 print_time=169.856 buffer_time=2.132 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 13 Hz
Stats 385891.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000029 mcu_task_stddev=0.000034 bytes_write=32980 bytes_read=37004 bytes_retransmit=9 bytes_invalid=0 send_seq=1334 receive_seq=1334 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=16 upcoming_bytes=0 freq=63997572 PIS: mcu_awake=0.299 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=2711 bytes_read=167567 bytes_retransmit=9 bytes_invalid=0 send_seq=392 receive_seq=392 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000037 adj=12000221  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.35 cputime=30.761 memavail=3244004 print_time=170.833 buffer_time=2.108 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 14 Hz
Stats 385892.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000029 mcu_task_stddev=0.000034 bytes_write=35488 bytes_read=37438 bytes_retransmit=9 bytes_invalid=0 send_seq=1379 receive_seq=1379 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=34 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.299 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=2787 bytes_read=186403 bytes_retransmit=9 bytes_invalid=0 send_seq=403 receive_seq=403 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000032 adj=12000170  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.35 cputime=30.824 memavail=3243556 print_time=171.881 buffer_time=2.155 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 15 Hz
Stats 385893.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000029 mcu_task_stddev=0.000034 bytes_write=37856 bytes_read=37882 bytes_retransmit=9 bytes_invalid=0 send_seq=1423 receive_seq=1423 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=57 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2863 bytes_read=205196 bytes_retransmit=9 bytes_invalid=0 send_seq=414 receive_seq=414 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000028 adj=12000109  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.35 cputime=30.893 memavail=3243564 print_time=172.859 buffer_time=2.133 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 16 Hz
Stats 385894.7: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000029 mcu_task_stddev=0.000034 bytes_write=40515 bytes_read=38351 bytes_retransmit=9 bytes_invalid=0 send_seq=1472 receive_seq=1472 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=20 upcoming_bytes=0 freq=63997577 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2939 bytes_read=224092 bytes_retransmit=9 bytes_invalid=0 send_seq=425 receive_seq=425 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000024 adj=12000089  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.48 cputime=30.979 memavail=3243564 print_time=173.899 buffer_time=2.173 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Testing frequency 17 Hz
Stats 385895.7: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000037 mcu_task_stddev=0.000039 bytes_write=43286 bytes_read=38825 bytes_retransmit=9 bytes_invalid=0 send_seq=1522 receive_seq=1522 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=63997579 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3015 bytes_read=242868 bytes_retransmit=9 bytes_invalid=0 send_seq=436 receive_seq=436 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000020 adj=12000122  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.48 cputime=31.059 memavail=3242048 print_time=174.907 buffer_time=2.180 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 18 Hz
Stats 385896.7: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000037 mcu_task_stddev=0.000039 bytes_write=45889 bytes_read=39284 bytes_retransmit=9 bytes_invalid=0 send_seq=1569 receive_seq=1569 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=34 upcoming_bytes=0 freq=63997580 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3091 bytes_read=261704 bytes_retransmit=9 bytes_invalid=0 send_seq=447 receive_seq=447 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000017 adj=12000140  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.48 cputime=31.127 memavail=3247344 print_time=175.914 buffer_time=2.186 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 19 Hz
Stats 385897.7: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000037 mcu_task_stddev=0.000039 bytes_write=48968 bytes_read=39783 bytes_retransmit=9 bytes_invalid=0 send_seq=1624 receive_seq=1624 retransmit_seq=2 srtt=0.002 rttvar=0.003 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=63997582 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3167 bytes_read=280540 bytes_retransmit=9 bytes_invalid=0 send_seq=458 receive_seq=458 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000014 adj=12000161  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.48 cputime=31.198 memavail=3213624 print_time=176.907 buffer_time=2.178 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 20 Hz
Stats 385898.7: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000037 mcu_task_stddev=0.000039 bytes_write=51865 bytes_read=40262 bytes_retransmit=9 bytes_invalid=0 send_seq=1678 receive_seq=1678 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=18 upcoming_bytes=0 freq=63997585 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3243 bytes_read=299393 bytes_retransmit=9 bytes_invalid=0 send_seq=469 receive_seq=469 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000011 adj=12000174  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.48 cputime=31.280 memavail=3192072 print_time=177.925 buffer_time=2.194 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 21 Hz
Stats 385899.7: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000037 mcu_task_stddev=0.000039 bytes_write=54861 bytes_read=40766 bytes_retransmit=9 bytes_invalid=0 send_seq=1731 receive_seq=1731 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=49 upcoming_bytes=0 freq=63997585 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3312 bytes_read=318207 bytes_retransmit=9 bytes_invalid=0 send_seq=479 receive_seq=479 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000009 adj=12000192  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.77 cputime=31.363 memavail=3260772 print_time=178.907 buffer_time=2.176 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 22 Hz
Stats 385900.7: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=57883 bytes_read=41266 bytes_retransmit=9 bytes_invalid=0 send_seq=1786 receive_seq=1786 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=63997588 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3388 bytes_read=336983 bytes_retransmit=9 bytes_invalid=0 send_seq=490 receive_seq=490 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000006 adj=12000209  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.77 cputime=31.423 memavail=3260772 print_time=179.934 buffer_time=2.203 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 23 Hz
Stats 385901.7: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=60945 bytes_read=41760 bytes_retransmit=9 bytes_invalid=0 send_seq=1843 receive_seq=1843 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=57 upcoming_bytes=0 freq=63997587 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3464 bytes_read=355819 bytes_retransmit=9 bytes_invalid=0 send_seq=501 receive_seq=501 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000004 adj=12000225  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.77 cputime=31.493 memavail=3259764 print_time=180.917 buffer_time=2.185 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 24 Hz
Stats 385902.7: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=64518 bytes_read=42309 bytes_retransmit=9 bytes_invalid=0 send_seq=1905 receive_seq=1905 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=17 upcoming_bytes=0 freq=63997590 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3540 bytes_read=374655 bytes_retransmit=9 bytes_invalid=0 send_seq=512 receive_seq=512 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000002 adj=12000239  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.77 cputime=31.576 memavail=3256504 print_time=181.932 buffer_time=2.198 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 25 Hz
Stats 385903.7: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=67680 bytes_read=42808 bytes_retransmit=9 bytes_invalid=0 send_seq=1963 receive_seq=1963 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=18 upcoming_bytes=0 freq=63997590 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3616 bytes_read=393508 bytes_retransmit=9 bytes_invalid=0 send_seq=523 receive_seq=523 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000000 adj=12000252  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.77 cputime=31.662 memavail=3255768 print_time=182.926 buffer_time=2.191 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 26 Hz
Stats 385904.7: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=70747 bytes_read=43307 bytes_retransmit=9 bytes_invalid=0 send_seq=2021 receive_seq=2021 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=43 upcoming_bytes=0 freq=63997589 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3692 bytes_read=412344 bytes_retransmit=9 bytes_invalid=0 send_seq=534 receive_seq=534 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999999 adj=12000268  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.62 cputime=31.727 memavail=3257028 print_time=183.939 buffer_time=2.204 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 27 Hz
Stats 385905.7: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000040 mcu_task_stddev=0.000039 bytes_write=74287 bytes_read=43867 bytes_retransmit=9 bytes_invalid=0 send_seq=2082 receive_seq=2082 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=24 upcoming_bytes=0 freq=63997591 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3768 bytes_read=431180 bytes_retransmit=9 bytes_invalid=0 send_seq=545 receive_seq=545 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999997 adj=12000286  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.62 cputime=31.797 memavail=3256776 print_time=184.951 buffer_time=2.216 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 28 Hz
Stats 385906.7: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000040 mcu_task_stddev=0.000039 bytes_write=77869 bytes_read=44386 bytes_retransmit=9 bytes_invalid=0 send_seq=2144 receive_seq=2144 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997597 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3844 bytes_read=449956 bytes_retransmit=9 bytes_invalid=0 send_seq=556 receive_seq=556 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999996 adj=12000297  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.62 cputime=31.881 memavail=3256024 print_time=185.945 buffer_time=2.209 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 29 Hz
Stats 385907.7: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000040 mcu_task_stddev=0.000039 bytes_write=80947 bytes_read=44875 bytes_retransmit=9 bytes_invalid=0 send_seq=2200 receive_seq=2200 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=25 upcoming_bytes=0 freq=63997595 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3920 bytes_read=468792 bytes_retransmit=9 bytes_invalid=0 send_seq=567 receive_seq=567 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999995 adj=12000297  heater_bed: target=0 temp=23.0 pwm=0.000 sysload=1.62 cputime=31.963 memavail=3255524 print_time=186.948 buffer_time=2.212 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 30 Hz
Stats 385908.7: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000040 mcu_task_stddev=0.000039 bytes_write=84040 bytes_read=45410 bytes_retransmit=9 bytes_invalid=0 send_seq=2257 receive_seq=2257 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997602 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3996 bytes_read=487645 bytes_retransmit=9 bytes_invalid=0 send_seq=578 receive_seq=578 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999994 adj=12000316  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.62 cputime=32.032 memavail=3254012 print_time=187.950 buffer_time=2.214 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 31 Hz
Stats 385909.7: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000040 mcu_task_stddev=0.000039 bytes_write=87582 bytes_read=45949 bytes_retransmit=9 bytes_invalid=0 send_seq=2323 receive_seq=2323 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997602 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4072 bytes_read=506421 bytes_retransmit=9 bytes_invalid=0 send_seq=589 receive_seq=589 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999994 adj=12000315  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.49 cputime=32.102 memavail=3227560 print_time=188.945 buffer_time=2.208 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 32 Hz
Stats 385910.7: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=91646 bytes_read=46544 bytes_retransmit=9 bytes_invalid=0 send_seq=2394 receive_seq=2394 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997601 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4148 bytes_read=525317 bytes_retransmit=9 bytes_invalid=0 send_seq=600 receive_seq=600 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999993 adj=12000330  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.49 cputime=32.182 memavail=3195304 print_time=189.963 buffer_time=2.221 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Testing frequency 33 Hz
Stats 385911.7: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=95552 bytes_read=47118 bytes_retransmit=9 bytes_invalid=0 send_seq=2464 receive_seq=2464 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997601 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4224 bytes_read=544153 bytes_retransmit=9 bytes_invalid=0 send_seq=611 receive_seq=611 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999993 adj=12000347  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.49 cputime=32.266 memavail=3227700 print_time=190.950 buffer_time=2.208 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 34 Hz
Stats 385912.7: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=99280 bytes_read=47652 bytes_retransmit=9 bytes_invalid=0 send_seq=2529 receive_seq=2529 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997604 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4300 bytes_read=562929 bytes_retransmit=9 bytes_invalid=0 send_seq=622 receive_seq=622 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999993 adj=12000359  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.49 cputime=32.335 memavail=3226788 print_time=191.966 buffer_time=2.224 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 35 Hz
Stats 385913.7: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=102664 bytes_read=48186 bytes_retransmit=9 bytes_invalid=0 send_seq=2591 receive_seq=2591 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997603 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4376 bytes_read=581782 bytes_retransmit=9 bytes_invalid=0 send_seq=633 receive_seq=633 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999992 adj=12000366  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.49 cputime=32.437 memavail=3224020 print_time=192.968 buffer_time=2.225 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 36 Hz
Stats 385914.7: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=106130 bytes_read=48725 bytes_retransmit=9 bytes_invalid=0 send_seq=2654 receive_seq=2654 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997603 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4452 bytes_read=600618 bytes_retransmit=9 bytes_invalid=0 send_seq=644 receive_seq=644 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999992 adj=12000379  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.94 cputime=32.524 memavail=3219240 print_time=193.963 buffer_time=2.220 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 37 Hz
Stats 385915.7: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000041 mcu_task_stddev=0.000040 bytes_write=109692 bytes_read=49275 bytes_retransmit=9 bytes_invalid=0 send_seq=2719 receive_seq=2719 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997604 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4528 bytes_read=619454 bytes_retransmit=9 bytes_invalid=0 send_seq=655 receive_seq=655 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999992 adj=12000387  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.94 cputime=32.601 memavail=3227332 print_time=194.958 buffer_time=2.214 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 38 Hz
Stats 385916.7: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000041 mcu_task_stddev=0.000040 bytes_write=113539 bytes_read=49844 bytes_retransmit=9 bytes_invalid=0 send_seq=2788 receive_seq=2788 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997602 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4604 bytes_read=638230 bytes_retransmit=9 bytes_invalid=0 send_seq=666 receive_seq=666 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999992 adj=12000395  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.94 cputime=32.678 memavail=3227332 print_time=195.966 buffer_time=2.221 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 39 Hz
Stats 385917.7: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000041 mcu_task_stddev=0.000040 bytes_write=117918 bytes_read=50448 bytes_retransmit=9 bytes_invalid=0 send_seq=2864 receive_seq=2864 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=48 upcoming_bytes=0 freq=63997606 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4673 bytes_read=657104 bytes_retransmit=9 bytes_invalid=0 send_seq=676 receive_seq=676 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999992 adj=12000409  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.94 cputime=32.754 memavail=3225916 print_time=196.967 buffer_time=2.221 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 40 Hz
Stats 385918.7: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000041 mcu_task_stddev=0.000040 bytes_write=121949 bytes_read=51017 bytes_retransmit=9 bytes_invalid=0 send_seq=2936 receive_seq=2936 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=30 upcoming_bytes=648 freq=63997603 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4749 bytes_read=675897 bytes_retransmit=9 bytes_invalid=0 send_seq=687 receive_seq=687 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999993 adj=12000409  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.94 cputime=32.844 memavail=3224912 print_time=197.969 buffer_time=2.222 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 41 Hz
Stats 385919.7: gcodein=0  mcu: mcu_awake=0.034 mcu_task_avg=0.000041 mcu_task_stddev=0.000040 bytes_write=126321 bytes_read=51611 bytes_retransmit=9 bytes_invalid=0 send_seq=3010 receive_seq=3010 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=39 upcoming_bytes=1001 freq=63997603 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4825 bytes_read=694733 bytes_retransmit=9 bytes_invalid=0 send_seq=698 receive_seq=698 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999993 adj=12000424  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.86 cputime=32.927 memavail=3223672 print_time=198.964 buffer_time=2.216 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 42 Hz
Stats 385920.7: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=131183 bytes_read=52261 bytes_retransmit=9 bytes_invalid=0 send_seq=3092 receive_seq=3092 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=185 freq=63997604 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4901 bytes_read=713569 bytes_retransmit=9 bytes_invalid=0 send_seq=709 receive_seq=709 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999993 adj=12000431  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.86 cputime=33.008 memavail=3224288 print_time=199.977 buffer_time=2.229 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 43 Hz
Stats 385921.7: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=135410 bytes_read=52835 bytes_retransmit=9 bytes_invalid=0 send_seq=3165 receive_seq=3165 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=8 upcoming_bytes=0 freq=63997600 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4977 bytes_read=732345 bytes_retransmit=9 bytes_invalid=0 send_seq=720 receive_seq=720 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999994 adj=12000434  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.86 cputime=33.088 memavail=3216476 print_time=200.967 buffer_time=2.218 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 44 Hz
Stats 385922.7: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=139551 bytes_read=53419 bytes_retransmit=9 bytes_invalid=0 send_seq=3237 receive_seq=3237 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=17 upcoming_bytes=0 freq=63997599 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5053 bytes_read=751181 bytes_retransmit=9 bytes_invalid=0 send_seq=731 receive_seq=731 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999994 adj=12000450  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.86 cputime=33.176 memavail=3190268 print_time=201.974 buffer_time=2.224 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 45 Hz
Stats 385923.7: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=143878 bytes_read=54021 bytes_retransmit=9 bytes_invalid=0 send_seq=3314 receive_seq=3314 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=0 freq=63997602 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5129 bytes_read=770034 bytes_retransmit=9 bytes_invalid=0 send_seq=742 receive_seq=742 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999995 adj=12000459  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.86 cputime=33.261 memavail=3246384 print_time=202.980 buffer_time=2.230 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 46 Hz
Stats 385924.7: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=148310 bytes_read=54617 bytes_retransmit=9 bytes_invalid=0 send_seq=3393 receive_seq=3393 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=36 upcoming_bytes=0 freq=63997600 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5205 bytes_read=789043 bytes_retransmit=9 bytes_invalid=0 send_seq=753 receive_seq=753 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999995 adj=12000455  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.71 cputime=33.332 memavail=3239112 print_time=203.981 buffer_time=2.230 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 47 Hz
Stats 385925.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000038 mcu_task_stddev=0.000040 bytes_write=152812 bytes_read=55254 bytes_retransmit=9 bytes_invalid=0 send_seq=3474 receive_seq=3474 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=33 upcoming_bytes=10 freq=63997598 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5281 bytes_read=808138 bytes_retransmit=9 bytes_invalid=0 send_seq=764 receive_seq=764 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999996 adj=12000460  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.71 cputime=33.417 memavail=3235332 print_time=204.982 buffer_time=2.230 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 48 Hz
Stats 385926.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000038 mcu_task_stddev=0.000040 bytes_write=157203 bytes_read=55860 bytes_retransmit=9 bytes_invalid=0 send_seq=3552 receive_seq=3552 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=43 upcoming_bytes=182 freq=63997595 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5357 bytes_read=827294 bytes_retransmit=9 bytes_invalid=0 send_seq=775 receive_seq=775 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999997 adj=12000477  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.71 cputime=33.508 memavail=3229788 print_time=205.978 buffer_time=2.225 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 49 Hz
Stats 385927.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000038 mcu_task_stddev=0.000040 bytes_write=161654 bytes_read=56461 bytes_retransmit=9 bytes_invalid=0 send_seq=3631 receive_seq=3631 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=560 freq=63997593 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5433 bytes_read=846450 bytes_retransmit=9 bytes_invalid=0 send_seq=786 receive_seq=786 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999998 adj=12000487  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.71 cputime=33.589 memavail=3226260 print_time=206.974 buffer_time=2.221 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 50 Hz
Stats 385928.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000038 mcu_task_stddev=0.000040 bytes_write=165892 bytes_read=57045 bytes_retransmit=9 bytes_invalid=0 send_seq=3703 receive_seq=3703 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=40 upcoming_bytes=1561 freq=63997592 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5509 bytes_read=865623 bytes_retransmit=9 bytes_invalid=0 send_seq=797 receive_seq=797 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999998 adj=12000493  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.71 cputime=33.659 memavail=3222984 print_time=207.979 buffer_time=2.226 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Testing frequency 51 Hz
Stats 385929.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000038 mcu_task_stddev=0.000040 bytes_write=170521 bytes_read=57664 bytes_retransmit=9 bytes_invalid=0 send_seq=3782 receive_seq=3782 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1867 freq=63997593 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5585 bytes_read=884779 bytes_retransmit=9 bytes_invalid=0 send_seq=808 receive_seq=808 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=11999999 adj=12000494  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.57 cputime=33.739 memavail=3215172 print_time=208.975 buffer_time=2.222 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 52 Hz
Stats 385930.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=176122 bytes_read=58369 bytes_retransmit=9 bytes_invalid=0 send_seq=3878 receive_seq=3878 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=1334 freq=63997591 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5661 bytes_read=903874 bytes_retransmit=9 bytes_invalid=0 send_seq=819 receive_seq=819 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000000 adj=12000493  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.57 cputime=33.835 memavail=3213728 print_time=209.981 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 53 Hz
Stats 385931.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=180940 bytes_read=58998 bytes_retransmit=9 bytes_invalid=0 send_seq=3959 receive_seq=3959 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=1421 freq=63997593 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5737 bytes_read=923030 bytes_retransmit=9 bytes_invalid=0 send_seq=830 receive_seq=830 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000001 adj=12000501  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.57 cputime=33.928 memavail=3213476 print_time=210.977 buffer_time=2.223 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 54 Hz
Stats 385932.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=185903 bytes_read=59642 bytes_retransmit=9 bytes_invalid=0 send_seq=4043 receive_seq=4043 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=655 freq=63997591 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5813 bytes_read=942186 bytes_retransmit=9 bytes_invalid=0 send_seq=841 receive_seq=841 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000002 adj=12000501  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.57 cputime=34.002 memavail=3210956 print_time=211.983 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 55 Hz
Stats 385933.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=190744 bytes_read=60261 bytes_retransmit=9 bytes_invalid=0 send_seq=4125 receive_seq=4125 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=53 upcoming_bytes=0 freq=63997588 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5882 bytes_read=961336 bytes_retransmit=9 bytes_invalid=0 send_seq=851 receive_seq=851 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000002 adj=12000506  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.57 cputime=34.080 memavail=3200876 print_time=212.979 buffer_time=2.222 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 56 Hz
Stats 385934.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=195016 bytes_read=60850 bytes_retransmit=9 bytes_invalid=0 send_seq=4198 receive_seq=4198 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=0 freq=63997585 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5958 bytes_read=980431 bytes_retransmit=9 bytes_invalid=0 send_seq=862 receive_seq=862 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000004 adj=12000511  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.53 cputime=34.161 memavail=3162080 print_time=213.984 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 57 Hz
Stats 385935.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000035 mcu_task_stddev=0.000040 bytes_write=199346 bytes_read=61465 bytes_retransmit=9 bytes_invalid=0 send_seq=4273 receive_seq=4273 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=0 freq=63997583 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6034 bytes_read=999587 bytes_retransmit=9 bytes_invalid=0 send_seq=873 receive_seq=873 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000005 adj=12000523  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.53 cputime=34.248 memavail=3205160 print_time=214.985 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 58 Hz
Stats 385936.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000035 mcu_task_stddev=0.000040 bytes_write=203715 bytes_read=62044 bytes_retransmit=9 bytes_invalid=0 send_seq=4347 receive_seq=4347 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=44 upcoming_bytes=0 freq=63997585 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6110 bytes_read=1018743 bytes_retransmit=9 bytes_invalid=0 send_seq=884 receive_seq=884 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000006 adj=12000529  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.53 cputime=34.328 memavail=3204252 print_time=215.985 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 59 Hz
Stats 385937.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000035 mcu_task_stddev=0.000040 bytes_write=208133 bytes_read=62643 bytes_retransmit=9 bytes_invalid=0 send_seq=4422 receive_seq=4422 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=24 upcoming_bytes=53 freq=63997586 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6186 bytes_read=1037899 bytes_retransmit=9 bytes_invalid=0 send_seq=895 receive_seq=895 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000006 adj=12000522  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.53 cputime=34.409 memavail=3204000 print_time=216.986 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 60 Hz
Stats 385938.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000035 mcu_task_stddev=0.000040 bytes_write=212492 bytes_read=63237 bytes_retransmit=9 bytes_invalid=0 send_seq=4496 receive_seq=4496 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=223 freq=63997584 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6262 bytes_read=1057011 bytes_retransmit=9 bytes_invalid=0 send_seq=906 receive_seq=906 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000007 adj=12000517  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.53 cputime=34.498 memavail=3204000 print_time=217.991 buffer_time=2.231 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 61 Hz
Stats 385939.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000035 mcu_task_stddev=0.000040 bytes_write=216934 bytes_read=63821 bytes_retransmit=9 bytes_invalid=0 send_seq=4571 receive_seq=4571 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=350 freq=63997583 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6344 bytes_read=1076183 bytes_retransmit=9 bytes_invalid=0 send_seq=918 receive_seq=918 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000009 adj=12000521  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.81 cputime=34.590 memavail=3201968 print_time=218.987 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 62 Hz
Stats 385940.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=221459 bytes_read=64441 bytes_retransmit=9 bytes_invalid=0 send_seq=4647 receive_seq=4647 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=510 freq=63997584 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6420 bytes_read=1095339 bytes_retransmit=9 bytes_invalid=0 send_seq=929 receive_seq=929 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000010 adj=12000539  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.81 cputime=34.665 memavail=3196984 print_time=219.992 buffer_time=2.231 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 63 Hz
Stats 385941.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=226086 bytes_read=65055 bytes_retransmit=9 bytes_invalid=0 send_seq=4725 receive_seq=4725 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=663 freq=63997584 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6491 bytes_read=1114429 bytes_retransmit=9 bytes_invalid=0 send_seq=939 receive_seq=939 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000012 adj=12000534  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.81 cputime=34.750 memavail=3196088 print_time=220.992 buffer_time=2.231 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 64 Hz
Stats 385942.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=230722 bytes_read=65654 bytes_retransmit=9 bytes_invalid=0 send_seq=4803 receive_seq=4803 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=791 freq=63997583 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6567 bytes_read=1133585 bytes_retransmit=9 bytes_invalid=0 send_seq=950 receive_seq=950 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000013 adj=12000545  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.81 cputime=34.838 memavail=3195640 print_time=221.989 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 65 Hz
Stats 385943.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=235446 bytes_read=66273 bytes_retransmit=9 bytes_invalid=0 send_seq=4882 receive_seq=4882 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=44 upcoming_bytes=945 freq=63997583 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6643 bytes_read=1152758 bytes_retransmit=9 bytes_invalid=0 send_seq=961 receive_seq=961 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000014 adj=12000543  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.81 cputime=34.932 memavail=3194952 print_time=222.989 buffer_time=2.227 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 66 Hz
Stats 385944.8: gcodein=0  mcu: mcu_awake=0.041 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=240277 bytes_read=66902 bytes_retransmit=9 bytes_invalid=0 send_seq=4963 receive_seq=4963 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=34 upcoming_bytes=1106 freq=63997582 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6719 bytes_read=1171914 bytes_retransmit=9 bytes_invalid=0 send_seq=972 receive_seq=972 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000015 adj=12000539  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.66 cputime=35.007 memavail=3194964 print_time=223.993 buffer_time=2.230 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 67 Hz
Stats 385945.8: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=245138 bytes_read=67532 bytes_retransmit=9 bytes_invalid=0 send_seq=5044 receive_seq=5044 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=1215 freq=63997581 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6795 bytes_read=1191009 bytes_retransmit=9 bytes_invalid=0 send_seq=983 receive_seq=983 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000016 adj=12000538  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.66 cputime=35.133 memavail=3194208 print_time=224.987 buffer_time=2.223 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 68 Hz
Stats 385946.8: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=250130 bytes_read=68171 bytes_retransmit=9 bytes_invalid=0 send_seq=5127 receive_seq=5127 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=1394 freq=63997581 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6871 bytes_read=1210287 bytes_retransmit=9 bytes_invalid=0 send_seq=994 receive_seq=994 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000016 adj=12000539  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.66 cputime=35.224 memavail=3149856 print_time=225.994 buffer_time=2.229 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 69 Hz
Stats 385947.8: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=255118 bytes_read=68815 bytes_retransmit=9 bytes_invalid=0 send_seq=5211 receive_seq=5211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=40 upcoming_bytes=1684 freq=63997577 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6947 bytes_read=1229443 bytes_retransmit=9 bytes_invalid=0 send_seq=1005 receive_seq=1005 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000017 adj=12000535  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.66 cputime=35.314 memavail=3148796 print_time=226.988 buffer_time=2.219 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 70 Hz
Stats 385948.8: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=260421 bytes_read=69494 bytes_retransmit=9 bytes_invalid=0 send_seq=5305 receive_seq=5305 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=14 upcoming_bytes=1858 freq=63997575 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7023 bytes_read=1248555 bytes_retransmit=9 bytes_invalid=0 send_seq=1016 receive_seq=1016 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000018 adj=12000543  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.66 cputime=35.392 memavail=3191120 print_time=227.992 buffer_time=2.222 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 71 Hz
Stats 385949.8: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=265868 bytes_read=70198 bytes_retransmit=9 bytes_invalid=0 send_seq=5401 receive_seq=5401 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=40 upcoming_bytes=1782 freq=63997576 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7099 bytes_read=1267711 bytes_retransmit=9 bytes_invalid=0 send_seq=1027 receive_seq=1027 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000019 adj=12000544  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.77 cputime=35.483 memavail=3185096 print_time=228.992 buffer_time=2.222 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 72 Hz
Stats 385950.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=271156 bytes_read=70888 bytes_retransmit=9 bytes_invalid=0 send_seq=5491 receive_seq=5491 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=32 upcoming_bytes=2042 freq=63997574 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7168 bytes_read=1286783 bytes_retransmit=9 bytes_invalid=0 send_seq=1037 receive_seq=1037 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000020 adj=12000540  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.77 cputime=35.583 memavail=3173968 print_time=229.996 buffer_time=2.226 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 73 Hz
Stats 385951.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=276548 bytes_read=71572 bytes_retransmit=9 bytes_invalid=0 send_seq=5586 receive_seq=5586 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=47 upcoming_bytes=2753 freq=63997574 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7244 bytes_read=1305939 bytes_retransmit=9 bytes_invalid=0 send_seq=1048 receive_seq=1048 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000021 adj=12000542  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.77 cputime=35.681 memavail=3210848 print_time=230.993 buffer_time=2.222 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 74 Hz
Stats 385952.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=281644 bytes_read=72221 bytes_retransmit=9 bytes_invalid=0 send_seq=5671 receive_seq=5671 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=40 upcoming_bytes=2851 freq=63997577 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7320 bytes_read=1325034 bytes_retransmit=9 bytes_invalid=0 send_seq=1059 receive_seq=1059 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000022 adj=12000540  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.77 cputime=35.759 memavail=3210964 print_time=231.996 buffer_time=2.226 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 75 Hz
Stats 385953.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=287865 bytes_read=72990 bytes_retransmit=9 bytes_invalid=0 send_seq=5780 receive_seq=5780 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=1092 freq=63997576 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7396 bytes_read=1344268 bytes_retransmit=9 bytes_invalid=0 send_seq=1070 receive_seq=1070 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000023 adj=12000540  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.77 cputime=35.848 memavail=3210712 print_time=232.990 buffer_time=2.219 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 76 Hz
Stats 385954.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=293552 bytes_read=73709 bytes_retransmit=9 bytes_invalid=0 send_seq=5882 receive_seq=5882 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=19 upcoming_bytes=0 freq=63997577 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7472 bytes_read=1363363 bytes_retransmit=9 bytes_invalid=0 send_seq=1081 receive_seq=1081 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000024 adj=12000543  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.03 cputime=35.935 memavail=3208956 print_time=233.997 buffer_time=2.226 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 77 Hz
Stats 385955.8: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=298011 bytes_read=74349 bytes_retransmit=9 bytes_invalid=0 send_seq=5962 receive_seq=5962 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=19 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7548 bytes_read=1382519 bytes_retransmit=9 bytes_invalid=0 send_seq=1092 receive_seq=1092 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000025 adj=12000584  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.03 cputime=36.021 memavail=3201220 print_time=234.994 buffer_time=2.222 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 78 Hz
Stats 385956.8: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=302532 bytes_read=74983 bytes_retransmit=9 bytes_invalid=0 send_seq=6044 receive_seq=6044 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=0 freq=63997578 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7624 bytes_read=1401614 bytes_retransmit=9 bytes_invalid=0 send_seq=1103 receive_seq=1103 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000026 adj=12000575  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.03 cputime=36.105 memavail=3200548 print_time=235.998 buffer_time=2.225 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 79 Hz
Stats 385957.8: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=307017 bytes_read=75592 bytes_retransmit=9 bytes_invalid=0 send_seq=6124 receive_seq=6124 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=78 freq=63997578 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7700 bytes_read=1420770 bytes_retransmit=9 bytes_invalid=0 send_seq=1114 receive_seq=1114 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000026 adj=12000562  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.03 cputime=36.189 memavail=3196724 print_time=236.992 buffer_time=2.219 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 80 Hz
Stats 385958.8: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=311533 bytes_read=76221 bytes_retransmit=9 bytes_invalid=0 send_seq=6205 receive_seq=6205 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=26 upcoming_bytes=208 freq=63997580 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7776 bytes_read=1439882 bytes_retransmit=9 bytes_invalid=0 send_seq=1125 receive_seq=1125 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000027 adj=12000556  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.03 cputime=36.282 memavail=3150692 print_time=237.998 buffer_time=2.225 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 81 Hz
Stats 385959.8: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=316106 bytes_read=76855 bytes_retransmit=9 bytes_invalid=0 send_seq=6287 receive_seq=6287 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=52 upcoming_bytes=286 freq=63997579 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7852 bytes_read=1459160 bytes_retransmit=9 bytes_invalid=0 send_seq=1136 receive_seq=1136 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000028 adj=12000553  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.94 cputime=36.369 memavail=3192600 print_time=238.996 buffer_time=2.218 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 82 Hz
Stats 385960.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000036 mcu_task_stddev=0.000039 bytes_write=320741 bytes_read=77500 bytes_retransmit=9 bytes_invalid=0 send_seq=6371 receive_seq=6371 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=409 freq=63997578 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7928 bytes_read=1478255 bytes_retransmit=9 bytes_invalid=0 send_seq=1147 receive_seq=1147 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000029 adj=12000551  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.94 cputime=36.456 memavail=3173584 print_time=239.996 buffer_time=2.218 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 83 Hz
Stats 385961.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000036 mcu_task_stddev=0.000039 bytes_write=325449 bytes_read=78139 bytes_retransmit=9 bytes_invalid=0 send_seq=6454 receive_seq=6454 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=520 freq=63997579 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8004 bytes_read=1497411 bytes_retransmit=9 bytes_invalid=0 send_seq=1158 receive_seq=1158 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000030 adj=12000550  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.94 cputime=36.540 memavail=3167144 print_time=240.996 buffer_time=2.217 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 84 Hz
Stats 385962.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000036 mcu_task_stddev=0.000039 bytes_write=330167 bytes_read=78788 bytes_retransmit=9 bytes_invalid=0 send_seq=6539 receive_seq=6539 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=650 freq=63997579 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8080 bytes_read=1516567 bytes_retransmit=9 bytes_invalid=0 send_seq=1169 receive_seq=1169 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000030 adj=12000545  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.94 cputime=36.637 memavail=3163740 print_time=241.999 buffer_time=2.220 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 85 Hz
Stats 385963.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000036 mcu_task_stddev=0.000039 bytes_write=335020 bytes_read=79422 bytes_retransmit=9 bytes_invalid=0 send_seq=6625 receive_seq=6624 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=745 freq=63997580 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8156 bytes_read=1535740 bytes_retransmit=9 bytes_invalid=0 send_seq=1180 receive_seq=1180 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000031 adj=12000543  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.94 cputime=36.733 memavail=3193028 print_time=243.000 buffer_time=2.219 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 86 Hz
Stats 385964.8: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000036 mcu_task_stddev=0.000039 bytes_write=339847 bytes_read=80081 bytes_retransmit=9 bytes_invalid=0 send_seq=6711 receive_seq=6711 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=868 freq=63997581 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8232 bytes_read=1554896 bytes_retransmit=9 bytes_invalid=0 send_seq=1191 receive_seq=1191 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000032 adj=12000540  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.79 cputime=36.809 memavail=3191272 print_time=244.000 buffer_time=2.218 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 87 Hz
Stats 385965.8: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=344788 bytes_read=80761 bytes_retransmit=9 bytes_invalid=0 send_seq=6799 receive_seq=6799 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=979 freq=63997582 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8308 bytes_read=1573991 bytes_retransmit=9 bytes_invalid=0 send_seq=1202 receive_seq=1202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000033 adj=12000537  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.79 cputime=36.897 memavail=3189872 print_time=245.000 buffer_time=2.218 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 88 Hz
Stats 385966.8: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=349760 bytes_read=81415 bytes_retransmit=9 bytes_invalid=0 send_seq=6888 receive_seq=6888 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=16 upcoming_bytes=1076 freq=63997580 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8384 bytes_read=1593208 bytes_retransmit=9 bytes_invalid=0 send_seq=1213 receive_seq=1213 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000033 adj=12000535  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.79 cputime=36.995 memavail=3186388 print_time=245.998 buffer_time=2.214 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 89 Hz
Stats 385967.8: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=354758 bytes_read=82084 bytes_retransmit=9 bytes_invalid=0 send_seq=6977 receive_seq=6977 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=1179 freq=63997577 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8453 bytes_read=1612280 bytes_retransmit=9 bytes_invalid=0 send_seq=1223 receive_seq=1223 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000034 adj=12000538  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.79 cputime=37.086 memavail=3184372 print_time=246.998 buffer_time=2.214 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 90 Hz
Stats 385968.8: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=359875 bytes_read=82768 bytes_retransmit=9 bytes_invalid=0 send_seq=7069 receive_seq=7069 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=1300 freq=63997575 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8529 bytes_read=1631453 bytes_retransmit=9 bytes_invalid=0 send_seq=1234 receive_seq=1234 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000035 adj=12000546  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.79 cputime=37.176 memavail=3180844 print_time=247.998 buffer_time=2.214 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 91 Hz
Stats 385969.8: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000038 bytes_write=365028 bytes_read=83448 bytes_retransmit=9 bytes_invalid=0 send_seq=7161 receive_seq=7161 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=1423 freq=63997584 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8605 bytes_read=1650548 bytes_retransmit=9 bytes_invalid=0 send_seq=1245 receive_seq=1245 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000036 adj=12000549  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.65 cputime=37.270 memavail=3174300 print_time=249.001 buffer_time=2.217 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 92 Hz
Stats 385970.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=370209 bytes_read=84153 bytes_retransmit=9 bytes_invalid=0 send_seq=7254 receive_seq=7254 retransmit_seq=2 srtt=0.001 rttvar=0.002 rto=0.025 ready_bytes=36 upcoming_bytes=1517 freq=63997580 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8681 bytes_read=1669704 bytes_retransmit=9 bytes_invalid=0 send_seq=1256 receive_seq=1256 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000037 adj=12000529  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.65 cputime=37.359 memavail=3126952 print_time=249.999 buffer_time=2.214 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 93 Hz
Stats 385971.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=375445 bytes_read=84842 bytes_retransmit=9 bytes_invalid=0 send_seq=7347 receive_seq=7347 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=1621 freq=63997578 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8757 bytes_read=1688799 bytes_retransmit=9 bytes_invalid=0 send_seq=1267 receive_seq=1267 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000037 adj=12000538  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.65 cputime=37.448 memavail=3173832 print_time=250.996 buffer_time=2.211 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 94 Hz
Stats 385972.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=380785 bytes_read=85526 bytes_retransmit=9 bytes_invalid=0 send_seq=7442 receive_seq=7442 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1759 freq=63997576 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8833 bytes_read=1708016 bytes_retransmit=9 bytes_invalid=0 send_seq=1278 receive_seq=1278 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000038 adj=12000543  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.65 cputime=37.531 memavail=3186028 print_time=252.002 buffer_time=2.216 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 95 Hz
Stats 385973.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=386177 bytes_read=86225 bytes_retransmit=9 bytes_invalid=0 send_seq=7537 receive_seq=7537 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1837 freq=63997577 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8909 bytes_read=1727128 bytes_retransmit=9 bytes_invalid=0 send_seq=1289 receive_seq=1289 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000039 adj=12000545  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.65 cputime=37.621 memavail=3180888 print_time=252.997 buffer_time=2.210 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 96 Hz
Stats 385974.8: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=391574 bytes_read=86929 bytes_retransmit=9 bytes_invalid=0 send_seq=7633 receive_seq=7633 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=1979 freq=63997579 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8985 bytes_read=1746284 bytes_retransmit=9 bytes_invalid=0 send_seq=1300 receive_seq=1300 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000039 adj=12000540  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.75 cputime=37.720 memavail=3174808 print_time=254.002 buffer_time=2.215 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 97 Hz
Stats 385975.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=397085 bytes_read=87644 bytes_retransmit=9 bytes_invalid=0 send_seq=7731 receive_seq=7731 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=2063 freq=63997586 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9061 bytes_read=1765440 bytes_retransmit=9 bytes_invalid=0 send_seq=1311 receive_seq=1311 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000040 adj=12000535  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.75 cputime=37.818 memavail=3170284 print_time=255.000 buffer_time=2.211 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 98 Hz
Stats 385976.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=402596 bytes_read=88358 bytes_retransmit=9 bytes_invalid=0 send_seq=7829 receive_seq=7829 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=2184 freq=63997585 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9137 bytes_read=1784596 bytes_retransmit=9 bytes_invalid=0 send_seq=1322 receive_seq=1322 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000040 adj=12000518  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.75 cputime=37.895 memavail=3162980 print_time=256.000 buffer_time=2.211 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 99 Hz
Stats 385977.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=408221 bytes_read=89082 bytes_retransmit=9 bytes_invalid=0 send_seq=7929 receive_seq=7929 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2279 freq=63997582 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9213 bytes_read=1803752 bytes_retransmit=9 bytes_invalid=0 send_seq=1333 receive_seq=1333 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000041 adj=12000522  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.75 cputime=37.984 memavail=3159704 print_time=256.998 buffer_time=2.207 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 100 Hz
Stats 385978.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=413903 bytes_read=89796 bytes_retransmit=9 bytes_invalid=0 send_seq=8030 receive_seq=8030 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=9 upcoming_bytes=2418 freq=63997582 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9289 bytes_read=1822864 bytes_retransmit=9 bytes_invalid=0 send_seq=1344 receive_seq=1344 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000041 adj=12000531  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.75 cputime=38.082 memavail=3150884 print_time=258.003 buffer_time=2.211 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 101 Hz
Stats 385979.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000031 mcu_task_stddev=0.000037 bytes_write=419611 bytes_read=90525 bytes_retransmit=9 bytes_invalid=0 send_seq=8131 receive_seq=8131 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=2515 freq=63997580 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9365 bytes_read=1842020 bytes_retransmit=9 bytes_invalid=0 send_seq=1355 receive_seq=1355 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000042 adj=12000531  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.85 cputime=38.218 memavail=3147104 print_time=259.003 buffer_time=2.211 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 102 Hz
Stats 385980.8: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=425350 bytes_read=91275 bytes_retransmit=9 bytes_invalid=0 send_seq=8233 receive_seq=8233 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=2609 freq=63997577 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9441 bytes_read=1861176 bytes_retransmit=9 bytes_invalid=0 send_seq=1366 receive_seq=1366 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000043 adj=12000535  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.85 cputime=38.307 memavail=3144340 print_time=260.001 buffer_time=2.207 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 103 Hz
Stats 385981.8: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=431229 bytes_read=91999 bytes_retransmit=9 bytes_invalid=0 send_seq=8337 receive_seq=8336 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=2704 freq=63997578 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9517 bytes_read=1880332 bytes_retransmit=9 bytes_invalid=0 send_seq=1377 receive_seq=1377 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000043 adj=12000542  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.85 cputime=38.407 memavail=3137288 print_time=260.998 buffer_time=2.204 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 104 Hz
Stats 385982.8: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=437082 bytes_read=92748 bytes_retransmit=9 bytes_invalid=0 send_seq=8441 receive_seq=8441 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=42 upcoming_bytes=2844 freq=63997575 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9593 bytes_read=1899488 bytes_retransmit=9 bytes_invalid=0 send_seq=1388 receive_seq=1388 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000044 adj=12000539  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.85 cputime=38.504 memavail=3115868 print_time=262.003 buffer_time=2.208 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 105 Hz
Stats 385983.8: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=443023 bytes_read=93502 bytes_retransmit=9 bytes_invalid=0 send_seq=8547 receive_seq=8547 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=2941 freq=63997576 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9662 bytes_read=1918638 bytes_retransmit=9 bytes_invalid=0 send_seq=1398 receive_seq=1398 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000044 adj=12000546  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.85 cputime=38.599 memavail=3148608 print_time=263.001 buffer_time=2.206 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 106 Hz
Stats 385984.8: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=449047 bytes_read=94246 bytes_retransmit=9 bytes_invalid=0 send_seq=8654 receive_seq=8654 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=3042 freq=63997575 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9738 bytes_read=1937733 bytes_retransmit=9 bytes_invalid=0 send_seq=1409 receive_seq=1409 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000045 adj=12000540  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.95 cputime=38.691 memavail=3158096 print_time=264.001 buffer_time=2.205 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 107 Hz
Stats 385985.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=455097 bytes_read=95021 bytes_retransmit=9 bytes_invalid=0 send_seq=8761 receive_seq=8761 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=3172 freq=63997575 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9814 bytes_read=1956889 bytes_retransmit=9 bytes_invalid=0 send_seq=1420 receive_seq=1420 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000045 adj=12000541  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.95 cputime=38.791 memavail=3147728 print_time=265.004 buffer_time=2.207 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 108 Hz
Stats 385986.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=461204 bytes_read=95785 bytes_retransmit=9 bytes_invalid=0 send_seq=8869 receive_seq=8869 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=3174 freq=63997573 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9890 bytes_read=1976045 bytes_retransmit=9 bytes_invalid=0 send_seq=1431 receive_seq=1431 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000046 adj=12000541  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.95 cputime=38.893 memavail=3145208 print_time=266.004 buffer_time=2.206 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 109 Hz
Stats 385987.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=468055 bytes_read=96594 bytes_retransmit=9 bytes_invalid=0 send_seq=8990 receive_seq=8989 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1509 freq=63997574 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9966 bytes_read=1995201 bytes_retransmit=9 bytes_invalid=0 send_seq=1442 receive_seq=1442 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000046 adj=12000546  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.95 cputime=38.988 memavail=3144988 print_time=267.004 buffer_time=2.205 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 110 Hz
Stats 385988.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=474276 bytes_read=97348 bytes_retransmit=9 bytes_invalid=0 send_seq=9095 receive_seq=9095 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=57 upcoming_bytes=0 freq=63997571 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10042 bytes_read=2014374 bytes_retransmit=9 bytes_invalid=0 send_seq=1453 receive_seq=1453 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000047 adj=12000542  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.95 cputime=39.067 memavail=3140200 print_time=268.002 buffer_time=2.202 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 111 Hz
Stats 385989.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=479142 bytes_read=97997 bytes_retransmit=9 bytes_invalid=0 send_seq=9180 receive_seq=9180 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=30 upcoming_bytes=0 freq=63997568 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10118 bytes_read=2033469 bytes_retransmit=9 bytes_invalid=0 send_seq=1464 receive_seq=1464 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000048 adj=12000547  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.95 cputime=39.148 memavail=3133384 print_time=269.002 buffer_time=2.202 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 112 Hz
Stats 385990.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=484423 bytes_read=98697 bytes_retransmit=9 bytes_invalid=0 send_seq=9276 receive_seq=9276 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=63997566 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10194 bytes_read=2052625 bytes_retransmit=9 bytes_invalid=0 send_seq=1475 receive_seq=1475 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000048 adj=12000552  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.95 cputime=39.240 memavail=3139336 print_time=270.005 buffer_time=2.204 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 113 Hz
Stats 385991.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=489699 bytes_read=99386 bytes_retransmit=9 bytes_invalid=0 send_seq=9371 receive_seq=9371 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=0 freq=63997563 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10270 bytes_read=2071781 bytes_retransmit=9 bytes_invalid=0 send_seq=1486 receive_seq=1486 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000049 adj=12000555  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.95 cputime=39.328 memavail=3156744 print_time=271.003 buffer_time=2.201 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 114 Hz
Stats 385992.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=494950 bytes_read=100077 bytes_retransmit=9 bytes_invalid=0 send_seq=9466 receive_seq=9466 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=3 upcoming_bytes=0 freq=63997561 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10346 bytes_read=2090937 bytes_retransmit=9 bytes_invalid=0 send_seq=1497 receive_seq=1497 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000049 adj=12000558  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.95 cputime=39.404 memavail=3151204 print_time=272.005 buffer_time=2.202 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 115 Hz
Stats 385993.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=499808 bytes_read=100694 bytes_retransmit=9 bytes_invalid=0 send_seq=9549 receive_seq=9549 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=0 freq=63997559 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10422 bytes_read=2110110 bytes_retransmit=9 bytes_invalid=0 send_seq=1508 receive_seq=1508 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000050 adj=12000560  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.95 cputime=39.492 memavail=3143896 print_time=273.003 buffer_time=2.199 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 116 Hz
Stats 385994.8: gcodein=0  mcu: mcu_awake=0.057 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=504958 bytes_read=101368 bytes_retransmit=9 bytes_invalid=0 send_seq=9640 receive_seq=9640 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=31 upcoming_bytes=0 freq=63997557 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10498 bytes_read=2129205 bytes_retransmit=9 bytes_invalid=0 send_seq=1519 receive_seq=1519 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000050 adj=12000564  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.35 cputime=39.585 memavail=3107104 print_time=274.003 buffer_time=2.199 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 117 Hz
Stats 385995.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=510302 bytes_read=102083 bytes_retransmit=9 bytes_invalid=0 send_seq=9735 receive_seq=9735 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=0 freq=63997555 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10574 bytes_read=2148361 bytes_retransmit=9 bytes_invalid=0 send_seq=1530 receive_seq=1530 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000051 adj=12000564  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.35 cputime=39.672 memavail=3153944 print_time=275.003 buffer_time=2.198 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 118 Hz
Stats 385996.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=515806 bytes_read=102787 bytes_retransmit=9 bytes_invalid=0 send_seq=9834 receive_seq=9834 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=78 freq=63997554 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10650 bytes_read=2167517 bytes_retransmit=9 bytes_invalid=0 send_seq=1541 receive_seq=1541 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000051 adj=12000565  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.35 cputime=39.746 memavail=3143688 print_time=276.005 buffer_time=2.200 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 119 Hz
Stats 385997.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=520343 bytes_read=103411 bytes_retransmit=9 bytes_invalid=0 send_seq=9914 receive_seq=9914 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=2201 freq=63997557 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10726 bytes_read=2186673 bytes_retransmit=9 bytes_invalid=0 send_seq=1552 receive_seq=1552 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000562  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.35 cputime=39.840 memavail=3131404 print_time=277.001 buffer_time=2.196 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 120 Hz
Stats 385998.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=524885 bytes_read=104040 bytes_retransmit=9 bytes_invalid=0 send_seq=9995 receive_seq=9995 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=23 upcoming_bytes=4520 freq=63997558 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10802 bytes_read=2205846 bytes_retransmit=9 bytes_invalid=0 send_seq=1563 receive_seq=1563 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000553  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.35 cputime=39.942 memavail=3126252 print_time=278.006 buffer_time=2.199 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 121 Hz
Stats 385999.8: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=531256 bytes_read=104799 bytes_retransmit=9 bytes_invalid=0 send_seq=10105 receive_seq=10105 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=3570 freq=63997557 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10878 bytes_read=2224941 bytes_retransmit=9 bytes_invalid=0 send_seq=1574 receive_seq=1574 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000550  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.33 cputime=40.037 memavail=3143640 print_time=279.002 buffer_time=2.194 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 122 Hz
Stats 386000.8: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=537903 bytes_read=105589 bytes_retransmit=9 bytes_invalid=0 send_seq=10215 receive_seq=10215 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=51 upcoming_bytes=1642 freq=63997556 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10953 bytes_read=2244090 bytes_retransmit=9 bytes_invalid=0 send_seq=1585 receive_seq=1585 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000549  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.33 cputime=40.117 memavail=3144648 print_time=280.004 buffer_time=2.196 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 123 Hz
Stats 386001.8: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=544005 bytes_read=106318 bytes_retransmit=9 bytes_invalid=0 send_seq=10316 receive_seq=10316 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=323 freq=63997558 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11029 bytes_read=2263246 bytes_retransmit=9 bytes_invalid=0 send_seq=1596 receive_seq=1596 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000550  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.33 cputime=40.210 memavail=3144152 print_time=281.004 buffer_time=2.195 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 124 Hz
Stats 386002.8: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=548602 bytes_read=106912 bytes_retransmit=9 bytes_invalid=0 send_seq=10393 receive_seq=10393 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=408 freq=63997560 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11105 bytes_read=2282402 bytes_retransmit=9 bytes_invalid=0 send_seq=1607 receive_seq=1607 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000543  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=2.33 cputime=40.310 memavail=3135268 print_time=282.006 buffer_time=2.197 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 125 Hz
Stats 386003.8: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=553214 bytes_read=107521 bytes_retransmit=9 bytes_invalid=0 send_seq=10470 receive_seq=10470 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=27 upcoming_bytes=476 freq=63997560 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11181 bytes_read=2301514 bytes_retransmit=9 bytes_invalid=0 send_seq=1618 receive_seq=1618 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000540  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.33 cputime=40.400 memavail=3131796 print_time=283.004 buffer_time=2.195 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 126 Hz
Stats 386004.8: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=557858 bytes_read=108135 bytes_retransmit=9 bytes_invalid=0 send_seq=10548 receive_seq=10548 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=44 upcoming_bytes=554 freq=63997560 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11257 bytes_read=2320670 bytes_retransmit=9 bytes_invalid=0 send_seq=1629 receive_seq=1629 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000539  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.14 cputime=40.483 memavail=3125748 print_time=284.006 buffer_time=2.196 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 127 Hz
Stats 386005.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=562558 bytes_read=108755 bytes_retransmit=9 bytes_invalid=0 send_seq=10627 receive_seq=10627 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=51 upcoming_bytes=605 freq=63997560 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11333 bytes_read=2339826 bytes_retransmit=9 bytes_invalid=0 send_seq=1640 receive_seq=1640 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000536  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.14 cputime=40.573 memavail=3116676 print_time=285.003 buffer_time=2.192 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 128 Hz
Stats 386006.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=567334 bytes_read=109379 bytes_retransmit=9 bytes_invalid=0 send_seq=10707 receive_seq=10707 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=24 upcoming_bytes=680 freq=63997559 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11409 bytes_read=2358982 bytes_retransmit=9 bytes_invalid=0 send_seq=1651 receive_seq=1651 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000536  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.14 cputime=40.668 memavail=3080900 print_time=286.007 buffer_time=2.195 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 129 Hz
Stats 386007.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=572092 bytes_read=109998 bytes_retransmit=9 bytes_invalid=0 send_seq=10786 receive_seq=10786 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=34 upcoming_bytes=748 freq=63997556 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11485 bytes_read=2378077 bytes_retransmit=9 bytes_invalid=0 send_seq=1662 receive_seq=1662 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000538  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.14 cputime=40.759 memavail=3074840 print_time=287.005 buffer_time=2.193 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 130 Hz
Stats 386008.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=576882 bytes_read=110607 bytes_retransmit=9 bytes_invalid=0 send_seq=10866 receive_seq=10866 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=51 upcoming_bytes=833 freq=63997559 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11561 bytes_read=2397250 bytes_retransmit=9 bytes_invalid=0 send_seq=1673 receive_seq=1673 retransmit_seq=2 srtt=0.002 rttvar=0.003 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000545  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.14 cputime=40.846 memavail=3144032 print_time=288.007 buffer_time=2.195 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 131 Hz
Stats 386009.8: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=581784 bytes_read=111236 bytes_retransmit=9 bytes_invalid=0 send_seq=10948 receive_seq=10947 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=7 upcoming_bytes=904 freq=63997559 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11637 bytes_read=2416406 bytes_retransmit=9 bytes_invalid=0 send_seq=1684 receive_seq=1684 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000541  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.05 cputime=40.943 memavail=3136064 print_time=289.007 buffer_time=2.194 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 132 Hz
Stats 386010.8: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=586669 bytes_read=111891 bytes_retransmit=9 bytes_invalid=0 send_seq=11030 receive_seq=11030 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=962 freq=63997557 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11713 bytes_read=2435562 bytes_retransmit=9 bytes_invalid=0 send_seq=1695 receive_seq=1695 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000539  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.05 cputime=41.086 memavail=3129428 print_time=290.005 buffer_time=2.191 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 133 Hz
toolhead: max_velocity: 300.000000
max_accel: 4000.000000
minimum_cruise_ratio: 0.500000
square_corner_velocity: 5.000000
Stats 386011.8: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=590709 bytes_read=112440 bytes_retransmit=9 bytes_invalid=0 send_seq=11098 receive_seq=11098 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=44 upcoming_bytes=0 freq=63997559 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11789 bytes_read=2454718 bytes_retransmit=9 bytes_invalid=0 send_seq=1706 receive_seq=1706 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000543  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.05 cputime=41.172 memavail=3126188 print_time=290.605 buffer_time=1.791 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386012.8: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=590843 bytes_read=112699 bytes_retransmit=9 bytes_invalid=0 send_seq=11105 receive_seq=11105 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997557 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11865 bytes_read=2473874 bytes_retransmit=9 bytes_invalid=0 send_seq=1717 receive_seq=1717 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000058 adj=12000542  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.05 cputime=41.232 memavail=3123416 print_time=290.605 buffer_time=0.790 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
ADXL345 finished 'adxl345' measurements
Stats 386013.8: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=591174 bytes_read=112978 bytes_retransmit=9 bytes_invalid=0 send_seq=11116 receive_seq=11116 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997555 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11962 bytes_read=2491219 bytes_retransmit=9 bytes_invalid=0 send_seq=1730 receive_seq=1730 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000058 adj=12000552  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.05 cputime=41.321 memavail=3091312 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386014.8: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=591264 bytes_read=113222 bytes_retransmit=9 bytes_invalid=0 send_seq=11123 receive_seq=11123 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997554 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11968 bytes_read=2491235 bytes_retransmit=9 bytes_invalid=0 send_seq=1731 receive_seq=1731 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000063 adj=12000559  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.21 cputime=41.334 memavail=3056728 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386015.8: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000027 mcu_task_stddev=0.000036 bytes_write=591354 bytes_read=113496 bytes_retransmit=9 bytes_invalid=0 send_seq=11130 receive_seq=11130 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997552 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11974 bytes_read=2491251 bytes_retransmit=9 bytes_invalid=0 send_seq=1732 receive_seq=1732 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000065 adj=12000636  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=2.21 cputime=41.348 memavail=3196748 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Resonances data written to /tmp/resonances_x_20240325_213502.csv file
Stats 386016.8: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000027 mcu_task_stddev=0.000036 bytes_write=591486 bytes_read=113765 bytes_retransmit=9 bytes_invalid=0 send_seq=11139 receive_seq=11139 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997550 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11980 bytes_read=2491267 bytes_retransmit=9 bytes_invalid=0 send_seq=1733 receive_seq=1733 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000065 adj=12000654  heater_bed: target=0 temp=23.0 pwm=0.000 sysload=2.21 cputime=41.442 memavail=3202760 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386017.8: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000027 mcu_task_stddev=0.000036 bytes_write=591576 bytes_read=114009 bytes_retransmit=9 bytes_invalid=0 send_seq=11146 receive_seq=11146 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997554 PIS: mcu_awake=0.425 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11986 bytes_read=2491283 bytes_retransmit=9 bytes_invalid=0 send_seq=1734 receive_seq=1734 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000627  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=2.21 cputime=41.453 memavail=3202528 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386018.8: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000027 mcu_task_stddev=0.000036 bytes_write=591666 bytes_read=114268 bytes_retransmit=9 bytes_invalid=0 send_seq=11153 receive_seq=11153 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.059 mcu_task_avg=0.000024 mcu_task_stddev=0.000010 bytes_write=11992 bytes_read=2491313 bytes_retransmit=9 bytes_invalid=0 send_seq=1735 receive_seq=1735 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000616  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.21 cputime=41.463 memavail=3175636 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386019.8: gcodein=0  mcu: mcu_awake=0.019 mcu_task_avg=0.000027 mcu_task_stddev=0.000036 bytes_write=591756 bytes_read=114527 bytes_retransmit=9 bytes_invalid=0 send_seq=11160 receive_seq=11160 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997551 PIS: mcu_awake=0.059 mcu_task_avg=0.000024 mcu_task_stddev=0.000010 bytes_write=11998 bytes_read=2491329 bytes_retransmit=9 bytes_invalid=0 send_seq=1736 receive_seq=1736 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000596  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.11 cputime=41.474 memavail=3146808 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386020.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000025 bytes_write=591846 bytes_read=114786 bytes_retransmit=9 bytes_invalid=0 send_seq=11167 receive_seq=11167 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997552 PIS: mcu_awake=0.059 mcu_task_avg=0.000024 mcu_task_stddev=0.000010 bytes_write=12004 bytes_read=2491345 bytes_retransmit=9 bytes_invalid=0 send_seq=1737 receive_seq=1737 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000629  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.11 cputime=41.485 memavail=3203180 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386021.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000025 bytes_write=591936 bytes_read=115045 bytes_retransmit=9 bytes_invalid=0 send_seq=11174 receive_seq=11174 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997550 PIS: mcu_awake=0.059 mcu_task_avg=0.000024 mcu_task_stddev=0.000010 bytes_write=12010 bytes_read=2491361 bytes_retransmit=9 bytes_invalid=0 send_seq=1738 receive_seq=1738 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000618  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.11 cputime=41.496 memavail=3201920 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386022.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000025 bytes_write=592026 bytes_read=115304 bytes_retransmit=9 bytes_invalid=0 send_seq=11181 receive_seq=11181 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997549 PIS: mcu_awake=0.059 mcu_task_avg=0.000024 mcu_task_stddev=0.000010 bytes_write=12016 bytes_read=2491377 bytes_retransmit=9 bytes_invalid=0 send_seq=1739 receive_seq=1739 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000627  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.11 cputime=41.506 memavail=3201668 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386023.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000025 bytes_write=592116 bytes_read=115548 bytes_retransmit=9 bytes_invalid=0 send_seq=11188 receive_seq=11188 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997547 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12022 bytes_read=2491404 bytes_retransmit=9 bytes_invalid=0 send_seq=1740 receive_seq=1740 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000621  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.11 cputime=41.516 memavail=3201452 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386024.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000025 bytes_write=592206 bytes_read=115807 bytes_retransmit=9 bytes_invalid=0 send_seq=11195 receive_seq=11195 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997545 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12028 bytes_read=2491420 bytes_retransmit=9 bytes_invalid=0 send_seq=1741 receive_seq=1741 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000595  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.02 cputime=41.527 memavail=3198988 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386025.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592296 bytes_read=116081 bytes_retransmit=9 bytes_invalid=0 send_seq=11202 receive_seq=11202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997544 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12034 bytes_read=2491436 bytes_retransmit=9 bytes_invalid=0 send_seq=1742 receive_seq=1742 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000584  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.02 cputime=41.537 memavail=3197556 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386026.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592386 bytes_read=116325 bytes_retransmit=9 bytes_invalid=0 send_seq=11209 receive_seq=11209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997543 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12040 bytes_read=2491452 bytes_retransmit=9 bytes_invalid=0 send_seq=1743 receive_seq=1743 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000575  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.02 cputime=41.548 memavail=3195568 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386027.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592476 bytes_read=116584 bytes_retransmit=9 bytes_invalid=0 send_seq=11216 receive_seq=11216 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997542 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12046 bytes_read=2491468 bytes_retransmit=9 bytes_invalid=0 send_seq=1744 receive_seq=1744 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000568  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.02 cputime=41.559 memavail=3195324 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386028.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592566 bytes_read=116843 bytes_retransmit=9 bytes_invalid=0 send_seq=11223 receive_seq=11223 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997541 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12052 bytes_read=2491495 bytes_retransmit=9 bytes_invalid=0 send_seq=1745 receive_seq=1745 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000562  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.02 cputime=41.570 memavail=3195248 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386029.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592656 bytes_read=117087 bytes_retransmit=9 bytes_invalid=0 send_seq=11230 receive_seq=11230 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997540 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12058 bytes_read=2491511 bytes_retransmit=9 bytes_invalid=0 send_seq=1746 receive_seq=1746 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000554  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.86 cputime=41.580 memavail=3195044 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386030.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592752 bytes_read=117377 bytes_retransmit=9 bytes_invalid=0 send_seq=11238 receive_seq=11238 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997538 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12064 bytes_read=2491527 bytes_retransmit=9 bytes_invalid=0 send_seq=1747 receive_seq=1747 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000551  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.86 cputime=41.591 memavail=3159064 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386031.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592842 bytes_read=117636 bytes_retransmit=9 bytes_invalid=0 send_seq=11245 receive_seq=11245 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997538 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12070 bytes_read=2491543 bytes_retransmit=9 bytes_invalid=0 send_seq=1748 receive_seq=1748 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000552  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.86 cputime=41.601 memavail=3194024 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386032.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=592932 bytes_read=117880 bytes_retransmit=9 bytes_invalid=0 send_seq=11252 receive_seq=11252 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997537 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12076 bytes_read=2491559 bytes_retransmit=9 bytes_invalid=0 send_seq=1749 receive_seq=1749 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000550  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.86 cputime=41.612 memavail=3190064 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386033.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593022 bytes_read=118154 bytes_retransmit=9 bytes_invalid=0 send_seq=11259 receive_seq=11259 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997537 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12082 bytes_read=2491586 bytes_retransmit=9 bytes_invalid=0 send_seq=1750 receive_seq=1750 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000548  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.86 cputime=41.624 memavail=3189556 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386034.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593112 bytes_read=118398 bytes_retransmit=9 bytes_invalid=0 send_seq=11266 receive_seq=11266 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997536 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12088 bytes_read=2491602 bytes_retransmit=9 bytes_invalid=0 send_seq=1751 receive_seq=1751 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000533  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.71 cputime=41.634 memavail=3189564 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386035.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593202 bytes_read=118657 bytes_retransmit=9 bytes_invalid=0 send_seq=11273 receive_seq=11273 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997535 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12094 bytes_read=2491618 bytes_retransmit=9 bytes_invalid=0 send_seq=1752 receive_seq=1752 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000535  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.71 cputime=41.645 memavail=3188808 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386036.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593292 bytes_read=118931 bytes_retransmit=9 bytes_invalid=0 send_seq=11280 receive_seq=11280 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997535 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12100 bytes_read=2491634 bytes_retransmit=9 bytes_invalid=0 send_seq=1753 receive_seq=1753 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000536  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.71 cputime=41.656 memavail=3187800 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386037.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593382 bytes_read=119175 bytes_retransmit=9 bytes_invalid=0 send_seq=11287 receive_seq=11287 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997534 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12106 bytes_read=2491650 bytes_retransmit=9 bytes_invalid=0 send_seq=1754 receive_seq=1754 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000537  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.71 cputime=41.667 memavail=3186316 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386038.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593472 bytes_read=119419 bytes_retransmit=9 bytes_invalid=0 send_seq=11294 receive_seq=11294 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997534 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12112 bytes_read=2491677 bytes_retransmit=9 bytes_invalid=0 send_seq=1755 receive_seq=1755 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000538  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.71 cputime=41.678 memavail=3183292 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386039.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593562 bytes_read=119693 bytes_retransmit=9 bytes_invalid=0 send_seq=11301 receive_seq=11301 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997534 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12118 bytes_read=2491693 bytes_retransmit=9 bytes_invalid=0 send_seq=1756 receive_seq=1756 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000526  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.57 cputime=41.689 memavail=3183300 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386040.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593652 bytes_read=119952 bytes_retransmit=9 bytes_invalid=0 send_seq=11308 receive_seq=11308 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997534 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12124 bytes_read=2491709 bytes_retransmit=9 bytes_invalid=0 send_seq=1757 receive_seq=1757 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000527  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.57 cputime=41.699 memavail=3182312 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386041.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593742 bytes_read=120196 bytes_retransmit=9 bytes_invalid=0 send_seq=11315 receive_seq=11315 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997534 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12130 bytes_read=2491725 bytes_retransmit=9 bytes_invalid=0 send_seq=1758 receive_seq=1758 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000530  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.57 cputime=41.710 memavail=3181648 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386042.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593832 bytes_read=120470 bytes_retransmit=9 bytes_invalid=0 send_seq=11322 receive_seq=11322 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12136 bytes_read=2491741 bytes_retransmit=9 bytes_invalid=0 send_seq=1759 receive_seq=1759 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000532  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.57 cputime=41.721 memavail=3139664 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386043.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=593922 bytes_read=120714 bytes_retransmit=9 bytes_invalid=0 send_seq=11329 receive_seq=11329 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12142 bytes_read=2491768 bytes_retransmit=9 bytes_invalid=0 send_seq=1760 receive_seq=1760 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000534  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.57 cputime=41.733 memavail=3195916 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386044.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594012 bytes_read=120973 bytes_retransmit=9 bytes_invalid=0 send_seq=11336 receive_seq=11336 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12148 bytes_read=2491784 bytes_retransmit=9 bytes_invalid=0 send_seq=1761 receive_seq=1761 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000521  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.45 cputime=41.743 memavail=3194656 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386045.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594102 bytes_read=121247 bytes_retransmit=9 bytes_invalid=0 send_seq=11343 receive_seq=11343 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12154 bytes_read=2491800 bytes_retransmit=9 bytes_invalid=0 send_seq=1762 receive_seq=1762 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000524  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.45 cputime=41.754 memavail=3194660 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386046.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594192 bytes_read=121491 bytes_retransmit=9 bytes_invalid=0 send_seq=11350 receive_seq=11350 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12160 bytes_read=2491816 bytes_retransmit=9 bytes_invalid=0 send_seq=1763 receive_seq=1763 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000528  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.45 cputime=41.765 memavail=3219672 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 386047.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594282 bytes_read=121750 bytes_retransmit=9 bytes_invalid=0 send_seq=11357 receive_seq=11357 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12166 bytes_read=2491832 bytes_retransmit=9 bytes_invalid=0 send_seq=1764 receive_seq=1764 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000529  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.45 cputime=41.776 memavail=3240456 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386048.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594372 bytes_read=122009 bytes_retransmit=9 bytes_invalid=0 send_seq=11364 receive_seq=11364 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12172 bytes_read=2491859 bytes_retransmit=9 bytes_invalid=0 send_seq=1765 receive_seq=1765 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000530  heater_bed: target=0 temp=23.0 pwm=0.000 sysload=1.45 cputime=41.787 memavail=3240456 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386049.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594462 bytes_read=122253 bytes_retransmit=9 bytes_invalid=0 send_seq=11371 receive_seq=11371 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12178 bytes_read=2491875 bytes_retransmit=9 bytes_invalid=0 send_seq=1766 receive_seq=1766 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000537  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.41 cputime=41.797 memavail=3240456 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386050.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594552 bytes_read=122527 bytes_retransmit=9 bytes_invalid=0 send_seq=11378 receive_seq=11378 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12184 bytes_read=2491891 bytes_retransmit=9 bytes_invalid=0 send_seq=1767 receive_seq=1767 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000567  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.41 cputime=41.808 memavail=3240204 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386051.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594642 bytes_read=122786 bytes_retransmit=9 bytes_invalid=0 send_seq=11385 receive_seq=11385 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12190 bytes_read=2491907 bytes_retransmit=9 bytes_invalid=0 send_seq=1768 receive_seq=1768 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000559  heater_bed: target=0 temp=23.0 pwm=0.000 sysload=1.41 cputime=41.820 memavail=3240208 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386052.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594732 bytes_read=123030 bytes_retransmit=9 bytes_invalid=0 send_seq=11392 receive_seq=11392 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12196 bytes_read=2491923 bytes_retransmit=9 bytes_invalid=0 send_seq=1769 receive_seq=1769 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000081 adj=12000553  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.41 cputime=41.830 memavail=3240216 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386053.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594822 bytes_read=123289 bytes_retransmit=9 bytes_invalid=0 send_seq=11399 receive_seq=11399 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12202 bytes_read=2491950 bytes_retransmit=9 bytes_invalid=0 send_seq=1770 receive_seq=1770 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000079 adj=12000712  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.41 cputime=41.841 memavail=3236688 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386054.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=594912 bytes_read=123548 bytes_retransmit=9 bytes_invalid=0 send_seq=11406 receive_seq=11406 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12208 bytes_read=2491966 bytes_retransmit=9 bytes_invalid=0 send_seq=1771 receive_seq=1771 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000086 adj=12000646  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.38 cputime=41.852 memavail=3203176 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386055.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595002 bytes_read=123807 bytes_retransmit=9 bytes_invalid=0 send_seq=11413 receive_seq=11413 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12214 bytes_read=2491982 bytes_retransmit=9 bytes_invalid=0 send_seq=1772 receive_seq=1772 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000091 adj=12000754  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.38 cputime=41.864 memavail=3241960 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386056.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595092 bytes_read=124066 bytes_retransmit=9 bytes_invalid=0 send_seq=11420 receive_seq=11420 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12220 bytes_read=2491998 bytes_retransmit=9 bytes_invalid=0 send_seq=1773 receive_seq=1773 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000091 adj=12000794  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.38 cputime=41.874 memavail=3240452 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386057.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595182 bytes_read=124320 bytes_retransmit=9 bytes_invalid=0 send_seq=11427 receive_seq=11427 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12226 bytes_read=2492014 bytes_retransmit=9 bytes_invalid=0 send_seq=1774 receive_seq=1774 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000092 adj=12000734  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=1.38 cputime=41.885 memavail=3236932 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386058.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595272 bytes_read=124557 bytes_retransmit=9 bytes_invalid=0 send_seq=11434 receive_seq=11434 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12232 bytes_read=2492041 bytes_retransmit=9 bytes_invalid=0 send_seq=1775 receive_seq=1775 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000092 adj=12000710  heater_bed: target=0 temp=23.1 pwm=0.000 sysload=1.38 cputime=41.896 memavail=3236428 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386059.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595362 bytes_read=124808 bytes_retransmit=9 bytes_invalid=0 send_seq=11441 receive_seq=11441 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12238 bytes_read=2492057 bytes_retransmit=9 bytes_invalid=0 send_seq=1776 receive_seq=1776 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000099 adj=12000662  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.27 cputime=41.907 memavail=3235928 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 386060.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595452 bytes_read=125074 bytes_retransmit=9 bytes_invalid=0 send_seq=11448 receive_seq=11448 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12244 bytes_read=2492073 bytes_retransmit=9 bytes_invalid=0 send_seq=1777 receive_seq=1777 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000100 adj=12000772  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.27 cputime=41.918 memavail=3235928 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386061.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595542 bytes_read=125314 bytes_retransmit=9 bytes_invalid=0 send_seq=11455 receive_seq=11455 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12256 bytes_read=2492105 bytes_retransmit=9 bytes_invalid=0 send_seq=1779 receive_seq=1779 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000101 adj=12000737  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.27 cputime=41.928 memavail=3231896 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386062.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595632 bytes_read=125573 bytes_retransmit=9 bytes_invalid=0 send_seq=11462 receive_seq=11462 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12262 bytes_read=2492121 bytes_retransmit=9 bytes_invalid=0 send_seq=1780 receive_seq=1780 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000103 adj=12000714  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.27 cputime=41.939 memavail=3231680 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386063.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595722 bytes_read=125832 bytes_retransmit=9 bytes_invalid=0 send_seq=11469 receive_seq=11469 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12268 bytes_read=2492148 bytes_retransmit=9 bytes_invalid=0 send_seq=1781 receive_seq=1781 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000106 adj=12000728  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.27 cputime=41.950 memavail=3231460 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386064.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595812 bytes_read=126076 bytes_retransmit=9 bytes_invalid=0 send_seq=11476 receive_seq=11476 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12274 bytes_read=2492164 bytes_retransmit=9 bytes_invalid=0 send_seq=1782 receive_seq=1782 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000110 adj=12000743  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.16 cputime=41.960 memavail=3231236 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386065.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595902 bytes_read=126350 bytes_retransmit=9 bytes_invalid=0 send_seq=11483 receive_seq=11483 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12280 bytes_read=2492180 bytes_retransmit=9 bytes_invalid=0 send_seq=1783 receive_seq=1783 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000108 adj=12000770  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.16 cputime=41.971 memavail=3208080 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386066.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=595992 bytes_read=126609 bytes_retransmit=9 bytes_invalid=0 send_seq=11490 receive_seq=11490 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12286 bytes_read=2492196 bytes_retransmit=9 bytes_invalid=0 send_seq=1784 receive_seq=1784 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000110 adj=12000689  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.16 cputime=41.982 memavail=3186884 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386067.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=596082 bytes_read=126853 bytes_retransmit=9 bytes_invalid=0 send_seq=11497 receive_seq=11497 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12292 bytes_read=2492212 bytes_retransmit=9 bytes_invalid=0 send_seq=1785 receive_seq=1785 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000113 adj=12000704  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.16 cputime=41.993 memavail=3236348 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386068.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=596172 bytes_read=127112 bytes_retransmit=9 bytes_invalid=0 send_seq=11504 receive_seq=11504 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12298 bytes_read=2492239 bytes_retransmit=9 bytes_invalid=0 send_seq=1786 receive_seq=1786 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000115 adj=12000721  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.16 cputime=42.004 memavail=3235088 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386069.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=596262 bytes_read=127371 bytes_retransmit=9 bytes_invalid=0 send_seq=11511 receive_seq=11511 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12304 bytes_read=2492255 bytes_retransmit=9 bytes_invalid=0 send_seq=1787 receive_seq=1787 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000118 adj=12000735  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.07 cputime=42.015 memavail=3228536 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386070.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=596352 bytes_read=127630 bytes_retransmit=9 bytes_invalid=0 send_seq=11518 receive_seq=11518 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12310 bytes_read=2492271 bytes_retransmit=9 bytes_invalid=0 send_seq=1788 receive_seq=1788 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000119 adj=12000740  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=1.07 cputime=42.026 memavail=3227612 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 386071.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=596442 bytes_read=127889 bytes_retransmit=9 bytes_invalid=0 send_seq=11525 receive_seq=11525 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12316 bytes_read=2492287 bytes_retransmit=9 bytes_invalid=0 send_seq=1789 receive_seq=1789 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000120 adj=12000737  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.07 cputime=42.037 memavail=3227612 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386072.9: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=596532 bytes_read=128148 bytes_retransmit=9 bytes_invalid=0 send_seq=11532 receive_seq=11532 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=12322 bytes_read=2492303 bytes_retransmit=9 bytes_invalid=0 send_seq=1790 receive_seq=1790 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000121 adj=12000719  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=1.07 cputime=42.048 memavail=3227624 print_time=290.605 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Timeout with MCU 'PIS' (eventtime=386087.873922)
Transition to shutdown state: Lost communication with MCU 'PIS'
Dumping gcode input 0 blocks
Dumping 20 requests for client 135448637308544
Received 385728.508411: b'{"id": 135512759437440, "method": "objects/subscribe", "params": {"objects": {"webhooks": null, "print_stats": null, "heater_bed": null, "extruder": null, "gcode": null, "configfile": null, "mcu": null, "mcu PIS": null, "gcode_move": null, "virtual_sdcard": null, "pause_resume": null, "display_status": null, "gcode_macro CANCEL_PRINT": null, "gcode_macro PAUSE": null, "gcode_macro RESUME": null, "gcode_macro SET_PAUSE_NEXT_LAYER": null, "gcode_macro SET_PAUSE_AT_LAYER": null, "gcode_macro SET_PRINT_STATS_INFO": null, "gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL": null, "gcode_macro _CLIENT_EXTRUDE": null, "gcode_macro _CLIENT_RETRACT": null, "probe": null, "bed_mesh": null, "bed_screws": null, "screws_tilt_adjust": null, "stepper_enable": null, "tmc2209 stepper_x": null, "tmc2209 stepper_y": null, "tmc2209 stepper_z": null, "tmc2209 extruder": null, "heaters": null, "heater_fan controller_fan": null, "heater_fan nozzle_cooling_fan": null, "fan": null, "gcode_macro GET_TIMELAPSE_SETUP": null, "gcode_macro _SET_TIMELAPSE_SETUP": null, "gcode_macro TIMELAPSE_TAKE_FRAME": null, "gcode_macro _TIMELAPSE_NEW_FRAME": null, "gcode_macro HYPERLAPSE": null, "gcode_macro TIMELAPSE_RENDER": null, "gcode_macro TEST_STREAM_DELAY": null, "gcode_macro M205": null, "gcode_macro clean_nozzle": null, "gcode_macro BED_MESH_CALIBRATE": null, "gcode_macro PART_COOLING_FAN_ON": null, "gcode_macro PART_COOLING_FAN_OFF": null, "gcode_macro PRIME_EXTRUDER": null, "gcode_macro START_PRINT": null, "gcode_macro END_PRINT": null, "gcode_macro M600": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "motion_report": null, "query_endstops": null, "idle_timeout": null, "system_stats": null, "manual_probe": null, "toolhead": null}, "response_template": {"method": "process_status_update"}}}'
Received 385728.813476: b'{"id": 135512759444640, "method": "objects/query", "params": {"objects": {"extruder": ["can_extrude"]}}}'
Received 385729.091419: b'{"id": 135512760614528, "method": "objects/subscribe", "params": {"objects": {"print_stats": null, "webhooks": null, "virtual_sdcard": null, "history": null, "heater_bed": null, "extruder": null, "gcode": null, "configfile": null, "mcu": null, "mcu PIS": null, "gcode_move": null, "pause_resume": null, "display_status": null, "gcode_macro CANCEL_PRINT": null, "gcode_macro PAUSE": null, "gcode_macro RESUME": null, "gcode_macro SET_PAUSE_NEXT_LAYER": null, "gcode_macro SET_PAUSE_AT_LAYER": null, "gcode_macro SET_PRINT_STATS_INFO": null, "gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL": null, "gcode_macro _CLIENT_EXTRUDE": null, "gcode_macro _CLIENT_RETRACT": null, "probe": null, "bed_mesh": null, "bed_screws": null, "screws_tilt_adjust": null, "stepper_enable": null, "tmc2209 stepper_x": null, "tmc2209 stepper_y": null, "tmc2209 stepper_z": null, "tmc2209 extruder": null, "heaters": null, "heater_fan controller_fan": null, "heater_fan nozzle_cooling_fan": null, "fan": null, "gcode_macro GET_TIMELAPSE_SETUP": null, "gcode_macro _SET_TIMELAPSE_SETUP": null, "gcode_macro TIMELAPSE_TAKE_FRAME": null, "gcode_macro _TIMELAPSE_NEW_FRAME": null, "gcode_macro HYPERLAPSE": null, "gcode_macro TIMELAPSE_RENDER": null, "gcode_macro TEST_STREAM_DELAY": null, "gcode_macro M205": null, "gcode_macro clean_nozzle": null, "gcode_macro BED_MESH_CALIBRATE": null, "gcode_macro PART_COOLING_FAN_ON": null, "gcode_macro PART_COOLING_FAN_OFF": null, "gcode_macro PRIME_EXTRUDER": null, "gcode_macro START_PRINT": null, "gcode_macro END_PRINT": null, "gcode_macro M600": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "motion_report": null, "query_endstops": null, "idle_timeout": null, "system_stats": null, "manual_probe": null, "toolhead": null}, "response_template": {"method": "process_status_update"}}}'
Received 385729.262639: b'{"id": 135512758991744, "method": "objects/query", "params": {"objects": {"print_stats": null}}}'
Received 385738.670748: b'{"id": 135512733001968, "method": "gcode/script", "params": {"script": "ACCELEROMETER_QUERY"}}'
Received 385742.506751: b'{"id": 135512759414416, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385772.535550: b'{"id": 135512732995728, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385802.561910: b'{"id": 135512760644224, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385832.591378: b'{"id": 135512759273744, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385847.466048: b'{"id": 135512759276432, "method": "gcode/script", "params": {"script": "TEST_RESONANCES AXIS=X"}}'
Received 385853.902908: b'{"id": 135512760646720, "method": "gcode/script", "params": {"script": "G28"}}'
Received 385862.625454: b'{"id": 135512759576480, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385882.178694: b'{"id": 135512759570000, "method": "gcode/script", "params": {"script": "TEST_RESONANCES AXIS=X"}}'
Received 385892.650242: b'{"id": 135512732999568, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385922.682200: b'{"id": 135512760640384, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385952.713808: b'{"id": 135512759580512, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 385982.747839: b'{"id": 135512759280512, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 386012.776916: b'{"id": 135512759275520, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 386042.806332: b'{"id": 135512733000096, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
Received 386072.833512: b'{"id": 135512759572880, "method": "objects/query", "params": {"objects": {"webhooks": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "heaters": null, "toolhead": null, "extruder": null, "gcode_move": null, "gcode_macro _OBICO_LAYER_CHANGE": null, "fan": null, "heater_bed": null}}}'
gcode state: absolute_coord=True absolute_extrude=True base_position=[0.0, 0.0, 0.0, 0.0] last_position=[100.0, 100.0, 20.0, 0.0] homing_position=[0.0, 0.0, 0.0, 0.0] speed_factor=0.016666666666666666 extrude_factor=1.0 speed=25.0
Reactor garbage collection: (386069.43771887, 386012.906611681, 386010.019265599)
MCU 'mcu' shutdown: Command request
clocksync state: mcu_freq=64000000 last_clock=23292066595 clock_est=(386058.391 21464821210 63997542.894) min_half_rtt=0.000107 min_rtt_time=385751.999 time_avg=386058.391(843.288) clock_avg=21464821210.247(53968386262.842) pred_variance=1775331.373
Dumping serial stats: bytes_write=597888 bytes_read=132015 bytes_retransmit=9 bytes_invalid=0 send_seq=11638 receive_seq=11638 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0
Dumping send queue 100 messages
Sent 0 386073.446436 386073.446436 14: seq: 12, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 1 386074.143431 386074.143431 14: seq: 13, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 2 386074.143484 386074.143484 6: seq: 14, get_clock
Sent 3 386074.148486 386074.148486 14: seq: 15, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 4 386074.304851 386074.304851 14: seq: 16, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 5 386074.309475 386074.309475 14: seq: 17, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 6 386074.442555 386074.442555 14: seq: 18, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 7 386074.447674 386074.447674 14: seq: 19, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 8 386075.127620 386075.127620 6: seq: 1a, get_clock
Sent 9 386075.143856 386075.143856 14: seq: 1b, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 10 386075.148415 386075.148415 14: seq: 1c, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 11 386075.305761 386075.305761 14: seq: 1d, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 12 386075.310426 386075.310426 14: seq: 1e, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 13 386075.443388 386075.443388 14: seq: 1f, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 14 386075.448414 386075.448414 14: seq: 10, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 15 386076.111960 386076.111960 6: seq: 11, get_clock
Sent 16 386076.144777 386076.144777 14: seq: 12, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 17 386076.149422 386076.149422 14: seq: 13, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 18 386076.306816 386076.306816 14: seq: 14, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 19 386076.311482 386076.311482 14: seq: 15, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 20 386076.444444 386076.444444 14: seq: 16, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 21 386076.449420 386076.449420 14: seq: 17, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 22 386077.096229 386077.096229 6: seq: 18, get_clock
Sent 23 386077.147138 386077.147138 14: seq: 19, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 24 386077.151594 386077.151594 14: seq: 1a, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 25 386077.307768 386077.307768 14: seq: 1b, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 26 386077.312446 386077.312446 14: seq: 1c, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 27 386077.445418 386077.445418 14: seq: 1d, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 28 386077.450442 386077.450442 14: seq: 1e, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 29 386078.080845 386078.080845 6: seq: 1f, get_clock
Sent 30 386078.147290 386078.147290 14: seq: 10, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 31 386078.152487 386078.152487 14: seq: 11, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 32 386078.308882 386078.308882 14: seq: 12, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 33 386078.313493 386078.313493 14: seq: 13, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 34 386078.445857 386078.445857 14: seq: 14, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 35 386078.450447 386078.450447 14: seq: 15, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 36 386079.065727 386079.065727 6: seq: 16, get_clock
Sent 37 386079.147798 386079.147798 14: seq: 17, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 38 386079.152520 386079.152520 14: seq: 18, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 39 386079.309823 386079.309823 14: seq: 19, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 40 386079.314485 386079.314485 14: seq: 1a, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 41 386079.446180 386079.446180 14: seq: 1b, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 42 386079.450468 386079.450468 14: seq: 1c, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 43 386080.050188 386080.050188 6: seq: 1d, get_clock
Sent 44 386080.148390 386080.148390 14: seq: 1e, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 45 386080.153490 386080.153490 14: seq: 1f, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 46 386080.310824 386080.310824 14: seq: 10, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 47 386080.315455 386080.315455 14: seq: 11, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 48 386080.446449 386080.446449 14: seq: 12, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 49 386080.451510 386080.451510 14: seq: 13, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 50 386081.035271 386081.035271 6: seq: 14, get_clock
Sent 51 386081.149299 386081.149299 14: seq: 15, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 52 386081.154471 386081.154471 14: seq: 16, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 53 386081.311825 386081.311825 14: seq: 17, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 54 386081.316479 386081.316479 14: seq: 18, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 55 386081.447457 386081.447457 14: seq: 19, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 56 386081.452459 386081.452459 14: seq: 1a, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 57 386082.020139 386082.020139 6: seq: 1b, get_clock
Sent 58 386082.150198 386082.150198 14: seq: 1c, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 59 386082.154483 386082.154483 14: seq: 1d, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 60 386082.312825 386082.312825 14: seq: 1e, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 61 386082.317489 386082.317489 14: seq: 1f, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 62 386082.448417 386082.448417 14: seq: 10, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 63 386082.453477 386082.453477 14: seq: 11, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 64 386083.004244 386083.004244 6: seq: 12, get_clock
Sent 65 386083.150360 386083.150360 14: seq: 13, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 66 386083.155498 386083.155498 14: seq: 14, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 67 386083.313806 386083.313806 14: seq: 15, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 68 386083.318495 386083.318495 14: seq: 16, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 69 386083.449556 386083.449556 14: seq: 17, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 70 386083.454490 386083.454490 14: seq: 18, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 71 386083.989137 386083.989137 6: seq: 19, get_clock
Sent 72 386084.151298 386084.151298 14: seq: 1a, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 73 386084.156462 386084.156462 14: seq: 1b, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 74 386084.314903 386084.314903 14: seq: 1c, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 75 386084.319465 386084.319465 14: seq: 1d, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 76 386084.450452 386084.450452 14: seq: 1e, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 77 386084.455481 386084.455481 14: seq: 1f, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 78 386084.973564 386084.973564 6: seq: 10, get_clock
Sent 79 386085.151617 386085.151617 14: seq: 11, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 80 386085.156469 386085.156469 14: seq: 12, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 81 386085.315840 386085.315840 14: seq: 13, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 82 386085.320476 386085.320476 14: seq: 14, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 83 386085.451539 386085.451539 14: seq: 15, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 84 386085.456470 386085.456470 14: seq: 16, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 85 386085.958327 386085.958327 6: seq: 17, get_clock
Sent 86 386086.152460 386086.152460 14: seq: 18, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 87 386086.157477 386086.157477 14: seq: 19, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 88 386086.316838 386086.316838 14: seq: 1a, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 89 386086.321485 386086.321485 14: seq: 1b, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 90 386086.452486 386086.452486 14: seq: 1c, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 91 386086.457487 386086.457487 14: seq: 1d, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 92 386086.943044 386086.943044 6: seq: 1e, get_clock
Sent 93 386087.153278 386087.153278 14: seq: 1f, tmcuart_send oid=2 write=b'\xea\x0b\xe8\xad\xba' read=10
Sent 94 386087.158529 386087.158529 14: seq: 10, tmcuart_send oid=2 write=b'\xea\x0b( \x98' read=10
Sent 95 386087.317855 386087.317855 14: seq: 11, tmcuart_send oid=2 write=b'\xea\x03\xe8\xad\xe1' read=10
Sent 96 386087.322489 386087.322489 14: seq: 12, tmcuart_send oid=2 write=b'\xea\x03( \xc3' read=10
Sent 97 386087.452643 386087.452643 14: seq: 13, tmcuart_send oid=2 write=b'\xea\x13\xe8-\xcc' read=10
Sent 98 386087.457496 386087.457496 14: seq: 14, tmcuart_send oid=2 write=b'\xea\x13(\xa0\xee' read=10
Sent 99 386087.875186 386087.875186 6: seq: 15, emergency_stop
Dumping receive queue 100 messages
Receive: 0 386080.635772 386080.451510 15: seq: 14, analog_in_state oid=22 next_clock=1432043520 value=31335
Receive: 1 386080.842281 386080.451510 15: seq: 14, analog_in_state oid=13 next_clock=1445483520 value=31389
Receive: 2 386080.932313 386080.451510 15: seq: 14, analog_in_state oid=22 next_clock=1451243520 value=31336
Receive: 3 386081.036276 386081.035271 11: seq: 15, clock clock=1439147189
Receive: 4 386081.142272 386081.035271 15: seq: 15, analog_in_state oid=13 next_clock=1464683520 value=31384
Receive: 5 386081.154250 386081.149299 18: seq: 16, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 6 386081.159249 386081.154471 18: seq: 17, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 7 386081.232271 386081.154471 15: seq: 17, analog_in_state oid=22 next_clock=1470443520 value=31331
Receive: 8 386081.316255 386081.311825 18: seq: 18, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 9 386081.321251 386081.316479 18: seq: 19, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 10 386081.442279 386081.316479 15: seq: 19, analog_in_state oid=13 next_clock=1483883520 value=31391
Receive: 11 386081.452254 386081.447457 18: seq: 1a, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 12 386081.457254 386081.452459 18: seq: 1b, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 13 386081.532269 386081.452459 15: seq: 1b, analog_in_state oid=22 next_clock=1489643520 value=31337
Receive: 14 386081.742281 386081.452459 15: seq: 1b, analog_in_state oid=13 next_clock=1503083520 value=31392
Receive: 15 386081.832278 386081.452459 15: seq: 1b, analog_in_state oid=22 next_clock=1508843520 value=31345
Receive: 16 386082.021269 386082.020139 11: seq: 1c, clock clock=1502181069
Receive: 17 386082.042254 386082.020139 15: seq: 1c, analog_in_state oid=13 next_clock=1522283520 value=31396
Receive: 18 386082.132281 386082.020139 15: seq: 1c, analog_in_state oid=22 next_clock=1528043520 value=31322
Receive: 19 386082.154252 386082.150198 18: seq: 1d, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 20 386082.159249 386082.154483 18: seq: 1e, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 21 386082.317256 386082.312825 18: seq: 1f, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 22 386082.322253 386082.317489 18: seq: 10, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 23 386082.342256 386082.317489 15: seq: 10, analog_in_state oid=13 next_clock=1541483520 value=31385
Receive: 24 386082.432284 386082.317489 15: seq: 10, analog_in_state oid=22 next_clock=1547243520 value=31340
Receive: 25 386082.453252 386082.448417 18: seq: 11, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 26 386082.458257 386082.453477 18: seq: 12, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 27 386082.642278 386082.453477 15: seq: 12, analog_in_state oid=13 next_clock=1560683520 value=31392
Receive: 28 386082.732285 386082.453477 15: seq: 12, analog_in_state oid=22 next_clock=1566443520 value=31341
Receive: 29 386082.942281 386082.453477 15: seq: 12, analog_in_state oid=13 next_clock=1579883520 value=31398
Receive: 30 386083.005266 386083.004244 11: seq: 13, clock clock=1565156789
Receive: 31 386083.032261 386083.004244 15: seq: 13, analog_in_state oid=22 next_clock=1585643520 value=31345
Receive: 32 386083.155253 386083.150360 18: seq: 14, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 33 386083.160255 386083.155498 18: seq: 15, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 34 386083.242282 386083.155498 15: seq: 15, analog_in_state oid=13 next_clock=1599083520 value=31406
Receive: 35 386083.318256 386083.313806 18: seq: 16, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 36 386083.323253 386083.318495 18: seq: 17, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 37 386083.332254 386083.318495 15: seq: 17, analog_in_state oid=22 next_clock=1604843520 value=31337
Receive: 38 386083.454253 386083.449556 18: seq: 18, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 39 386083.459255 386083.454490 18: seq: 19, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 40 386083.542267 386083.454490 15: seq: 19, analog_in_state oid=13 next_clock=1618283520 value=31393
Receive: 41 386083.632274 386083.454490 15: seq: 19, analog_in_state oid=22 next_clock=1624043520 value=31330
Receive: 42 386083.842281 386083.454490 15: seq: 19, analog_in_state oid=13 next_clock=1637483520 value=31394
Receive: 43 386083.932274 386083.454490 15: seq: 19, analog_in_state oid=22 next_clock=1643243520 value=31325
Receive: 44 386083.990271 386083.989137 11: seq: 1a, clock clock=1628192253
Receive: 45 386084.142314 386083.989137 15: seq: 1a, analog_in_state oid=13 next_clock=1656683520 value=31402
Receive: 46 386084.156253 386084.151298 18: seq: 1b, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 47 386084.161255 386084.156462 18: seq: 1c, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 48 386084.232273 386084.156462 15: seq: 1c, analog_in_state oid=22 next_clock=1662443520 value=31337
Receive: 49 386084.319251 386084.314903 18: seq: 1d, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 50 386084.324221 386084.319465 18: seq: 1e, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 51 386084.442281 386084.319465 15: seq: 1e, analog_in_state oid=13 next_clock=1675883520 value=31390
Receive: 52 386084.455253 386084.450452 18: seq: 1f, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 53 386084.460252 386084.455481 18: seq: 10, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 54 386084.532267 386084.455481 15: seq: 10, analog_in_state oid=22 next_clock=1681643520 value=31330
Receive: 55 386084.742285 386084.455481 15: seq: 10, analog_in_state oid=13 next_clock=1695083520 value=31397
Receive: 56 386084.832287 386084.455481 15: seq: 10, analog_in_state oid=22 next_clock=1700843520 value=31329
Receive: 57 386084.974269 386084.973564 11: seq: 11, clock clock=1691188537
Receive: 58 386085.042269 386084.973564 15: seq: 11, analog_in_state oid=13 next_clock=1714283520 value=31396
Receive: 59 386085.132272 386084.973564 15: seq: 11, analog_in_state oid=22 next_clock=1720043520 value=31335
Receive: 60 386085.153254 386085.151617 15: seq: 12, stats count=347 sum=305722 sumsq=1731696
Receive: 61 386085.156252 386085.151617 18: seq: 12, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 62 386085.161253 386085.156469 18: seq: 13, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 63 386085.320253 386085.315840 18: seq: 14, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 64 386085.325252 386085.320476 18: seq: 15, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 65 386085.342254 386085.320476 15: seq: 15, analog_in_state oid=13 next_clock=1733483520 value=31395
Receive: 66 386085.432280 386085.320476 15: seq: 15, analog_in_state oid=22 next_clock=1739243520 value=31336
Receive: 67 386085.456255 386085.451539 18: seq: 16, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 68 386085.461251 386085.456470 18: seq: 17, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 69 386085.642271 386085.456470 15: seq: 17, analog_in_state oid=13 next_clock=1752683520 value=31375
Receive: 70 386085.732297 386085.456470 15: seq: 17, analog_in_state oid=22 next_clock=1758443520 value=31336
Receive: 71 386085.942280 386085.456470 15: seq: 17, analog_in_state oid=13 next_clock=1771883520 value=31395
Receive: 72 386085.959260 386085.958327 11: seq: 18, clock clock=1754210816
Receive: 73 386086.032283 386085.958327 15: seq: 18, analog_in_state oid=22 next_clock=1777643520 value=31328
Receive: 74 386086.157254 386086.152460 18: seq: 19, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 75 386086.162253 386086.157477 18: seq: 1a, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 76 386086.242281 386086.157477 15: seq: 1a, analog_in_state oid=13 next_clock=1791083520 value=31402
Receive: 77 386086.321255 386086.316838 18: seq: 1b, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 78 386086.326252 386086.321485 18: seq: 1c, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 79 386086.332258 386086.321485 15: seq: 1c, analog_in_state oid=22 next_clock=1796843520 value=31339
Receive: 80 386086.457257 386086.452486 18: seq: 1d, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 81 386086.462253 386086.457487 18: seq: 1e, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 82 386086.542270 386086.457487 15: seq: 1e, analog_in_state oid=13 next_clock=1810283520 value=31400
Receive: 83 386086.632290 386086.457487 15: seq: 1e, analog_in_state oid=22 next_clock=1816043520 value=31344
Receive: 84 386086.842280 386086.457487 15: seq: 1e, analog_in_state oid=13 next_clock=1829483520 value=31400
Receive: 85 386086.932296 386086.457487 15: seq: 1e, analog_in_state oid=22 next_clock=1835243520 value=31325
Receive: 86 386086.943265 386086.943044 11: seq: 1f, clock clock=1817230115
Receive: 87 386087.142284 386086.943044 15: seq: 1f, analog_in_state oid=13 next_clock=1848683520 value=31398
Receive: 88 386087.158257 386087.153278 18: seq: 10, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 89 386087.163256 386087.158529 18: seq: 11, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 90 386087.232296 386087.158529 15: seq: 11, analog_in_state oid=22 next_clock=1854443520 value=31319
Receive: 91 386087.322255 386087.317855 18: seq: 12, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 92 386087.327254 386087.322489 18: seq: 13, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 93 386087.442288 386087.322489 15: seq: 13, analog_in_state oid=13 next_clock=1867883520 value=31398
Receive: 94 386087.457255 386087.452643 18: seq: 14, tmcuart_response oid=2 read=b'\n\xfa\xef-\xe0\x1e\x02\x08 \xc8'
Receive: 95 386087.462254 386087.457496 18: seq: 15, tmcuart_response oid=2 read=b'\n\xfa/ \x80\x00\x02\x08\xa0\x89'
Receive: 96 386087.532296 386087.457496 15: seq: 15, analog_in_state oid=22 next_clock=1873643520 value=31341
Receive: 97 386087.742285 386087.457496 15: seq: 15, analog_in_state oid=13 next_clock=1887083520 value=31407
Receive: 98 386087.832300 386087.457496 15: seq: 15, analog_in_state oid=22 next_clock=1892843520 value=31339
Receive: 99 386087.876266 386087.875186 12: seq: 16, shutdown clock=1876886805 static_string_id=Command request
Attempting MCU 'mcu' reset command
Unable to issue reset command on MCU 'PIS'
webhooks client 135448637308544: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:39:04 2024 (1711399144.0 386123.5)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448601176688: New connection
webhooks client 135448601176688: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
webhooks client 135448601176688: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:39:09 2024 (1711399149.6 386129.0)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448602985760: New connection
webhooks client 135448602985760: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
webhooks client 135448602985760: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:39:17 2024 (1711399158.0 386137.4)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448601499328: New connection
webhooks client 135448601499328: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
webhooks client 135448601499328: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:39:22 2024 (1711399162.9 386142.3)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448707177184: New connection
webhooks client 135448707177184: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
Attempting MCU 'mcu' reset command
Attempting MCU 'PIS' reset
Unhandled exception during post run
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 234, in run
    self.send_event("klippy:firmware_restart")
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/mcu.py", line 931, in _firmware_restart
    self._restart_arduino()
  File "/home/turbo/klipper/klippy/mcu.py", line 891, in _restart_arduino
    serialhdl.arduino_reset(self._serialport, self._reactor)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 385, in arduino_reset
    ser.dtr = False
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialutil.py", line 469, in dtr
    self._update_dtr_state()
  File "/home/turbo/klippy-env/lib/python3.10/site-packages/serial/serialposix.py", line 636, in _update_dtr_state
    fcntl.ioctl(self.fd, TIOCMBIC, TIOCM_DTR_str)
OSError: [Errno 71] Protocol error
Restarting printer
Start printer at Mon Mar 25 21:39:38 2024 (1711399178.4 386157.8)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448602990272: New connection
webhooks client 135448602990272: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
webhooks client 135448602990272: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:39:45 2024 (1711399185.6 386165.0)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448601172752: New connection
webhooks client 135448601172752: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
mcu 'PIS': Timeout on connect
MCU error during connect
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/mcu.py", line 769, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/turbo/klipper/klippy/mcu.py", line 774, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'PIS': Unable to connect
Build file /home/turbo/klipper/klippy/../.config(1648): Mon Mar 25 20:47:58 2024
========= Last MCU build config =========
# CONFIG_LOW_LEVEL_OPTIONS is not set
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
CONFIG_MACH_RP2040=y
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="rp2040"
CONFIG_MCU="rp2040"
CONFIG_CLOCK_FREQ=12000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x200000
CONFIG_FLASH_BOOT_ADDRESS=0x10000100
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x42000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x10000100
CONFIG_RP2040_SELECT=y
CONFIG_RP2040_HAVE_STAGE2=y
CONFIG_RP2040_FLASH_START_0100=y
# CONFIG_RP2040_FLASH_START_4000 is not set
CONFIG_RP2040_STAGE2_FILE="boot2_w25q080.S"
CONFIG_RP2040_STAGE2_CLKDIV=2
CONFIG_RP2040_USB=y
# CONFIG_RP2040_SERIAL_UART0 is not set
# CONFIG_RP2040_CANBUS is not set
# CONFIG_RP2040_USBCANBUS is not set
CONFIG_RP2040_CANBUS_GPIO_RX=4
CONFIG_RP2040_CANBUS_GPIO_TX=5
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_NEED_SENSOR_BULK=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_HAVE_BOOTLOADER_REQUEST=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/turbo/klipper/klippy/../out/klipper.dict(8088): Mon Mar 25 20:48:04 2024
Last MCU build version: v0.12.0-132-ge37b007f
Last MCU build tools: gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/turbo/klipper/klippy/../out/klipper.elf(1793968): Mon Mar 25 20:48:07 2024
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
webhooks client 135448601172752: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:41:24 2024 (1711399284.7 386264.1)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448602992000: New connection
webhooks client 135448602992000: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
b'Got EOF when reading from device'
mcu 'PIS': Timeout on connect
mcu 'PIS': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00'
mcu 'PIS': Wait for identify_response
Traceback (most recent call last):
  File "/home/turbo/klipper/klippy/serialhdl.py", line 68, in _get_identify_data
    params = self.send_with_response(msg, 'identify_response')
  File "/home/turbo/klipper/klippy/serialhdl.py", line 261, in send_with_response
    return src.get_response([cmd], self.default_cmd_queue)
  File "/home/turbo/klipper/klippy/serialhdl.py", line 318, in get_response
    self.serial.raw_send_wait_ack(cmds[-1], minclock, reqclock,
  File "/home/turbo/klipper/klippy/serialhdl.py", line 253, in raw_send_wait_ack
    self._error("Serial connection closed")
  File "/home/turbo/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'PIS': Serial connection closed
webhooks client 135448602992000: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:41:36 2024 (1711399296.2 386275.7)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448603079680: New connection
webhooks client 135448603079680: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
Loaded MCU 'PIS' 106 commands (v0.12.0-132-ge37b007f / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'PIS' printer configuration...
Configured MCU 'PIS' (1024 moves)
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (52.0, 24.0)    | (9.5, 15.0)
  1   | (100.2, 24.0)   | (57.8, 15.0)
  2   | (148.5, 24.0)   | (106.0, 15.0)
  3   | (196.8, 24.0)   | (154.2, 15.0)
  4   | (245.0, 24.0)   | (202.5, 15.0)
  5   | (245.0, 75.2)   | (202.5, 66.2)
  6   | (196.8, 75.2)   | (154.2, 66.2)
  7   | (148.5, 75.2)   | (106.0, 66.2)
  8   | (100.2, 75.2)   | (57.8, 66.2)
  9   | (52.0, 75.2)    | (9.5, 66.2)
  10  | (52.0, 126.5)   | (9.5, 117.5)
  11  | (100.2, 126.5)  | (57.8, 117.5)
  12  | (148.5, 126.5)  | (106.0, 117.5)
  13  | (196.8, 126.5)  | (154.2, 117.5)
  14  | (245.0, 126.5)  | (202.5, 117.5)
  15  | (245.0, 177.8)  | (202.5, 168.8)
  16  | (196.8, 177.8)  | (154.2, 168.8)
  17  | (148.5, 177.8)  | (106.0, 168.8)
  18  | (100.2, 177.8)  | (57.8, 168.8)
  19  | (52.0, 177.8)   | (9.5, 168.8)
  20  | (52.0, 229.0)   | (9.5, 220.0)
  21  | (100.2, 229.0)  | (57.8, 220.0)
  22  | (148.5, 229.0)  | (106.0, 220.0)
  23  | (196.8, 229.0)  | (154.2, 220.0)
  24  | (245.0, 229.0)  | (202.5, 220.0)
Starting heater checks for heater_bed
Starting heater checks for extruder
webhooks: registering remote method 'shutdown_machine' for connection id: 135448603079680
webhooks: registering remote method 'reboot_machine' for connection id: 135448603079680
webhooks: registering remote method 'pause_job_queue' for connection id: 135448603079680
webhooks: registering remote method 'start_job_queue' for connection id: 135448603079680
webhooks: registering remote method 'timelapse_newframe' for connection id: 135448603079680
webhooks: registering remote method 'timelapse_saveFrames' for connection id: 135448603079680
webhooks: registering remote method 'timelapse_render' for connection id: 135448603079680
Stats 386281.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=5328 bytes_read=6172 bytes_retransmit=9 bytes_invalid=0 send_seq=250 receive_seq=250 retransmit_seq=2 srtt=0.004 rttvar=0.004 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63996703 PIS: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=805 bytes_read=4162 bytes_retransmit=9 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12002994 adj=12004901  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.14 cputime=48.762 memavail=1948016 print_time=125.082 buffer_time=0.378 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Attempting MCU 'mcu' reset command
Attempting MCU 'PIS' reset command
webhooks client 135448603079680: Disconnected
Restarting printer
Start printer at Mon Mar 25 21:41:43 2024 (1711399303.4 386282.8)
===== Config file =====
[virtual_sdcard]
path = /home/turbo/printer_data/gcodes
on_error_gcode = CANCEL_PRINT

[pause_resume]

[display_status]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = BASE_CANCEL_PRINT
gcode = 
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	SDCARD_RESET_FILE
	BASE_CANCEL_PRINT

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	
	{% set x_park = printer.toolhead.axis_maximum.x|float - 5.0 %}
	{% set y_park = printer.toolhead.axis_maximum.y|float - 5.0 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 2.0) %}
	{% set z_safe = 2.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F900
	G90
	G1 X{x_park} Y{y_park} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}
variable_extrude = 1.0

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}

[gcode_macro SET_PAUSE_NEXT_LAYER]
description = Enable a pause if the next layer is reached
gcode = SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable':True, 'call':params.MACRO|default("PAUSE")}}"

[gcode_macro SET_PAUSE_AT_LAYER]
description = Enable/disable a pause if a given layer number is reached
gcode = 
	{% if params.LAYER is defined %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': True, 'layer':params.LAYER|int, 'call':params.MACRO|default("PAUSE")}}"
	{% else %}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer':0, 'call':"PAUSE"}}"
	{% endif %}

[gcode_macro SET_PRINT_STATS_INFO]
rename_existing = SET_PRINT_STATS_INFO_BASE
description = Overwrite, to get pause_next_layer and pause_at_layer feature
variable_pause_next_layer = {'enable':False, 'call':"PAUSE"}
variable_pause_at_layer = {'enable':False, 'layer':0, 'call':"PAUSE"}
gcode = 
	{% if pause_next_layer.enable %}
	{action_respond_info("%s, forced by pause_next_layer" % pause_next_layer.call)}
	{pause_next_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_next_layer VALUE="{{'enable': False, 'call':"PAUSE"}}"
	{% elif pause_at_layer.enable and params.CURRENT_LAYER is defined and params.CURRENT_LAYER|int == pause_at_layer.layer %}
	{action_respond_info("%s, forced by pause_at_layer [%d]" % (pause_at_layer.call, pause_at_layer.layer))}
	{pause_at_layer.call}
	SET_GCODE_VARIABLE MACRO=SET_PRINT_STATS_INFO VARIABLE=pause_at_layer VALUE="{{'enable': False, 'layer': 0, 'call':"PAUSE"}}"
	{% endif %}
	SET_PRINT_STATS_INFO_BASE {rawparams}

[gcode_macro _TOOLHEAD_PARK_PAUSE_CANCEL]
description = Helper: park toolhead used in PAUSE and CANCEL_PRINT
gcode = 
	
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set velocity = printer.configfile.settings.pause_resume.recover_velocity %}
	{% set use_custom     = False if not macro_found
	else False if client.use_custom_pos is not defined
	else True  if client.use_custom_pos|lower == 'true'
	else False %}
	{% set custom_park_x  = 0.0 if not macro_found else client.custom_park_x|default(0.0) %}
	{% set custom_park_y  = 0.0 if not macro_found else client.custom_park_y|default(0.0) %}
	{% set park_dz        = 2.0 if not macro_found else client.custom_park_dz|default(2.0)|abs %}
	{% set sp_hop       = 900  if not macro_found else client.speed_hop|default(15) * 60 %}
	{% set sp_move      = velocity * 60 if not macro_found else client.speed_move|default(velocity) * 60 %}
	
	{% set act = printer.toolhead.position %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set cone = printer.toolhead.cone_start_z|default(max.z) %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	
	{% set z_min = params.Z_MIN|default(0)|float %}
	{% set z_park = [[(act.z + park_dz), z_min]|max, max.z]|min %}
	{% set x_park = params.X       if params.X is defined
	else custom_park_x  if use_custom
	else 0.0            if round_bed
	else (max.x - 5.0) %}
	{% set y_park = params.Y       if params.Y is defined
	else custom_park_y  if use_custom
	else (max.y - 5.0)  if round_bed and z_park < cone
	else 0.0            if round_bed
	else (max.y - 5.0) %}
	
	_CLIENT_RETRACT
	{% if "xyz" in printer.toolhead.homed_axes %}
	G90
	G1 Z{z_park} F{sp_hop}
	G1 X{x_park} Y{y_park} F{sp_move}
	{% if not printer.gcode_move.absolute_coordinates %} G91 {% endif %}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro _CLIENT_EXTRUDE]
description = Extrudes, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	{% set use_fw_retract = False if not macro_found
	else False if client.use_fw_retract is not defined
	else True  if client.use_fw_retract|lower == 'true' and printer.firmware_retraction is defined
	else False %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.unretract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_unretract|default(35) %}
	
	{% set absolute_extrude = printer.gcode_move.absolute_extrude %}
	
	{% if printer.extruder.can_extrude %}
	{% if use_fw_retract %}
	{% if length < 0 %}
	G10
	{% else %}
	G11
	{% endif %}
	{% else %}
	M83
	G1 E{length} F{(speed|float|abs) * 60}
	{% if absolute_extrude %}
	M82
	{% endif %}
	{% endif %}
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}

[gcode_macro _CLIENT_RETRACT]
description = Retracts, if the extruder is hot enough
gcode = 
	{% set macro_found = True if printer['gcode_macro _CLIENT_VARIABLE'] is defined else False %}
	{% set client = printer['gcode_macro _CLIENT_VARIABLE'] %}
	
	{% set length = (params.LENGTH|float) if params.LENGTH is defined
	else 1.0 if not macro_found
	else client.retract|default(1.0) %}
	
	{% set speed = params.SPEED if params.SPEED is defined
	else 35 if not macro_found
	else client.speed_retract|default(35) %}
	
	_CLIENT_EXTRUDE LENGTH=-{length|float|abs} SPEED={speed|float|abs}

[mcu PIS]
serial = /dev/serial/by-id/usb-Klipper_rp2040_E66118F5D7449636-if00

[adxl345]
cs_pin = PIS:gpio13
spi_software_sclk_pin = PIS:gpio10
spi_software_mosi_pin = PIS:gpio11
spi_software_miso_pin = PIS:gpio12
axes_map = x,-z,y

[resonance_tester]
accel_chip = adxl345
probe_points = 
	100,100,20

[bltouch]
sensor_pin = PC14
control_pin = PA1
x_offset = -42.5
y_offset = -9.0
z_offset = 3.105

[safe_z_home]
home_xy_position = 117.5,117.5
speed = 120
z_hop = 10
z_hop_speed = 5

[bed_mesh]
speed = 120
horizontal_move_z = 5
mesh_min = 9.5, 15
mesh_max = 202.5, 220
probe_count = 5,5
mesh_pps = 2,2
fade_start = 1
fade_end = 10
fade_target = 0

[bed_screws]
screw1 = 70, 44
screw2 = 240, 44
screw3 = 240, 214
screw4 = 70, 214

[screws_tilt_adjust]
screw1 = 70, 44
screw1_name = front left screw
screw2 = 240, 44
screw2_name = front right screw
screw3 = 240, 214
screw3_name = rear right screw
screw4 = 70, 214
screw4_name = rear left screw
horizontal_move_z = 10
speed = 120
screw_thread = CW-M3

[stepper_x]
step_pin = PB13
dir_pin = !PB12
enable_pin = !PB14
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC0
position_endstop = 0
position_max = 240
homing_speed = 100

[tmc2209 stepper_x]
uart_pin = PC11
tx_pin = PC10
uart_address = 0
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_y]
step_pin = PB10
dir_pin = !PB2
enable_pin = !PB11
microsteps = 16
rotation_distance = 40
endstop_pin = ^PC1
position_endstop = 0
position_max = 235
homing_speed = 100

[tmc2209 stepper_y]
uart_pin = PC11
tx_pin = PC10
uart_address = 2
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[stepper_z]
step_pin = PB0
dir_pin = PC5
enable_pin = !PB1
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 250
position_min = 0

[tmc2209 stepper_z]
uart_pin = PC11
tx_pin = PC10
uart_address = 1
run_current = 0.580
hold_current = 0.500
stealthchop_threshold = 999999

[extruder]
step_pin = PB3
dir_pin = !PB4
enable_pin = !PD1
microsteps = 16
rotation_distance = 33.500
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PC8
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA0
min_temp = 0
max_temp = 250
control = pid
pid_kp = 28.779
pid_ki = 1.793
pid_kd = 115.474

[tmc2209 extruder]
uart_pin = PC11
tx_pin = PC10
uart_address = 3
run_current = 0.650
hold_current = 0.500
stealthchop_threshold = 999999

[heater_bed]
heater_pin = PC9
sensor_type = ATC Semitec 104GT-2
sensor_pin = PC4
min_temp = 0
max_temp = 100
control = pid
pid_kp = 70.251
pid_ki = 0.887
pid_kd = 1390.979

[heater_fan controller_fan]
pin = PB15
heater = heater_bed
heater_temp = 45.0

[heater_fan nozzle_cooling_fan]
pin = PC7

[fan]
pin = PC6

[mcu]
serial = /dev/serial/by-id/usb-Klipper_stm32g0b1xx_34002A000A504B5735313920-if00

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 4000
max_z_velocity = 5
max_z_accel = 100

[board_pins]
aliases = 
	
	EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
	EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

[display]
lcd_type = st7920
cs_pin = PB8
sclk_pin = PB9
sid_pin = PD6
encoder_pins = ^PA10, ^PA9
click_pin = ^!PA15

[gcode_macro GET_TIMELAPSE_SETUP]
description = Print the Timelapse setup
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set output_txt = ["Timelapse Setup:"] %}
	{% set _dummy = output_txt.append("enable: %s" % tl.enable) %}
	{% set _dummy = output_txt.append("park: %s" % tl.park.enable) %}
	{% if tl.park.enable %}
	{% set _dummy = output_txt.append("park position: %s time: %s s" % (tl.park.pos, tl.park.time)) %}
	{% set _dummy = output_txt.append("park cord x:%s y:%s dz:%s" % (tl.park.coord.x, tl.park.coord.y, tl.park.coord.dz)) %}
	{% set _dummy = output_txt.append("travel speed: %s mm/s" % tl.speed.travel) %}
	{% endif %}
	{% set _dummy = output_txt.append("fw_retract: %s" % tl.extruder.fw_retract) %}
	{% if not tl.extruder.fw_retract %}
	{% set _dummy = output_txt.append("retract: %s mm speed: %s mm/s" % (tl.extruder.retract, tl.speed.retract)) %}
	{% set _dummy = output_txt.append("extrude: %s mm speed: %s mm/s" % (tl.extruder.extrude, tl.speed.extrude)) %}
	{% endif %}
	{% set _dummy = output_txt.append("verbose: %s" % tl.verbose) %}
	{action_respond_info(output_txt|join("\n"))}

[gcode_macro _SET_TIMELAPSE_SETUP]
description = Set user parameters for timelapse
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set round_bed = True if printer.configfile.settings.printer.kinematics is in ['delta','polar','rotary_delta','winch']
	else False %}
	{% set park = {'min'   : {'x': (min.x / 1.42)|round(3) if round_bed else min.x|round(3),
	'y': (min.y / 1.42)|round(3) if round_bed else min.y|round(3)},
	'max'   : {'x': (max.x / 1.42)|round(3) if round_bed else max.x|round(3),
	'y': (max.y / 1.42)|round(3) if round_bed else max.y|round(3)},
	'center': {'x': (max.x-(max.x-min.x)/2)|round(3),
	'y': (max.y-(max.y-min.y)/2)|round(3)}} %}
	
	{% if params.ENABLE %}
	{% if params.ENABLE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=enable VALUE={True if params.ENABLE|lower == 'true' else False}
	{% else %}
	{action_raise_error("ENABLE=%s not supported. Allowed values are [True, False]" % params.ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.VERBOSE %}
	{% if params.VERBOSE|lower is in ['true', 'false'] %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=verbose VALUE={True if params.VERBOSE|lower == 'true' else False}
	{% else %}
	{action_raise_error("VERBOSE=%s not supported. Allowed values are [True, False]" % params.VERBOSE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_X %}
	{% if params.CUSTOM_POS_X|float >= min.x and params.CUSTOM_POS_X|float <= max.x %}
	{% set _dummy = tl.park.custom.update({'x':params.CUSTOM_POS_X|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_X=%s must be within [%s - %s]" % (params.CUSTOM_POS_X, min.x, max.x))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_Y %}
	{% if params.CUSTOM_POS_Y|float >= min.y and params.CUSTOM_POS_Y|float <= max.y %}
	{% set _dummy = tl.park.custom.update({'y':params.CUSTOM_POS_Y|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_Y=%s must be within [%s - %s]" % (params.CUSTOM_POS_Y, min.y, max.y))}
	{% endif %}
	{% endif %}
	{% if params.CUSTOM_POS_DZ %}
	{% if params.CUSTOM_POS_DZ|float >= min.z and params.CUSTOM_POS_DZ|float <= max.z %}
	{% set _dummy = tl.park.custom.update({'dz':params.CUSTOM_POS_DZ|float|round(3)}) %}
	{% else %}
	{action_raise_error("CUSTOM_POS_DZ=%s must be within [%s - %s]" % (params.CUSTOM_POS_DZ, min.z, max.z))}
	{% endif %}
	{% endif %}
	{% if params.PARK_ENABLE %}
	{% if params.PARK_ENABLE|lower is in ['true', 'false'] %}
	{% set _dummy = tl.park.update({'enable':True if params.PARK_ENABLE|lower == 'true' else False}) %}
	{% else %}
	{action_raise_error("PARK_ENABLE=%s not supported. Allowed values are [True, False]" % params.PARK_ENABLE|capitalize)}
	{% endif %}
	{% endif %}
	{% if params.PARK_POS %}
	{% if params.PARK_POS|lower is in ['center','front_left','front_right','back_left','back_right','custom','x_only','y_only'] %}
	{% set dic = {'center'      : {'x': park.center.x   , 'y': park.center.y   , 'dz': 1                },
	'front_left'  : {'x': park.min.x      , 'y': park.min.y      , 'dz': 0                },
	'front_right' : {'x': park.max.x      , 'y': park.min.y      , 'dz': 0                },
	'back_left'   : {'x': park.min.x      , 'y': park.max.y      , 'dz': 0                },
	'back_right'  : {'x': park.max.x      , 'y': park.max.y      , 'dz': 0                },
	'custom'      : {'x': tl.park.custom.x, 'y': tl.park.custom.y, 'dz': tl.park.custom.dz},
	'x_only'      : {'x': tl.park.custom.x, 'y': 'none'          , 'dz': tl.park.custom.dz},
	'y_only'      : {'x': 'none'          , 'y': tl.park.custom.y, 'dz': tl.park.custom.dz}} %}
	{% set _dummy = tl.park.update({'pos':params.PARK_POS|lower}) %}
	{% set _dummy = tl.park.update({'coord':dic[tl.park.pos]}) %}
	{% else %}
	{action_raise_error("PARK_POS=%s not supported. Allowed values are [CENTER, FRONT_LEFT, FRONT_RIGHT, BACK_LEFT, BACK_RIGHT, CUSTOM, X_ONLY, Y_ONLY]"
	% params.PARK_POS|upper)}
	{% endif %}
	{% endif %}
	{% if params.PARK_TIME %}
	{% if params.PARK_TIME|float >= 0.0 %}
	{% set _dummy = tl.park.update({'time':params.PARK_TIME|float|round(3)}) %}
	{% else %}
	{action_raise_error("PARK_TIME=%s must be a positive number" % params.PARK_TIME)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=park VALUE="{tl.park}"
	{% if params.TRAVEL_SPEED %}
	{% if params.TRAVEL_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'travel':params.TRAVEL_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("TRAVEL_SPEED=%s must be larger than 0" % params.TRAVEL_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_SPEED %}
	{% if params.RETRACT_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'retract':params.RETRACT_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_SPEED=%s must be larger than 0" % params.RETRACT_SPEED)}
	{% endif %}
	{% endif %}
	{% if params.EXTRUDE_SPEED %}
	{% if params.EXTRUDE_SPEED|float > 0.0 %}
	{% set _dummy = tl.speed.update({'extrude':params.EXTRUDE_SPEED|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_SPEED=%s must be larger than 0" % params.EXTRUDE_SPEED)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=speed VALUE="{tl.speed}"
	{% if params.EXTRUDE_DISTANCE %}
	{% if params.EXTRUDE_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'extrude':params.EXTRUDE_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("EXTRUDE_DISTANCE=%s must be specified as positiv number" % params.EXTRUDE_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.RETRACT_DISTANCE %}
	{% if params.RETRACT_DISTANCE|float >= 0.0 %}
	{% set _dummy = tl.extruder.update({'retract':params.RETRACT_DISTANCE|float|round(3)}) %}
	{% else %}
	{action_raise_error("RETRACT_DISTANCE=%s must be specified as positiv number" % params.RETRACT_DISTANCE)}
	{% endif %}
	{% endif %}
	{% if params.FW_RETRACT %}
	{% if params.FW_RETRACT|lower is in ['true', 'false'] %}
	{% if 'firmware_retraction' in printer.configfile.settings %}
	{% set _dummy = tl.extruder.update({'fw_retract': True if params.FW_RETRACT|lower == 'true' else False}) %}
	{% else %}
	{% set _dummy = tl.extruder.update({'fw_retract':False}) %}
	{% if params.FW_RETRACT|capitalize == 'True' %}
	{action_raise_error("[firmware_retraction] not defined in printer.cfg. Can not enable fw_retract")}
	{% endif %}
	{% endif %}
	{% else %}
	{action_raise_error("FW_RETRACT=%s not supported. Allowed values are [True, False]" % params.FW_RETRACT|capitalize)}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=extruder VALUE="{tl.extruder}"
	{% if printer.configfile.settings['gcode_macro pause'] is defined %}
	{% set _dummy = tl.macro.update({'pause': printer.configfile.settings['gcode_macro pause'].rename_existing}) %}
	{% endif %}
	{% if printer.configfile.settings['gcode_macro resume'] is defined %}
	{% set _dummy = tl.macro.update({'resume': printer.configfile.settings['gcode_macro resume'].rename_existing}) %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=macro VALUE="{tl.macro}"

[gcode_macro TIMELAPSE_TAKE_FRAME]
description = Take Timelapse shoot
variable_enable = False
variable_takingframe = False
variable_park = {'enable': False,
	'pos'   : 'center',
	'time'  : 0.1,
	'custom': {'x': 0, 'y': 0, 'dz': 0},
	'coord' : {'x': 0, 'y': 0, 'dz': 0}}
variable_extruder = {'fw_retract': False,
	'retract': 1.0,
	'extrude': 1.0}
variable_speed = {'travel': 100,
	'retract': 15,
	'extrude': 15}
variable_verbose = True
variable_check_time = 0.5
variable_restore = {'absolute': {'coordinates': True, 'extrude': True}, 'speed': 1500, 'e':0, 'factor': {'speed': 1.0, 'extrude': 1.0}}
variable_macro = {'pause': 'PAUSE', 'resume': 'RESUME'}
variable_is_paused = False
gcode = 
	{% set hyperlapse = True if params.HYPERLAPSE and params.HYPERLAPSE|lower =='true' else False %}
	{% if enable %}
	{% if (hyperlapse and printer['gcode_macro HYPERLAPSE'].run) or
	(not hyperlapse and not printer['gcode_macro HYPERLAPSE'].run) %}
	{% if park.enable %}
	{% set pos = {'x': 'X' + park.coord.x|string if park.pos != 'y_only' else '',
	'y': 'Y' + park.coord.y|string if park.pos != 'x_only' else '',
	'z': 'Z'+ [printer.gcode_move.gcode_position.z + park.coord.dz, printer.toolhead.axis_maximum.z]|min|string} %}
	{% set restore = {'absolute': {'coordinates': printer.gcode_move.absolute_coordinates,
	'extrude'    : printer.gcode_move.absolute_extrude},
	'speed'   : printer.gcode_move.speed,
	'e'       : printer.gcode_move.gcode_position.e,
	'factor'  : {'speed'  : printer.gcode_move.speed_factor,
	'extrude': printer.gcode_move.extrude_factor}} %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=restore VALUE="{restore}"
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, minimum extruder temperature not reached!")}{% endif %}
	{% else %}
	{% if extruder.fw_retract %}
	G10
	{% else %}
	M83
	G0 E-{extruder.retract} F{speed.retract * 60}
	{% endif %}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=True
	{macro.pause}
	SET_GCODE_OFFSET X=0 Y=0
	G90
	{% if "xyz" not in printer.toolhead.homed_axes %}
	{% if verbose %}{action_respond_info("Timelapse: Warning, axis not homed yet!")}{% endif %}
	{% else %}
	G0 {pos.x} {pos.y} {pos.z} F{speed.travel * 60}
	{% endif %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=takingframe VALUE=True
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={check_time}
	M400
	{% endif %}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE={hyperlapse}
	{% endif %}
	{% else %}
	{% if verbose %}{action_respond_info("Timelapse: disabled, take frame ignored")}{% endif %}
	{% endif %}

[gcode_macro _TIMELAPSE_NEW_FRAME]
description = action call for timelapse shoot. must be a seperate macro
gcode = 
	{action_call_remote_method("timelapse_newframe",
	macropark=printer['gcode_macro TIMELAPSE_TAKE_FRAME'].park,
	hyperlapse=params.HYPERLAPSE)}

[delayed_gcode _WAIT_TIMELAPSE_TAKE_FRAME]
gcode = 
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% set factor = {'speed': printer.gcode_move.speed_factor, 'extrude': printer.gcode_move.extrude_factor} %}
	{% if tl.takingframe %}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_TAKE_FRAME DURATION={tl.check_time}
	{% else %}
	{tl.macro.resume} VELOCITY={tl.speed.travel}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_TAKE_FRAME VARIABLE=is_paused VALUE=False
	{% if not printer[printer.toolhead.extruder].can_extrude %}
	{action_respond_info("Timelapse: Warning minimum extruder temperature not reached!")}
	{% else %}
	{% if tl.extruder.fw_retract %}
	G11
	{% else %}
	G0 E{tl.extruder.extrude} F{tl.speed.extrude * 60}
	G0 F{tl.restore.speed}
	{% if tl.restore.absolute.extrude %}
	M82
	G92 E{tl.restore.e}
	{% endif %}
	{% endif %}
	{% endif %}
	{% if tl.restore.factor.speed   != factor.speed   %} M220 S{(factor.speed*100)|round(0)}   {% endif %}
	{% if tl.restore.factor.extrude != factor.extrude %} M221 S{(factor.extrude*100)|round(0)} {% endif %}
	{% if not tl.restore.absolute.coordinates %} G91 {% endif %}
	{% endif %}

[gcode_macro HYPERLAPSE]
description = Start/Stop a hyperlapse recording
variable_cycle = 0
variable_run = False
gcode = 
	{% set cycle = params.CYCLE|default(30)|int %}
	{% if params.ACTION and params.ACTION|lower == 'start' %}
	{action_respond_info("Hyperlapse: frames started (Cycle %d sec)" % cycle)}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=True
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=cycle VALUE={cycle}
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True
	{% elif params.ACTION and params.ACTION|lower == 'stop' %}
	{% if run %}{action_respond_info("Hyperlapse: frames stopped")}{% endif %}
	SET_GCODE_VARIABLE MACRO=HYPERLAPSE VARIABLE=run VALUE=False
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION=0
	{% else %}
	{action_raise_error("Hyperlapse: No valid input parameter
	Use:
	- HYPERLAPSE ACTION=START [CYCLE=time]
	- HYPERLAPSE ACTION=STOP")}
	{% endif %}

[delayed_gcode _HYPERLAPSE_LOOP]
gcode = 
	UPDATE_DELAYED_GCODE ID=_HYPERLAPSE_LOOP DURATION={printer["gcode_macro HYPERLAPSE"].cycle}
	TIMELAPSE_TAKE_FRAME HYPERLAPSE=True

[gcode_macro TIMELAPSE_RENDER]
description = Render Timelapse video and wait for the result
variable_render = False
variable_run_identifier = 0
gcode = 
	{action_respond_info("Timelapse: Rendering started")}
	{action_call_remote_method("timelapse_render", byrendermacro="True")}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=render VALUE=True
	{printer.configfile.settings['gcode_macro pause'].rename_existing}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5

[delayed_gcode _WAIT_TIMELAPSE_RENDER]
gcode = 
	{% set ri = printer['gcode_macro TIMELAPSE_RENDER'].run_identifier % 4 %}
	SET_GCODE_VARIABLE MACRO=TIMELAPSE_RENDER VARIABLE=run_identifier VALUE={ri + 1}
	{% if printer['gcode_macro TIMELAPSE_RENDER'].render %}
	M117 Rendering {['-','\\','|','/'][ri]}
	UPDATE_DELAYED_GCODE ID=_WAIT_TIMELAPSE_RENDER DURATION=0.5
	{% else %}
	{action_respond_info("Timelapse: Rendering finished")}
	M117
	{printer.configfile.settings['gcode_macro resume'].rename_existing}
	{% endif %}

[gcode_macro TEST_STREAM_DELAY]
description = Helper macro to find stream and park delay
gcode = 
	{% set min = printer.toolhead.axis_minimum %}
	{% set max = printer.toolhead.axis_maximum %}
	{% set act = printer.toolhead.position %}
	{% set tl = printer['gcode_macro TIMELAPSE_TAKE_FRAME'] %}
	{% if act.z > 5.0 %}
	G0 X{min.x + 5.0} F{tl.speed.travel|int * 60}
	G0 X{(max.x-min.x)/2}
	G4 P{tl.park.time|float * 1000}
	_TIMELAPSE_NEW_FRAME HYPERLAPSE=FALSE
	G0 X{max.x - 5.0}
	{% else %}
	{action_raise_error("Toolhead z %.3f to low. Please place head above z = 5.0" % act.z)}
	{% endif %}

[gcode_macro M205]
gcode = 
	G4 P0

[gcode_macro clean_nozzle]
gcode = 
	SAVE_GCODE_STATE NAME=clean_nozzle_state
	G90
	G0 Z2 F5000
	G0 X116.8 Y354 F10000
	{% for wipe in range(8) %}
	{% for coordinate in [(81.8,354),(116.8,354)] %}
	G0 X{coordinate[0]} Y{coordinate[1] - 0.5 * wipe} Z0 F6000
	{% endfor %}
	{% endfor %}
	G0 X116.8 Y354 Z2 F5000
	RESTORE_GCODE_STATE NAME=clean_nozzle_state

[gcode_macro BED_MESH_CALIBRATE]
rename_existing = BED_MESH_CALIBRATE_BASE
variable_parameter_area_start = 0,0
variable_parameter_area_end = 0,0
variable_mesh_area_offset = 5.0
variable_probe_samples = 2
variable_min_probe_count = 3
variable_probe_count_scale_factor = 1.0
variable_enable_reference_index = False
gcode = 
	{% if params.AREA_START and params.AREA_END %}
	{% set bedMeshConfig = printer["configfile"].config["bed_mesh"] %}
	{% set safe_min_x = bedMeshConfig.mesh_min.split(",")[0]|float %}
	{% set safe_min_y = bedMeshConfig.mesh_min.split(",")[1]|float %}
	{% set safe_max_x = bedMeshConfig.mesh_max.split(",")[0]|float %}
	{% set safe_max_y = bedMeshConfig.mesh_max.split(",")[1]|float %}
	
	{% set area_min_x = params.AREA_START.split(",")[0]|float %}
	{% set area_min_y = params.AREA_START.split(",")[1]|float %}
	{% set area_max_x = params.AREA_END.split(",")[0]|float %}
	{% set area_max_y = params.AREA_END.split(",")[1]|float %}
	
	{% if bedMeshConfig.probe_count.split(",")|length == 2 %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[1]|int %}
	{% else %}
	{% set meshPointX = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% set meshPointY = bedMeshConfig.probe_count.split(",")[0]|int %}
	{% endif %}
	
	{% set meshMaxPointX = meshPointX %}
	{% set meshMaxPointY = meshPointY %}
	
	
	{% if (area_min_x < area_max_x) and (area_min_y < area_max_y) %}
	{% if area_min_x - mesh_area_offset >=  safe_min_x %}
	{% set area_min_x = area_min_x - mesh_area_offset %}
	{% else %}
	{% set area_min_x = safe_min_x %}
	{% endif %}
	
	{% if area_min_y - mesh_area_offset >=  safe_min_y %}
	{% set area_min_y = area_min_y - mesh_area_offset %}
	{% else %}
	{% set area_min_y = safe_min_y %}
	{% endif %}
	
	{% if area_max_x + mesh_area_offset <=  safe_max_x %}
	{% set area_max_x = area_max_x + mesh_area_offset %}
	{% else %}
	{% set area_max_x = safe_max_x %}
	{% endif %}
	
	{% if area_max_y + mesh_area_offset <=  safe_max_y %}
	{% set area_max_y = area_max_y + mesh_area_offset %}
	{% else %}
	{% set area_max_y = safe_max_y %}
	{% endif %}
	
	{% set meshPointX = (meshPointX * (area_max_x - area_min_x) / (safe_max_x - safe_min_x) * probe_count_scale_factor)|round(0)|int %}
	{% if meshPointX < min_probe_count %}
	{% set meshPointX = min_probe_count %}
	{% endif %}
	{% if meshPointX > meshMaxPointX %}
	{% set meshPointX = meshMaxPointX %}
	{% endif %}
	
	{% set meshPointY = (meshPointY * (area_max_y -area_min_y ) / (safe_max_y - safe_min_y) * probe_count_scale_factor )|round(0)|int %}
	{% if meshPointY < min_probe_count %}
	{% set meshPointY = min_probe_count %}
	{% endif %}
	{% if meshPointY > meshMaxPointY %}
	{% set meshPointY = meshMaxPointY %}
	{% endif %}
	
	{% set algorithm = "lagrange" %}
	{% if "algorithm" in bedMeshConfig and meshPointX >=4 and meshPointY >=4 %}
	{% set algorithm = bedMeshConfig.algorithm %}
	{% endif %}
	
	{% if enable_reference_index %}
	{% set referenceIndex = (meshPointX * meshPointY / 2 - 1 )|round(0)|int %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm} relative_reference_index={referenceIndex}
	{% else %}
	BED_MESH_CALIBRATE_BASE mesh_min={area_min_x},{area_min_y} mesh_max={area_max_x},{area_max_y} probe_count={meshPointX},{meshPointY} samples={probe_samples|int} algorithm={algorithm}
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}
	{% else %}
	BED_MESH_CALIBRATE_BASE
	{% endif %}

[gcode_macro PART_COOLING_FAN_ON]
gcode = 
	M106 S255

[gcode_macro PART_COOLING_FAN_OFF]
gcode = 
	M106 S0

[gcode_macro PRIME_EXTRUDER]
gcode = 
	M117 Priming
	G92 E0
	G1 X10.1 Y20 Z2.0 F2000
	G1 X10.1 Y200 Z0.28 F2000.0 E15; Draw the first line
	G1 X10.4 Y200 Z0.28 F5000.0; Move to the side a little
	G1 X10.4 Y20.0 Z0.28 F2000.0 E30; Draw the second line
	G92 E0
	G1 F2400 E-0.7
	G1 Z2.0 F3000

[gcode_macro START_PRINT]
gcode = 
	{% set BED_TEMP = params.BED_TEMP|default(0)|float %}
	{% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(0)|float %}
	G28
	G29
	
	
	M117 Heating bed
	M140 S{BED_TEMP}
	
	G90
	
	SET_GCODE_OFFSET Z=0.0
	
	G28
	
	G1 Z5 F3000
	
	G1 Z0.15 F300
	
	M190 S{BED_TEMP}
	
	M117 Heating nozzle
	M104 S{EXTRUDER_TEMP}
	
	M109 S{EXTRUDER_TEMP}
	
	PRIME_EXTRUDER
	M117 Printing

[gcode_macro END_PRINT]
gcode = 
	
	G91
	
	G1 E-2 F1800
	G1 Z5 F3000
	
	G90
	G1 X10 Y200 F2000
	
	M140 S0
	M104 S0
	M106 S0
	
	M84
	M117 JOB DONE!

[gcode_macro M600]
gcode = 
	{% set X = 50 %}
	{% set Y = 0 %}
	{% set Z = 10 %}
	SAVE_GCODE_STATE NAME=M600_state
	PAUSE
	G91
	G1 E-.8 F2700
	G1 Z{Z}
	G90
	G1 X{X} Y{Y} F3000
	G91
	G1 E-50 F1000
	RESTORE_GCODE_STATE NAME=M600_state

[gcode_macro _OBICO_LAYER_CHANGE]
description = Run a scan across the current print area
variable_first_layer_scan_retract_length = 6
variable_first_layer_scan_retract_speed = 15
variable_first_layer_scan_unretract_length = 6.5
variable_first_layer_scan_unretract_speed = 15
variable_first_layer_scan_resume_speed = 50
variable_first_layer_scan_enabled = True
variable_first_layer_scan_stepover = 10
variable_first_layer_scan_speed = 10
variable_first_layer_scan_zhop = 4
variable_first_layer_scan_zhop_speed = 15
variable_verbose = False
variable_current_layer = -1
variable_first_layer_scanning = False
variable_wait = {'resume': "RESUME", 'absolute_coordinates': True, 'absolute_extrude': True, 'e': 0.0}
gcode = 
	
	{% set pause_macro  = "PAUSE"  if printer.configfile.settings['gcode_macro pause']  is not defined
	else printer.configfile.settings['gcode_macro pause'].rename_existing %}
	{% set resume_macro = "RESUME" if printer.configfile.settings['gcode_macro resume'] is not defined
	else printer.configfile.settings['gcode_macro resume'].rename_existing %}
	
	{% set current_layer_default = printer.print_stats.info.current_layer if printer.print_stats.info.current_layer is not none else -1 %}
	{% set current_layer = params.CURRENT_LAYER|default(current_layer_default)|int %}
	
	{% set polygon_points = printer.exclude_object.objects|map(attribute='polygon')|sum(start=[]) if printer.exclude_object is defined else [] %}
	{% set min_x = params.MINX|default(polygon_points|map(attribute=0)|min|default(printer.toolhead.axis_minimum.x))|float %}
	{% set min_y = params.MINY|default(polygon_points|map(attribute=1)|min|default(printer.toolhead.axis_minimum.y))|float %}
	{% set max_x = params.MAXX|default(polygon_points|map(attribute=0)|max|default(printer.toolhead.axis_maximum.x))|float %}
	{% set max_y = params.MAXY|default(polygon_points|map(attribute=1)|max|default(printer.toolhead.axis_maximum.y))|float %}
	
	{% set stepoverCount = ((max_y - min_y) / first_layer_scan_stepover|float)|round(method='ceil')|int %}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Layer %d" % (current_layer)}' {% endif %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=current_layer VALUE={current_layer}
	
	{% if first_layer_scan_enabled and current_layer == 2 %}
	
	{% set wait_dic = {'resume'              : resume_macro,
	'absolute_coordinates': printer.gcode_move.absolute_coordinates,
	'absolute_extrude'    : printer.gcode_move.absolute_extrude,
	'e'                   : printer.gcode_move.gcode_position.e} %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=wait VALUE="{wait_dic}"
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Prepair scanning" {% endif %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Scan Coordinates: Min:[%.3f:%.3f] Max:[%.3f:%.3f]" % (min_x,min_y,max_x,max_y)}' {% endif %}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Retract %.1fmm filament" % first_layer_scan_retract_length|abs}' {% endif %}
	M83
	G0 E-{first_layer_scan_retract_length|abs} F{first_layer_scan_retract_speed|float * 60}
	{% endif %}
	G91
	G0 Z{first_layer_scan_zhop|abs} F{first_layer_scan_zhop_speed|float * 60}
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s" % pause_macro}' {% endif %}
	{pause_macro}
	
	
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Start scanning" {% endif %}
	
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=True
	G90
	G0 X{min_x} Y{min_y} F{first_layer_scan_resume_speed|float * 60}
	{% for ystep in range(stepoverCount) %}
	G0 Y{min_y + first_layer_scan_stepover|float * ystep} F{first_layer_scan_speed|float * 60}
	G0 X{max_x if ystep % 2 == 0 else min_x}              F{first_layer_scan_speed|float * 60}
	{% endfor %}
	SET_GCODE_VARIABLE MACRO=_OBICO_LAYER_CHANGE VARIABLE=first_layer_scanning VALUE=False
	{% if verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Finish scanning" {% endif %}
	{% endif %}

[delayed_gcode _WAIT_OBICO_LAYER_CHANGE]
gcode = 
	{% set lc_macro = printer['gcode_macro _OBICO_LAYER_CHANGE'] %}
	{% if lc_macro.first_layer_scanning %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Waiting for first layer scan..." {% endif %}
	UPDATE_DELAYED_GCODE ID=_WAIT_OBICO_LAYER_CHANGE DURATION=1.0
	{% else %}
	
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG="Resume print" {% endif %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Call %s VELOCITY=%.1f" % (lc_macro.wait.resume, lc_macro.first_layer_scan_resume_speed)}' {% endif %}
	{lc_macro.wait.resume} VELOCITY={lc_macro.first_layer_scan_resume_speed}
	G91
	G0 Z-{lc_macro.first_layer_scan_zhop|abs} F{lc_macro.first_layer_scan_zhop_speed|float * 60}
	{% if printer[printer.toolhead.extruder].can_extrude %}
	{% if lc_macro.verbose %} RESPOND PREFIX='OBICO DEBUG:' MSG='{"Extrude %.1fmm filament" % lc_macro.first_layer_scan_unretract_length|abs}' {% endif %}
	M83
	G0 E{lc_macro.first_layer_scan_unretract_length|abs} F{lc_macro.first_layer_scan_unretract_speed|float * 60}
	{% endif %}
	
	
	{% if lc_macro.wait.absolute_coordinates %} G90 {% endif %}
	{% if lc_macro.wait.absolute_extrude %}
	M82
	G92 E{lc_macro.wait.e}
	{% endif %}
	{% endif %}

[bed_mesh default]
version = 1
points = 
	-0.017500, 0.011250, -0.027500
	-0.025000, 0.012500, -0.031250
	-0.017500, 0.010000, -0.040000
x_count = 3
y_count = 3
mesh_x_pps = 2
mesh_y_pps = 2
algo = lagrange
tension = 0.2
min_x = 80.5
max_x = 150.49
min_y = 91.68
max_y = 139.32
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
webhooks client 135448638548112: New connection
webhooks client 135448638548112: Client info {'program': 'Moonraker', 'version': 'v0.8.0-324-ga3e4dac'}
Loaded MCU 'mcu' 112 commands (v0.12.0-25-g99d7af87 / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PA9_PA10=PA9,PA10 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c2_PB13_PB14=PB13,PB14 BUS_PINS_i2c3_PB3_PB4=PB3,PB4 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=64000000 MCU=stm32g0b1xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PF0,PF1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'PIS': Starting serial connect
Loaded MCU 'PIS' 106 commands (v0.12.0-132-ge37b007f / gcc: (15:10.3-2021.07-4) 10.3.1 20210621 (release) binutils: (2.38-3ubuntu1+15build1) 2.38)
MCU 'PIS' config: ADC_MAX=4095 BUS_PINS_i2c0a=gpio0,gpio1 BUS_PINS_i2c0b=gpio4,gpio5 BUS_PINS_i2c0c=gpio8,gpio9 BUS_PINS_i2c0d=gpio12,gpio13 BUS_PINS_i2c0e=gpio16,gpio17 BUS_PINS_i2c0f=gpio20,gpio21 BUS_PINS_i2c0g=gpio24,gpio25 BUS_PINS_i2c0h=gpio28,gpio29 BUS_PINS_i2c1a=gpio2,gpio3 BUS_PINS_i2c1b=gpio6,gpio7 BUS_PINS_i2c1c=gpio10,gpio11 BUS_PINS_i2c1d=gpio14,gpio15 BUS_PINS_i2c1e=gpio18,gpio19 BUS_PINS_i2c1f=gpio22,gpio23 BUS_PINS_i2c1g=gpio26,gpio27 BUS_PINS_spi0a=gpio0,gpio3,gpio2 BUS_PINS_spi0b=gpio4,gpio7,gpio6 BUS_PINS_spi0c=gpio16,gpio19,gpio18 BUS_PINS_spi0d=gpio20,gpio23,gpio22 BUS_PINS_spi1a=gpio8,gpio11,gpio10 BUS_PINS_spi1b=gpio12,gpio15,gpio14 BUS_PINS_spi1c=gpio24,gpio27,gpio26 CLOCK_FREQ=12000000 MCU=rp2040 PWM_MAX=255 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'PIS' printer configuration...
Configured MCU 'PIS' (1024 moves)
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (52.0, 24.0)    | (9.5, 15.0)
  1   | (100.2, 24.0)   | (57.8, 15.0)
  2   | (148.5, 24.0)   | (106.0, 15.0)
  3   | (196.8, 24.0)   | (154.2, 15.0)
  4   | (245.0, 24.0)   | (202.5, 15.0)
  5   | (245.0, 75.2)   | (202.5, 66.2)
  6   | (196.8, 75.2)   | (154.2, 66.2)
  7   | (148.5, 75.2)   | (106.0, 66.2)
  8   | (100.2, 75.2)   | (57.8, 66.2)
  9   | (52.0, 75.2)    | (9.5, 66.2)
  10  | (52.0, 126.5)   | (9.5, 117.5)
  11  | (100.2, 126.5)  | (57.8, 117.5)
  12  | (148.5, 126.5)  | (106.0, 117.5)
  13  | (196.8, 126.5)  | (154.2, 117.5)
  14  | (245.0, 126.5)  | (202.5, 117.5)
  15  | (245.0, 177.8)  | (202.5, 168.8)
  16  | (196.8, 177.8)  | (154.2, 168.8)
  17  | (148.5, 177.8)  | (106.0, 168.8)
  18  | (100.2, 177.8)  | (57.8, 168.8)
  19  | (52.0, 177.8)   | (9.5, 168.8)
  20  | (52.0, 229.0)   | (9.5, 220.0)
  21  | (100.2, 229.0)  | (57.8, 220.0)
  22  | (148.5, 229.0)  | (106.0, 220.0)
  23  | (196.8, 229.0)  | (154.2, 220.0)
  24  | (245.0, 229.0)  | (202.5, 220.0)
Starting heater checks for heater_bed
Starting heater checks for extruder
Stats 386286.5: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=3194 bytes_read=5706 bytes_retransmit=9 bytes_invalid=0 send_seq=218 receive_seq=206 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=1267 upcoming_bytes=618 freq=63997482 PIS: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=799 bytes_read=4147 bytes_retransmit=9 bytes_invalid=0 send_seq=108 receive_seq=108 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12005568 adj=12000927  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=3.21 cputime=49.582 memavail=1549372 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 135448638548112
webhooks: registering remote method 'reboot_machine' for connection id: 135448638548112
webhooks: registering remote method 'pause_job_queue' for connection id: 135448638548112
webhooks: registering remote method 'start_job_queue' for connection id: 135448638548112
webhooks: registering remote method 'timelapse_newframe' for connection id: 135448638548112
webhooks: registering remote method 'timelapse_saveFrames' for connection id: 135448638548112
webhooks: registering remote method 'timelapse_render' for connection id: 135448638548112
Stats 386287.5: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000062 mcu_task_stddev=0.000192 bytes_write=5316 bytes_read=6104 bytes_retransmit=9 bytes_invalid=0 send_seq=260 receive_seq=260 retransmit_seq=2 srtt=0.003 rttvar=0.004 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997784 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=805 bytes_read=4176 bytes_retransmit=9 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001667 adj=12008381  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.21 cputime=49.605 memavail=1490108 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386288.5: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000062 mcu_task_stddev=0.000192 bytes_write=5322 bytes_read=6210 bytes_retransmit=9 bytes_invalid=0 send_seq=261 receive_seq=261 retransmit_seq=2 srtt=0.003 rttvar=0.003 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997610 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=811 bytes_read=4191 bytes_retransmit=9 bytes_invalid=0 send_seq=110 receive_seq=110 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001989 adj=12001186  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=3.21 cputime=49.621 memavail=1461296 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386289.5: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000062 mcu_task_stddev=0.000192 bytes_write=5347 bytes_read=6341 bytes_retransmit=9 bytes_invalid=0 send_seq=264 receive_seq=264 retransmit_seq=2 srtt=0.002 rttvar=0.003 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997619 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=817 bytes_read=4206 bytes_retransmit=9 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12002003 adj=12002093  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.19 cputime=49.631 memavail=1574612 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386290.5: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000062 mcu_task_stddev=0.000192 bytes_write=5367 bytes_read=6467 bytes_retransmit=9 bytes_invalid=0 send_seq=266 receive_seq=266 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997610 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=823 bytes_read=4221 bytes_retransmit=9 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001895 adj=12002205  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.19 cputime=49.638 memavail=1748232 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386291.5: gcodein=0  mcu: mcu_awake=0.060 mcu_task_avg=0.000062 mcu_task_stddev=0.000192 bytes_write=5415 bytes_read=6588 bytes_retransmit=9 bytes_invalid=0 send_seq=270 receive_seq=270 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997579 PIS: mcu_awake=0.003 mcu_task_avg=0.000007 mcu_task_stddev=0.000012 bytes_write=829 bytes_read=4236 bytes_retransmit=9 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12001295 adj=12002014  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=3.19 cputime=49.646 memavail=1879880 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 386292.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000028 bytes_write=5421 bytes_read=6724 bytes_retransmit=9 bytes_invalid=0 send_seq=271 receive_seq=271 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997611 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=835 bytes_read=4262 bytes_retransmit=9 bytes_invalid=0 send_seq=114 receive_seq=114 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000826 adj=12000540  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.19 cputime=49.655 memavail=1876312 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386293.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000028 bytes_write=5427 bytes_read=6845 bytes_retransmit=9 bytes_invalid=0 send_seq=272 receive_seq=272 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997613 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=841 bytes_read=4277 bytes_retransmit=9 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000695 adj=11999487  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.19 cputime=49.664 memavail=1864532 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386294.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000028 bytes_write=5452 bytes_read=6961 bytes_retransmit=9 bytes_invalid=0 send_seq=275 receive_seq=275 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997591 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=847 bytes_read=4292 bytes_retransmit=9 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000862 adj=11999531  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.18 cputime=49.674 memavail=1862556 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386295.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000028 bytes_write=5477 bytes_read=7092 bytes_retransmit=9 bytes_invalid=0 send_seq=278 receive_seq=278 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997580 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=853 bytes_read=4307 bytes_retransmit=9 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000880 adj=12000499  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.18 cputime=49.682 memavail=1863376 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386296.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000017 mcu_task_stddev=0.000028 bytes_write=5530 bytes_read=7233 bytes_retransmit=9 bytes_invalid=0 send_seq=283 receive_seq=283 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997572 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=859 bytes_read=4322 bytes_retransmit=9 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000872 adj=12000775  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.18 cputime=49.691 memavail=1861800 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386297.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000019 bytes_write=5536 bytes_read=7354 bytes_retransmit=9 bytes_invalid=0 send_seq=284 receive_seq=284 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997659 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=865 bytes_read=4348 bytes_retransmit=9 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000654 adj=12000891  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.18 cputime=49.699 memavail=1852432 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386298.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000019 bytes_write=5542 bytes_read=7475 bytes_retransmit=9 bytes_invalid=0 send_seq=285 receive_seq=285 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997641 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=871 bytes_read=4363 bytes_retransmit=9 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000508 adj=12000069  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.18 cputime=49.709 memavail=1843600 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386299.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000019 bytes_write=6064 bytes_read=7945 bytes_retransmit=9 bytes_invalid=0 send_seq=307 receive_seq=307 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997620 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=877 bytes_read=4379 bytes_retransmit=9 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000449 adj=11999730  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.16 cputime=49.729 memavail=1843632 print_time=19.983 buffer_time=2.078 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386300.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000019 bytes_write=6170 bytes_read=8117 bytes_retransmit=9 bytes_invalid=0 send_seq=314 receive_seq=314 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997610 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=883 bytes_read=4395 bytes_retransmit=9 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000400 adj=12000515  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.16 cputime=49.740 memavail=2512504 print_time=19.984 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386301.5: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000015 mcu_task_stddev=0.000019 bytes_write=6597 bytes_read=8620 bytes_retransmit=9 bytes_invalid=0 send_seq=339 receive_seq=339 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997661 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=889 bytes_read=4411 bytes_retransmit=9 bytes_invalid=0 send_seq=123 receive_seq=123 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000416 adj=12000324  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.16 cputime=49.759 memavail=2486380 print_time=20.084 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386302.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000031 bytes_write=7004 bytes_read=9142 bytes_retransmit=9 bytes_invalid=0 send_seq=370 receive_seq=370 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997679 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=895 bytes_read=4438 bytes_retransmit=9 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000334 adj=12000350  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.16 cputime=49.778 memavail=2462252 print_time=21.084 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386303.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000031 bytes_write=8040 bytes_read=10036 bytes_retransmit=9 bytes_invalid=0 send_seq=427 receive_seq=427 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997656 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=901 bytes_read=4454 bytes_retransmit=9 bytes_invalid=0 send_seq=125 receive_seq=125 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000323 adj=11999928  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.16 cputime=49.809 memavail=2531784 print_time=22.083 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386304.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000031 bytes_write=8512 bytes_read=10631 bytes_retransmit=9 bytes_invalid=0 send_seq=462 receive_seq=462 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=7 upcoming_bytes=0 freq=63997630 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=907 bytes_read=4470 bytes_retransmit=9 bytes_invalid=0 send_seq=126 receive_seq=126 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000387 adj=12000085  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=3.07 cputime=49.831 memavail=2531336 print_time=23.083 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386305.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000031 bytes_write=9496 bytes_read=11252 bytes_retransmit=9 bytes_invalid=0 send_seq=503 receive_seq=503 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=63997642 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=913 bytes_read=4486 bytes_retransmit=9 bytes_invalid=0 send_seq=127 receive_seq=127 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000376 adj=12000627  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=3.07 cputime=49.855 memavail=2525360 print_time=25.385 buffer_time=1.476 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386306.5: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000031 bytes_write=9651 bytes_read=11511 bytes_retransmit=9 bytes_invalid=0 send_seq=513 receive_seq=513 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=63997654 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=919 bytes_read=4502 bytes_retransmit=9 bytes_invalid=0 send_seq=128 receive_seq=128 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000318 adj=12000668  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.07 cputime=49.868 memavail=2551000 print_time=25.385 buffer_time=0.475 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386307.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000017 mcu_task_stddev=0.000025 bytes_write=9777 bytes_read=11795 bytes_retransmit=9 bytes_invalid=0 send_seq=522 receive_seq=522 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=18 freq=63997638 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=925 bytes_read=4529 bytes_retransmit=9 bytes_invalid=0 send_seq=129 receive_seq=129 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000264 adj=12000307  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=3.07 cputime=49.881 memavail=2551008 print_time=25.385 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386308.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000017 mcu_task_stddev=0.000025 bytes_write=10047 bytes_read=12198 bytes_retransmit=9 bytes_invalid=0 send_seq=540 receive_seq=540 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997626 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=931 bytes_read=4545 bytes_retransmit=9 bytes_invalid=0 send_seq=130 receive_seq=130 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000227 adj=12000066  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.07 cputime=49.897 memavail=2551008 print_time=27.110 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386309.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000017 mcu_task_stddev=0.000025 bytes_write=10545 bytes_read=12721 bytes_retransmit=9 bytes_invalid=0 send_seq=572 receive_seq=572 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997610 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=937 bytes_read=4561 bytes_retransmit=9 bytes_invalid=0 send_seq=131 receive_seq=131 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000259 adj=12000038  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.98 cputime=49.916 memavail=2550784 print_time=28.110 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386310.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000017 mcu_task_stddev=0.000025 bytes_write=11047 bytes_read=13321 bytes_retransmit=9 bytes_invalid=0 send_seq=608 receive_seq=608 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997601 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=943 bytes_read=4577 bytes_retransmit=9 bytes_invalid=0 send_seq=132 receive_seq=132 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000223 adj=12000426  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.98 cputime=49.937 memavail=2834812 print_time=29.110 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386311.5: gcodein=0  mcu: mcu_awake=0.016 mcu_task_avg=0.000017 mcu_task_stddev=0.000025 bytes_write=11537 bytes_read=13902 bytes_retransmit=9 bytes_invalid=0 send_seq=643 receive_seq=643 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997594 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=949 bytes_read=4593 bytes_retransmit=9 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000256 adj=12000269  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.98 cputime=49.958 memavail=2835164 print_time=30.110 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386312.5: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=12050 bytes_read=14488 bytes_retransmit=9 bytes_invalid=0 send_seq=679 receive_seq=679 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997585 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=955 bytes_read=4620 bytes_retransmit=9 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000218 adj=12000601  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.98 cputime=49.979 memavail=2837432 print_time=31.110 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386313.5: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=12547 bytes_read=15083 bytes_retransmit=9 bytes_invalid=0 send_seq=714 receive_seq=714 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997578 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=961 bytes_read=4636 bytes_retransmit=9 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000223 adj=12000377  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.98 cputime=50.000 memavail=2806948 print_time=32.110 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386314.5: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=12994 bytes_read=15641 bytes_retransmit=9 bytes_invalid=0 send_seq=746 receive_seq=746 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997575 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=967 bytes_read=4652 bytes_retransmit=9 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000237 adj=12000494  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=3.30 cputime=50.020 memavail=2795744 print_time=32.697 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386315.5: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=13356 bytes_read=16020 bytes_retransmit=9 bytes_invalid=0 send_seq=762 receive_seq=762 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=8 freq=63997585 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=973 bytes_read=4668 bytes_retransmit=9 bytes_invalid=0 send_seq=137 receive_seq=137 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000238 adj=12000637  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.30 cputime=50.037 memavail=2859944 print_time=35.223 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386316.5: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=13473 bytes_read=16289 bytes_retransmit=9 bytes_invalid=0 send_seq=771 receive_seq=771 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997580 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=979 bytes_read=4684 bytes_retransmit=9 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000264 adj=12000658  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.30 cputime=50.051 memavail=2885284 print_time=35.223 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386317.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=13892 bytes_read=16813 bytes_retransmit=9 bytes_invalid=0 send_seq=800 receive_seq=800 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997577 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=985 bytes_read=4711 bytes_retransmit=9 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000231 adj=12000869  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.30 cputime=50.073 memavail=2894572 print_time=36.073 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386318.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=14362 bytes_read=17379 bytes_retransmit=9 bytes_invalid=0 send_seq=835 receive_seq=835 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=991 bytes_read=4727 bytes_retransmit=9 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000244 adj=12000581  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.30 cputime=50.093 memavail=2892292 print_time=37.073 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 386319.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=14732 bytes_read=17870 bytes_retransmit=9 bytes_invalid=0 send_seq=862 receive_seq=862 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997582 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=997 bytes_read=4743 bytes_retransmit=9 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000256 adj=12000719  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.36 cputime=50.112 memavail=2890484 print_time=37.486 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386320.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=15033 bytes_read=18284 bytes_retransmit=9 bytes_invalid=0 send_seq=882 receive_seq=882 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997579 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1003 bytes_read=4759 bytes_retransmit=9 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000265 adj=12000801  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.36 cputime=50.127 memavail=3156744 print_time=39.809 buffer_time=0.890 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386321.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=15231 bytes_read=18553 bytes_retransmit=9 bytes_invalid=0 send_seq=894 receive_seq=894 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997577 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1009 bytes_read=4775 bytes_retransmit=9 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000257 adj=12000833  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.36 cputime=50.138 memavail=3150784 print_time=39.809 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 386322.5: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=15382 bytes_read=18847 bytes_retransmit=9 bytes_invalid=0 send_seq=905 receive_seq=905 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1015 bytes_read=4802 bytes_retransmit=9 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000253 adj=12000769  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.36 cputime=50.150 memavail=3149792 print_time=39.809 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386323.6: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=15491 bytes_read=19116 bytes_retransmit=9 bytes_invalid=0 send_seq=914 receive_seq=914 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997569 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1021 bytes_read=4818 bytes_retransmit=9 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000252 adj=12000679  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.36 cputime=50.161 memavail=3149936 print_time=39.809 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386324.6: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=15600 bytes_read=19370 bytes_retransmit=9 bytes_invalid=0 send_seq=923 receive_seq=923 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997566 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1027 bytes_read=4834 bytes_retransmit=9 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000251 adj=12000689  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.09 cputime=50.172 memavail=3149956 print_time=39.809 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386325.6: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=16065 bytes_read=19664 bytes_retransmit=9 bytes_invalid=0 send_seq=937 receive_seq=937 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997564 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1033 bytes_read=4850 bytes_retransmit=9 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000247 adj=12000683  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.09 cputime=50.185 memavail=3113920 print_time=45.613 buffer_time=1.690 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386326.6: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000016 mcu_task_stddev=0.000017 bytes_write=16202 bytes_read=19943 bytes_retransmit=9 bytes_invalid=0 send_seq=948 receive_seq=948 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997562 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1045 bytes_read=4882 bytes_retransmit=9 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000239 adj=12000673  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.09 cputime=50.198 memavail=3160488 print_time=45.613 buffer_time=0.690 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
ADXL345 starting 'adxl345' measurements
toolhead: max_velocity: 300.000000
max_accel: 10000.000000
minimum_cruise_ratio: 0.000000
square_corner_velocity: 5.000000
Testing frequency 5 Hz
Testing frequency 6 Hz
Testing frequency 7 Hz
Testing frequency 8 Hz
Testing frequency 9 Hz
Stats 386327.6: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000018 mcu_task_stddev=0.000038 bytes_write=22886 bytes_read=20742 bytes_retransmit=9 bytes_invalid=0 send_seq=1063 receive_seq=1063 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997561 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1212 bytes_read=10245 bytes_retransmit=9 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000212 adj=12000608  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.09 cputime=50.233 memavail=3147432 print_time=50.411 buffer_time=4.487 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386328.6: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000018 mcu_task_stddev=0.000038 bytes_write=23023 bytes_read=21021 bytes_retransmit=9 bytes_invalid=0 send_seq=1074 receive_seq=1074 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997558 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1288 bytes_read=29011 bytes_retransmit=9 bytes_invalid=0 send_seq=178 receive_seq=178 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000187 adj=12000563  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.09 cputime=50.299 memavail=3132404 print_time=50.411 buffer_time=3.487 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386329.6: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000018 mcu_task_stddev=0.000038 bytes_write=23146 bytes_read=21295 bytes_retransmit=9 bytes_invalid=0 send_seq=1084 receive_seq=1084 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997556 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1364 bytes_read=47787 bytes_retransmit=9 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000166 adj=12000460  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.84 cputime=50.374 memavail=3128260 print_time=50.411 buffer_time=2.486 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 10 Hz
Stats 386330.6: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000018 mcu_task_stddev=0.000038 bytes_write=25030 bytes_read=21674 bytes_retransmit=9 bytes_invalid=0 send_seq=1118 receive_seq=1118 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=7 upcoming_bytes=0 freq=63997554 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1440 bytes_read=66563 bytes_retransmit=9 bytes_invalid=0 send_seq=200 receive_seq=200 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000147 adj=12000372  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.84 cputime=50.446 memavail=3330312 print_time=51.387 buffer_time=2.462 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386331.6: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000018 mcu_task_stddev=0.000038 bytes_write=26237 bytes_read=22018 bytes_retransmit=9 bytes_invalid=0 send_seq=1142 receive_seq=1142 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=1516 bytes_read=85339 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000130 adj=12000285  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.84 cputime=50.503 memavail=3330060 print_time=51.948 buffer_time=2.023 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 11 Hz
Stats 386332.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000038 bytes_write=28452 bytes_read=22472 bytes_retransmit=9 bytes_invalid=0 send_seq=1185 receive_seq=1185 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.373 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1592 bytes_read=104072 bytes_retransmit=9 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000114 adj=12000204  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.84 cputime=50.570 memavail=3329560 print_time=52.945 buffer_time=2.020 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 12 Hz
Stats 386333.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000038 bytes_write=30848 bytes_read=22911 bytes_retransmit=9 bytes_invalid=0 send_seq=1231 receive_seq=1231 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997551 PIS: mcu_awake=0.373 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1668 bytes_read=122848 bytes_retransmit=9 bytes_invalid=0 send_seq=233 receive_seq=233 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000101 adj=12000123  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.84 cputime=50.648 memavail=3326336 print_time=53.983 buffer_time=2.057 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 13 Hz
Stats 386334.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000038 bytes_write=33133 bytes_read=23350 bytes_retransmit=9 bytes_invalid=0 send_seq=1274 receive_seq=1274 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997559 PIS: mcu_awake=0.373 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1744 bytes_read=141624 bytes_retransmit=9 bytes_invalid=0 send_seq=244 receive_seq=244 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000090 adj=12000022  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.86 cputime=50.725 memavail=3346632 print_time=54.959 buffer_time=2.033 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 14 Hz
Stats 386335.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000038 bytes_write=35678 bytes_read=23809 bytes_retransmit=9 bytes_invalid=0 send_seq=1321 receive_seq=1321 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997567 PIS: mcu_awake=0.373 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1820 bytes_read=160400 bytes_retransmit=9 bytes_invalid=0 send_seq=255 receive_seq=255 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000079 adj=11999937  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.86 cputime=50.801 memavail=3344376 print_time=56.007 buffer_time=2.081 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 15 Hz
Stats 386336.6: gcodein=0  mcu: mcu_awake=0.022 mcu_task_avg=0.000035 mcu_task_stddev=0.000038 bytes_write=38083 bytes_read=24243 bytes_retransmit=9 bytes_invalid=0 send_seq=1366 receive_seq=1366 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997569 PIS: mcu_awake=0.373 mcu_task_avg=0.000024 mcu_task_stddev=0.000009 bytes_write=1896 bytes_read=179176 bytes_retransmit=9 bytes_invalid=0 send_seq=266 receive_seq=266 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=11999841  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.86 cputime=50.873 memavail=3386824 print_time=56.985 buffer_time=2.058 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 16 Hz
Stats 386337.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000036 mcu_task_stddev=0.000038 bytes_write=40700 bytes_read=24737 bytes_retransmit=9 bytes_invalid=0 send_seq=1414 receive_seq=1414 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997568 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=1972 bytes_read=197909 bytes_retransmit=9 bytes_invalid=0 send_seq=277 receive_seq=277 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000061 adj=11999822  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.86 cputime=50.943 memavail=3343984 print_time=58.026 buffer_time=2.098 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Testing frequency 17 Hz
Stats 386338.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000036 mcu_task_stddev=0.000038 bytes_write=43479 bytes_read=25206 bytes_retransmit=9 bytes_invalid=0 send_seq=1466 receive_seq=1466 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997565 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2048 bytes_read=216685 bytes_retransmit=9 bytes_invalid=0 send_seq=288 receive_seq=288 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=11999903  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=2.86 cputime=51.012 memavail=3389516 print_time=59.033 buffer_time=2.105 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 18 Hz
Stats 386339.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000036 mcu_task_stddev=0.000038 bytes_write=46135 bytes_read=25660 bytes_retransmit=9 bytes_invalid=0 send_seq=1515 receive_seq=1515 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997565 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2117 bytes_read=235439 bytes_retransmit=9 bytes_invalid=0 send_seq=298 receive_seq=298 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000046 adj=11999963  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.71 cputime=51.073 memavail=3380224 print_time=60.040 buffer_time=2.111 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 19 Hz
Stats 386340.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000036 mcu_task_stddev=0.000038 bytes_write=49242 bytes_read=26184 bytes_retransmit=9 bytes_invalid=0 send_seq=1572 receive_seq=1572 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997563 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2193 bytes_read=254215 bytes_retransmit=9 bytes_invalid=0 send_seq=309 receive_seq=309 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000040 adj=12000009  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.71 cputime=51.150 memavail=3368976 print_time=61.033 buffer_time=2.104 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 20 Hz
Stats 386341.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000036 mcu_task_stddev=0.000038 bytes_write=52133 bytes_read=26673 bytes_retransmit=9 bytes_invalid=0 send_seq=1628 receive_seq=1628 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997561 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2269 bytes_read=272991 bytes_retransmit=9 bytes_invalid=0 send_seq=320 receive_seq=320 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000035 adj=12000051  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.71 cputime=51.225 memavail=3360548 print_time=62.051 buffer_time=2.121 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 21 Hz
Stats 386342.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=55184 bytes_read=27178 bytes_retransmit=9 bytes_invalid=0 send_seq=1684 receive_seq=1684 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997561 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2345 bytes_read=291784 bytes_retransmit=9 bytes_invalid=0 send_seq=331 receive_seq=331 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000030 adj=12000097  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.71 cputime=51.299 memavail=3338664 print_time=63.033 buffer_time=2.103 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 22 Hz
Stats 386343.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=58191 bytes_read=27718 bytes_retransmit=9 bytes_invalid=0 send_seq=1742 receive_seq=1742 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2421 bytes_read=310560 bytes_retransmit=9 bytes_invalid=0 send_seq=342 receive_seq=342 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000027 adj=12000126  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.71 cputime=51.369 memavail=3373568 print_time=64.061 buffer_time=2.130 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 23 Hz
Stats 386344.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=61325 bytes_read=28227 bytes_retransmit=9 bytes_invalid=0 send_seq=1802 receive_seq=1802 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997556 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2497 bytes_read=329336 bytes_retransmit=9 bytes_invalid=0 send_seq=353 receive_seq=353 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000023 adj=12000171  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.57 cputime=51.443 memavail=3378008 print_time=65.043 buffer_time=2.111 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 24 Hz
Stats 386345.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=64858 bytes_read=28746 bytes_retransmit=9 bytes_invalid=0 send_seq=1864 receive_seq=1864 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997554 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2573 bytes_read=348112 bytes_retransmit=9 bytes_invalid=0 send_seq=364 receive_seq=364 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000020 adj=12000196  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.57 cputime=51.521 memavail=3379640 print_time=66.058 buffer_time=2.125 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 25 Hz
Stats 386346.6: gcodein=0  mcu: mcu_awake=0.028 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=68040 bytes_read=29285 bytes_retransmit=9 bytes_invalid=0 send_seq=1924 receive_seq=1924 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2649 bytes_read=366828 bytes_retransmit=9 bytes_invalid=0 send_seq=375 receive_seq=375 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000017 adj=12000227  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.57 cputime=51.597 memavail=3375872 print_time=67.052 buffer_time=2.118 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 26 Hz
Stats 386347.6: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=71156 bytes_read=29814 bytes_retransmit=9 bytes_invalid=0 send_seq=1985 receive_seq=1985 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997552 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2725 bytes_read=385681 bytes_retransmit=9 bytes_invalid=0 send_seq=386 receive_seq=386 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000015 adj=12000254  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.57 cputime=51.661 memavail=3375872 print_time=68.065 buffer_time=2.131 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 27 Hz
Stats 386348.6: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=74696 bytes_read=30331 bytes_retransmit=9 bytes_invalid=0 send_seq=2048 receive_seq=2048 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997551 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2801 bytes_read=404397 bytes_retransmit=9 bytes_invalid=0 send_seq=397 receive_seq=397 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000012 adj=12000274  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.57 cputime=51.736 memavail=3359888 print_time=69.077 buffer_time=2.143 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Testing frequency 28 Hz
Stats 386349.6: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=78259 bytes_read=30876 bytes_retransmit=9 bytes_invalid=0 send_seq=2111 receive_seq=2111 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997550 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2877 bytes_read=423173 bytes_retransmit=9 bytes_invalid=0 send_seq=408 receive_seq=408 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000011 adj=12000294  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.44 cputime=51.807 memavail=3316292 print_time=70.071 buffer_time=2.136 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Testing frequency 29 Hz
Stats 386350.6: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=81367 bytes_read=31363 bytes_retransmit=9 bytes_invalid=0 send_seq=2168 receive_seq=2168 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997549 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=2953 bytes_read=441949 bytes_retransmit=9 bytes_invalid=0 send_seq=419 receive_seq=419 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000010 adj=12000313  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.44 cputime=51.882 memavail=3367456 print_time=71.074 buffer_time=2.139 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Testing frequency 30 Hz
Stats 386351.6: gcodein=0  mcu: mcu_awake=0.030 mcu_task_avg=0.000039 mcu_task_stddev=0.000039 bytes_write=84476 bytes_read=31865 bytes_retransmit=9 bytes_invalid=0 send_seq=2228 receive_seq=2228 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997548 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3029 bytes_read=460725 bytes_retransmit=9 bytes_invalid=0 send_seq=430 receive_seq=430 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000008 adj=12000333  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.44 cputime=51.961 memavail=3351720 print_time=72.077 buffer_time=2.141 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 31 Hz
Stats 386352.6: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=88018 bytes_read=32449 bytes_retransmit=9 bytes_invalid=0 send_seq=2294 receive_seq=2294 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3105 bytes_read=479518 bytes_retransmit=9 bytes_invalid=0 send_seq=441 receive_seq=441 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000008 adj=12000348  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.44 cputime=52.038 memavail=3376748 print_time=73.071 buffer_time=2.135 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 32 Hz
Stats 386353.6: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=92110 bytes_read=33023 bytes_retransmit=9 bytes_invalid=0 send_seq=2367 receive_seq=2367 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997556 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3181 bytes_read=498234 bytes_retransmit=9 bytes_invalid=0 send_seq=452 receive_seq=452 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000007 adj=12000353  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=2.44 cputime=52.120 memavail=3375196 print_time=74.089 buffer_time=2.152 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 33 Hz
Stats 386354.6: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=96021 bytes_read=33587 bytes_retransmit=9 bytes_invalid=0 send_seq=2438 receive_seq=2438 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3257 bytes_read=517010 bytes_retransmit=9 bytes_invalid=0 send_seq=463 receive_seq=463 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000006 adj=12000362  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.25 cputime=52.198 memavail=3374948 print_time=75.076 buffer_time=2.139 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 34 Hz
Stats 386355.6: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=99759 bytes_read=34161 bytes_retransmit=9 bytes_invalid=0 send_seq=2505 receive_seq=2505 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997562 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3333 bytes_read=535786 bytes_retransmit=9 bytes_invalid=0 send_seq=474 receive_seq=474 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000005 adj=12000370  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.25 cputime=52.265 memavail=3374956 print_time=76.093 buffer_time=2.155 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 35 Hz
Stats 386356.6: gcodein=0  mcu: mcu_awake=0.031 mcu_task_avg=0.000040 mcu_task_stddev=0.000040 bytes_write=103190 bytes_read=34700 bytes_retransmit=9 bytes_invalid=0 send_seq=2571 receive_seq=2571 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997562 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3402 bytes_read=554540 bytes_retransmit=9 bytes_invalid=0 send_seq=484 receive_seq=484 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000005 adj=12000376  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.25 cputime=52.339 memavail=3368656 print_time=77.094 buffer_time=2.156 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 36 Hz
Stats 386357.6: gcodein=0  mcu: mcu_awake=0.036 mcu_task_avg=0.000041 mcu_task_stddev=0.000041 bytes_write=106680 bytes_read=35270 bytes_retransmit=9 bytes_invalid=0 send_seq=2637 receive_seq=2637 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997564 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3478 bytes_read=573333 bytes_retransmit=9 bytes_invalid=0 send_seq=495 receive_seq=495 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000005 adj=12000391  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.25 cputime=52.421 memavail=3356168 print_time=78.089 buffer_time=2.149 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 37 Hz
Stats 386358.6: gcodein=0  mcu: mcu_awake=0.036 mcu_task_avg=0.000041 mcu_task_stddev=0.000041 bytes_write=110247 bytes_read=35824 bytes_retransmit=9 bytes_invalid=0 send_seq=2703 receive_seq=2703 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997563 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3554 bytes_read=592109 bytes_retransmit=9 bytes_invalid=0 send_seq=506 receive_seq=506 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000005 adj=12000398  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=2.25 cputime=52.496 memavail=3348608 print_time=79.084 buffer_time=2.144 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 38 Hz
Stats 386359.6: gcodein=0  mcu: mcu_awake=0.036 mcu_task_avg=0.000041 mcu_task_stddev=0.000041 bytes_write=114113 bytes_read=36388 bytes_retransmit=9 bytes_invalid=0 send_seq=2774 receive_seq=2774 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997569 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3630 bytes_read=610825 bytes_retransmit=9 bytes_invalid=0 send_seq=517 receive_seq=517 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000005 adj=12000411  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.15 cputime=52.594 memavail=3372720 print_time=80.092 buffer_time=2.152 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 39 Hz
Stats 386360.6: gcodein=0  mcu: mcu_awake=0.036 mcu_task_avg=0.000041 mcu_task_stddev=0.000041 bytes_write=118559 bytes_read=37002 bytes_retransmit=9 bytes_invalid=0 send_seq=2852 receive_seq=2852 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3706 bytes_read=629661 bytes_retransmit=9 bytes_invalid=0 send_seq=528 receive_seq=528 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000005 adj=12000411  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.15 cputime=52.668 memavail=3377844 print_time=81.094 buffer_time=2.153 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 40 Hz
Stats 386361.6: gcodein=0  mcu: mcu_awake=0.036 mcu_task_avg=0.000041 mcu_task_stddev=0.000041 bytes_write=122799 bytes_read=37596 bytes_retransmit=9 bytes_invalid=0 send_seq=2926 receive_seq=2926 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=40 upcoming_bytes=391 freq=63997573 PIS: mcu_awake=0.423 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3777 bytes_read=648432 bytes_retransmit=9 bytes_invalid=0 send_seq=538 receive_seq=538 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000006 adj=12000412  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.15 cputime=52.755 memavail=3345092 print_time=82.095 buffer_time=2.153 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 41 Hz
Stats 386362.6: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000039 mcu_task_stddev=0.000040 bytes_write=127290 bytes_read=38211 bytes_retransmit=9 bytes_invalid=0 send_seq=3004 receive_seq=3004 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=704 freq=63997578 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3853 bytes_read=667165 bytes_retransmit=9 bytes_invalid=0 send_seq=549 receive_seq=549 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000006 adj=12000428  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.15 cputime=52.841 memavail=3310824 print_time=83.090 buffer_time=2.148 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Testing frequency 42 Hz
Stats 386363.6: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000039 mcu_task_stddev=0.000040 bytes_write=132009 bytes_read=38835 bytes_retransmit=9 bytes_invalid=0 send_seq=3084 receive_seq=3084 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=25 upcoming_bytes=0 freq=63997573 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=3929 bytes_read=685941 bytes_retransmit=9 bytes_invalid=0 send_seq=560 receive_seq=560 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000006 adj=12000427  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.15 cputime=52.921 memavail=3379352 print_time=84.103 buffer_time=2.161 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Testing frequency 43 Hz
Stats 386364.6: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000039 mcu_task_stddev=0.000040 bytes_write=136090 bytes_read=39429 bytes_retransmit=9 bytes_invalid=0 send_seq=3158 receive_seq=3158 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997570 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4005 bytes_read=704717 bytes_retransmit=9 bytes_invalid=0 send_seq=571 receive_seq=571 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000007 adj=12000447  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.46 cputime=52.998 memavail=3370088 print_time=85.093 buffer_time=2.150 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Testing frequency 44 Hz
Stats 386365.6: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000039 mcu_task_stddev=0.000040 bytes_write=140292 bytes_read=40023 bytes_retransmit=9 bytes_invalid=0 send_seq=3235 receive_seq=3235 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997568 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4081 bytes_read=723493 bytes_retransmit=9 bytes_invalid=0 send_seq=582 receive_seq=582 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000008 adj=12000458  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.46 cputime=53.083 memavail=3358524 print_time=86.100 buffer_time=2.156 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 45 Hz
Stats 386366.6: gcodein=0  mcu: mcu_awake=0.038 mcu_task_avg=0.000039 mcu_task_stddev=0.000040 bytes_write=144647 bytes_read=40642 bytes_retransmit=9 bytes_invalid=0 send_seq=3314 receive_seq=3314 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997568 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4157 bytes_read=742269 bytes_retransmit=9 bytes_invalid=0 send_seq=593 receive_seq=593 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000009 adj=12000479  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.46 cputime=53.165 memavail=3340892 print_time=87.107 buffer_time=2.162 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Testing frequency 46 Hz
Stats 386367.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=149080 bytes_read=41277 bytes_retransmit=9 bytes_invalid=0 send_seq=3393 receive_seq=3393 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997569 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4233 bytes_read=761221 bytes_retransmit=9 bytes_invalid=0 send_seq=604 receive_seq=604 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000009 adj=12000481  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.46 cputime=53.244 memavail=3372368 print_time=88.107 buffer_time=2.163 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 47 Hz
Stats 386368.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=153617 bytes_read=41901 bytes_retransmit=9 bytes_invalid=0 send_seq=3476 receive_seq=3476 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997567 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4309 bytes_read=780255 bytes_retransmit=9 bytes_invalid=0 send_seq=615 receive_seq=615 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000010 adj=12000482  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.46 cputime=53.320 memavail=3372392 print_time=89.108 buffer_time=2.163 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 48 Hz
Stats 386369.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=158198 bytes_read=42540 bytes_retransmit=9 bytes_invalid=0 send_seq=3559 receive_seq=3559 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=0 freq=63997568 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4385 bytes_read=799411 bytes_retransmit=9 bytes_invalid=0 send_seq=626 receive_seq=626 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000011 adj=12000492  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=2.34 cputime=53.407 memavail=3368288 print_time=90.104 buffer_time=2.158 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 49 Hz
Stats 386370.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=162704 bytes_read=43164 bytes_retransmit=9 bytes_invalid=0 send_seq=3639 receive_seq=3639 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=38 upcoming_bytes=305 freq=63997566 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4461 bytes_read=818445 bytes_retransmit=9 bytes_invalid=0 send_seq=637 receive_seq=637 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000011 adj=12000491  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.34 cputime=53.488 memavail=3360844 print_time=91.100 buffer_time=2.152 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 50 Hz
Stats 386371.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=166964 bytes_read=43738 bytes_retransmit=9 bytes_invalid=0 send_seq=3712 receive_seq=3712 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=45 upcoming_bytes=1299 freq=63997566 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4530 bytes_read=837578 bytes_retransmit=9 bytes_invalid=0 send_seq=647 receive_seq=647 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000012 adj=12000497  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.34 cputime=53.562 memavail=3359344 print_time=92.106 buffer_time=2.158 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Testing frequency 51 Hz
Stats 386372.6: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=171679 bytes_read=44388 bytes_retransmit=9 bytes_invalid=0 send_seq=3794 receive_seq=3794 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=51 upcoming_bytes=1515 freq=63997567 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4606 bytes_read=856629 bytes_retransmit=9 bytes_invalid=0 send_seq=658 receive_seq=658 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000013 adj=12000500  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.34 cputime=53.650 memavail=3354164 print_time=93.102 buffer_time=2.154 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 52 Hz
Stats 386373.6: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=177342 bytes_read=45092 bytes_retransmit=9 bytes_invalid=0 send_seq=3890 receive_seq=3890 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=39 upcoming_bytes=984 freq=63997569 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4682 bytes_read=875724 bytes_retransmit=9 bytes_invalid=0 send_seq=669 receive_seq=669 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000013 adj=12000497  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.34 cputime=53.739 memavail=3311560 print_time=94.107 buffer_time=2.159 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 53 Hz
Stats 386374.6: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=182160 bytes_read=45711 bytes_retransmit=9 bytes_invalid=0 send_seq=3972 receive_seq=3972 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=1122 freq=63997579 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4758 bytes_read=894819 bytes_retransmit=9 bytes_invalid=0 send_seq=680 receive_seq=680 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000014 adj=12000494  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.31 cputime=53.827 memavail=3269324 print_time=95.104 buffer_time=2.154 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 54 Hz
Stats 386375.6: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=187118 bytes_read=46350 bytes_retransmit=9 bytes_invalid=0 send_seq=4055 receive_seq=4055 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=51 upcoming_bytes=298 freq=63997582 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4834 bytes_read=913914 bytes_retransmit=9 bytes_invalid=0 send_seq=691 receive_seq=691 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000015 adj=12000481  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.31 cputime=53.913 memavail=3366212 print_time=96.109 buffer_time=2.159 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 55 Hz
Stats 386376.6: gcodein=0  mcu: mcu_awake=0.043 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=191647 bytes_read=46959 bytes_retransmit=9 bytes_invalid=0 send_seq=4132 receive_seq=4132 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997580 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4910 bytes_read=932948 bytes_retransmit=9 bytes_invalid=0 send_seq=702 receive_seq=702 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000016 adj=12000483  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.31 cputime=53.993 memavail=3365592 print_time=97.105 buffer_time=2.155 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 56 Hz
Stats 386377.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=195924 bytes_read=47564 bytes_retransmit=9 bytes_invalid=0 send_seq=4208 receive_seq=4208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=4986 bytes_read=952060 bytes_retransmit=9 bytes_invalid=0 send_seq=713 receive_seq=713 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000017 adj=12000492  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.31 cputime=54.078 memavail=3363784 print_time=98.110 buffer_time=2.160 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 57 Hz
Stats 386378.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=200242 bytes_read=48158 bytes_retransmit=9 bytes_invalid=0 send_seq=4282 receive_seq=4282 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997575 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5062 bytes_read=971155 bytes_retransmit=9 bytes_invalid=0 send_seq=724 receive_seq=724 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000018 adj=12000505  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.31 cputime=54.156 memavail=3367736 print_time=99.111 buffer_time=2.160 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 58 Hz
Stats 386379.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=204657 bytes_read=48772 bytes_retransmit=9 bytes_invalid=0 send_seq=4360 receive_seq=4360 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997573 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5138 bytes_read=990250 bytes_retransmit=9 bytes_invalid=0 send_seq=735 receive_seq=735 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000018 adj=12000511  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.13 cputime=54.235 memavail=3364724 print_time=100.112 buffer_time=2.160 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 59 Hz
Stats 386380.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=209113 bytes_read=49361 bytes_retransmit=9 bytes_invalid=0 send_seq=4436 receive_seq=4436 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997574 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5214 bytes_read=1009345 bytes_retransmit=9 bytes_invalid=0 send_seq=746 receive_seq=746 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000019 adj=12000553  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.13 cputime=54.316 memavail=3355488 print_time=101.112 buffer_time=2.161 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 60 Hz
Stats 386381.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000040 bytes_write=213647 bytes_read=49985 bytes_retransmit=9 bytes_invalid=0 send_seq=4516 receive_seq=4516 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=53 upcoming_bytes=0 freq=63997575 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5290 bytes_read=1028379 bytes_retransmit=9 bytes_invalid=0 send_seq=757 receive_seq=757 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000020 adj=12000545  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.13 cputime=54.401 memavail=3345320 print_time=102.117 buffer_time=2.165 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 61 Hz
Stats 386382.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=218161 bytes_read=50610 bytes_retransmit=9 bytes_invalid=0 send_seq=4593 receive_seq=4593 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=85 freq=63997577 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5366 bytes_read=1047491 bytes_retransmit=9 bytes_invalid=0 send_seq=768 receive_seq=768 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000021 adj=12000539  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.13 cputime=54.485 memavail=3340376 print_time=103.113 buffer_time=2.161 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 62 Hz
Stats 386383.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=222690 bytes_read=51204 bytes_retransmit=9 bytes_invalid=0 send_seq=4670 receive_seq=4670 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=49 upcoming_bytes=248 freq=63997574 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5442 bytes_read=1066586 bytes_retransmit=9 bytes_invalid=0 send_seq=779 receive_seq=779 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000021 adj=12000532  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.13 cputime=54.567 memavail=3375684 print_time=104.118 buffer_time=2.165 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 63 Hz
Stats 386384.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=227342 bytes_read=51818 bytes_retransmit=9 bytes_invalid=0 send_seq=4748 receive_seq=4748 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=391 freq=63997576 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5518 bytes_read=1085681 bytes_retransmit=9 bytes_invalid=0 send_seq=790 receive_seq=790 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000023 adj=12000534  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.04 cputime=54.650 memavail=3367340 print_time=105.118 buffer_time=2.165 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 64 Hz
Stats 386385.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=232044 bytes_read=52432 bytes_retransmit=9 bytes_invalid=0 send_seq=4827 receive_seq=4826 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=502 freq=63997576 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5594 bytes_read=1104776 bytes_retransmit=9 bytes_invalid=0 send_seq=801 receive_seq=801 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000023 adj=12000537  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.04 cputime=54.738 memavail=3352380 print_time=106.115 buffer_time=2.160 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 65 Hz
Stats 386386.6: gcodein=0  mcu: mcu_awake=0.042 mcu_task_avg=0.000037 mcu_task_stddev=0.000041 bytes_write=236787 bytes_read=53041 bytes_retransmit=9 bytes_invalid=0 send_seq=4906 receive_seq=4906 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=656 freq=63997583 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5663 bytes_read=1123848 bytes_retransmit=9 bytes_invalid=0 send_seq=811 receive_seq=811 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000024 adj=12000532  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.04 cputime=54.821 memavail=3306916 print_time=107.116 buffer_time=2.160 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 66 Hz
Stats 386387.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000034 mcu_task_stddev=0.000041 bytes_write=241594 bytes_read=53681 bytes_retransmit=9 bytes_invalid=0 send_seq=4986 receive_seq=4986 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=826 freq=63997585 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5739 bytes_read=1142960 bytes_retransmit=9 bytes_invalid=0 send_seq=822 receive_seq=822 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000025 adj=12000517  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.04 cputime=54.904 memavail=3368356 print_time=108.120 buffer_time=2.164 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 67 Hz
Stats 386388.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000034 mcu_task_stddev=0.000041 bytes_write=246436 bytes_read=54315 bytes_retransmit=9 bytes_invalid=0 send_seq=5068 receive_seq=5068 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=928 freq=63997582 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5821 bytes_read=1162010 bytes_retransmit=9 bytes_invalid=0 send_seq=834 receive_seq=834 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000027 adj=12000514  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.04 cputime=54.992 memavail=3353808 print_time=109.113 buffer_time=2.157 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 68 Hz
Stats 386389.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000034 mcu_task_stddev=0.000041 bytes_write=251476 bytes_read=54954 bytes_retransmit=9 bytes_invalid=0 send_seq=5154 receive_seq=5154 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=10 upcoming_bytes=1105 freq=63997579 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5897 bytes_read=1181105 bytes_retransmit=9 bytes_invalid=0 send_seq=845 receive_seq=845 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000027 adj=12000531  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.11 cputime=55.088 memavail=3345408 print_time=110.121 buffer_time=2.164 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 69 Hz
Stats 386390.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000034 mcu_task_stddev=0.000041 bytes_write=256439 bytes_read=55593 bytes_retransmit=9 bytes_invalid=0 send_seq=5237 receive_seq=5237 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=56 upcoming_bytes=1391 freq=63997580 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=5973 bytes_read=1200261 bytes_retransmit=9 bytes_invalid=0 send_seq=856 receive_seq=856 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000028 adj=12000534  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.11 cputime=55.187 memavail=3337344 print_time=111.114 buffer_time=2.156 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 70 Hz
Stats 386391.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000034 mcu_task_stddev=0.000041 bytes_write=261785 bytes_read=56292 bytes_retransmit=9 bytes_invalid=0 send_seq=5332 receive_seq=5332 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=14 upcoming_bytes=1543 freq=63997576 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6049 bytes_read=1219356 bytes_retransmit=9 bytes_invalid=0 send_seq=867 receive_seq=867 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000029 adj=12000531  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.11 cputime=55.295 memavail=3370588 print_time=112.118 buffer_time=2.159 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 71 Hz
Stats 386392.6: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=267188 bytes_read=56987 bytes_retransmit=9 bytes_invalid=0 send_seq=5426 receive_seq=5426 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=49 upcoming_bytes=1492 freq=63997577 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6125 bytes_read=1238407 bytes_retransmit=9 bytes_invalid=0 send_seq=878 receive_seq=878 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000029 adj=12000537  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.11 cputime=55.386 memavail=3366084 print_time=113.118 buffer_time=2.158 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 72 Hz
Stats 386393.6: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=272528 bytes_read=57661 bytes_retransmit=9 bytes_invalid=0 send_seq=5516 receive_seq=5516 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=1715 freq=63997577 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6201 bytes_read=1257502 bytes_retransmit=9 bytes_invalid=0 send_seq=889 receive_seq=889 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000030 adj=12000534  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.11 cputime=55.484 memavail=3354648 print_time=114.122 buffer_time=2.161 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 73 Hz
Stats 386394.6: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=277909 bytes_read=58355 bytes_retransmit=9 bytes_invalid=0 send_seq=5610 receive_seq=5610 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=2457 freq=63997575 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6277 bytes_read=1276597 bytes_retransmit=9 bytes_invalid=0 send_seq=900 receive_seq=900 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000031 adj=12000531  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.19 cputime=55.573 memavail=3350224 print_time=115.119 buffer_time=2.157 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 74 Hz
Stats 386395.6: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=283005 bytes_read=58989 bytes_retransmit=9 bytes_invalid=0 send_seq=5695 receive_seq=5695 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=17 upcoming_bytes=2547 freq=63997577 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6353 bytes_read=1295692 bytes_retransmit=9 bytes_invalid=0 send_seq=911 receive_seq=911 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000031 adj=12000534  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=2.19 cputime=55.649 memavail=3342160 print_time=116.123 buffer_time=2.160 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 75 Hz
Stats 386396.6: gcodein=0  mcu: mcu_awake=0.049 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=289351 bytes_read=59768 bytes_retransmit=9 bytes_invalid=0 send_seq=5806 receive_seq=5806 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=676 freq=63997578 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6429 bytes_read=1314787 bytes_retransmit=9 bytes_invalid=0 send_seq=922 receive_seq=922 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000032 adj=12000529  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.19 cputime=55.743 memavail=3331832 print_time=117.117 buffer_time=2.154 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 76 Hz
Stats 386397.6: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=294575 bytes_read=60478 bytes_retransmit=9 bytes_invalid=0 send_seq=5900 receive_seq=5900 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997579 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6505 bytes_read=1333899 bytes_retransmit=9 bytes_invalid=0 send_seq=933 receive_seq=933 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000033 adj=12000527  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.19 cputime=55.835 memavail=3308276 print_time=118.123 buffer_time=2.160 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 77 Hz
Stats 386398.6: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=299044 bytes_read=61097 bytes_retransmit=9 bytes_invalid=0 send_seq=5982 receive_seq=5982 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997576 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6581 bytes_read=1352933 bytes_retransmit=9 bytes_invalid=0 send_seq=944 receive_seq=944 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000033 adj=12000524  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.19 cputime=55.924 memavail=3263172 print_time=119.121 buffer_time=2.157 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 78 Hz
Stats 386399.6: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=303624 bytes_read=61756 bytes_retransmit=9 bytes_invalid=0 send_seq=6069 receive_seq=6069 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997573 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6657 bytes_read=1372089 bytes_retransmit=9 bytes_invalid=0 send_seq=955 receive_seq=955 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000035 adj=12000533  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.57 cputime=56.013 memavail=3286348 print_time=120.124 buffer_time=2.159 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 79 Hz
Stats 386400.6: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=308207 bytes_read=62400 bytes_retransmit=9 bytes_invalid=0 send_seq=6153 receive_seq=6153 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997580 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6733 bytes_read=1391184 bytes_retransmit=9 bytes_invalid=0 send_seq=966 receive_seq=966 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000036 adj=12000551  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.57 cputime=56.098 memavail=3359916 print_time=121.118 buffer_time=2.153 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 80 Hz
Stats 386401.6: gcodein=0  mcu: mcu_awake=0.052 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=312837 bytes_read=63034 bytes_retransmit=9 bytes_invalid=0 send_seq=6238 receive_seq=6238 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=36 upcoming_bytes=0 freq=63997577 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6802 bytes_read=1410256 bytes_retransmit=9 bytes_invalid=0 send_seq=976 receive_seq=976 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000036 adj=12000531  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.57 cputime=56.185 memavail=3344548 print_time=122.125 buffer_time=2.158 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 81 Hz
Stats 386402.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=317475 bytes_read=63694 bytes_retransmit=9 bytes_invalid=0 send_seq=6322 receive_seq=6322 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=49 upcoming_bytes=36 freq=63997574 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6878 bytes_read=1429307 bytes_retransmit=9 bytes_invalid=0 send_seq=987 receive_seq=987 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000037 adj=12000535  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.57 cputime=56.279 memavail=3333748 print_time=123.122 buffer_time=2.155 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 82 Hz
Stats 386403.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=322117 bytes_read=64338 bytes_retransmit=9 bytes_invalid=0 send_seq=6406 receive_seq=6406 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=149 freq=63997570 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=6954 bytes_read=1448402 bytes_retransmit=9 bytes_invalid=0 send_seq=998 receive_seq=998 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000037 adj=12000525  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.57 cputime=56.362 memavail=3363204 print_time=124.122 buffer_time=2.155 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 83 Hz
Stats 386404.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=326804 bytes_read=64967 bytes_retransmit=9 bytes_invalid=0 send_seq=6490 receive_seq=6490 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=260 freq=63997569 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7030 bytes_read=1467497 bytes_retransmit=9 bytes_invalid=0 send_seq=1009 receive_seq=1009 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000038 adj=12000532  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.44 cputime=56.449 memavail=3363484 print_time=125.122 buffer_time=2.155 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 84 Hz
Stats 386405.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=331570 bytes_read=65632 bytes_retransmit=9 bytes_invalid=0 send_seq=6576 receive_seq=6576 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=45 upcoming_bytes=381 freq=63997567 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7106 bytes_read=1486592 bytes_retransmit=9 bytes_invalid=0 send_seq=1020 receive_seq=1020 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000039 adj=12000533  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.44 cputime=56.538 memavail=3361344 print_time=126.126 buffer_time=2.157 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 85 Hz
Stats 386406.6: gcodein=0  mcu: mcu_awake=0.045 mcu_task_avg=0.000036 mcu_task_stddev=0.000040 bytes_write=336416 bytes_read=66286 bytes_retransmit=9 bytes_invalid=0 send_seq=6662 receive_seq=6662 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=478 freq=63997569 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7182 bytes_read=1505687 bytes_retransmit=9 bytes_invalid=0 send_seq=1031 receive_seq=1031 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000039 adj=12000539  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.44 cputime=56.628 memavail=3352580 print_time=127.126 buffer_time=2.157 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 86 Hz
Stats 386407.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=341305 bytes_read=66951 bytes_retransmit=9 bytes_invalid=0 send_seq=6750 receive_seq=6750 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=591 freq=63997566 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7258 bytes_read=1524799 bytes_retransmit=9 bytes_invalid=0 send_seq=1042 receive_seq=1042 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000040 adj=12000532  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.44 cputime=56.711 memavail=3343268 print_time=128.126 buffer_time=2.156 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 87 Hz
Stats 386408.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=346163 bytes_read=67610 bytes_retransmit=9 bytes_invalid=0 send_seq=6837 receive_seq=6837 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=702 freq=63997566 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7334 bytes_read=1543894 bytes_retransmit=9 bytes_invalid=0 send_seq=1053 receive_seq=1053 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000040 adj=12000538  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.44 cputime=56.800 memavail=3333188 print_time=129.126 buffer_time=2.155 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 88 Hz
Stats 386409.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=351210 bytes_read=68284 bytes_retransmit=9 bytes_invalid=0 send_seq=6927 receive_seq=6927 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=797 freq=63997564 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7410 bytes_read=1562989 bytes_retransmit=9 bytes_invalid=0 send_seq=1064 receive_seq=1064 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000041 adj=12000537  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.89 cputime=56.895 memavail=3320084 print_time=130.124 buffer_time=2.152 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 89 Hz
Stats 386410.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=356234 bytes_read=68938 bytes_retransmit=9 bytes_invalid=0 send_seq=7016 receive_seq=7016 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=903 freq=63997565 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7486 bytes_read=1582023 bytes_retransmit=9 bytes_invalid=0 send_seq=1075 receive_seq=1075 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000041 adj=12000540  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.89 cputime=56.987 memavail=3319824 print_time=131.124 buffer_time=2.152 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Testing frequency 90 Hz
Stats 386411.6: gcodein=0  mcu: mcu_awake=0.047 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=361360 bytes_read=69617 bytes_retransmit=9 bytes_invalid=0 send_seq=7108 receive_seq=7107 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=1014 freq=63997565 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7562 bytes_read=1601118 bytes_retransmit=9 bytes_invalid=0 send_seq=1086 receive_seq=1086 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000042 adj=12000533  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.89 cputime=57.074 memavail=3279512 print_time=132.124 buffer_time=2.152 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 91 Hz
Stats 386412.6: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=366507 bytes_read=70317 bytes_retransmit=9 bytes_invalid=0 send_seq=7199 receive_seq=7199 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=1137 freq=63997562 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7638 bytes_read=1620230 bytes_retransmit=9 bytes_invalid=0 send_seq=1097 receive_seq=1097 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000042 adj=12000532  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.89 cputime=57.168 memavail=3359092 print_time=133.127 buffer_time=2.154 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 92 Hz
Stats 386413.6: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=371734 bytes_read=70991 bytes_retransmit=9 bytes_invalid=0 send_seq=7292 receive_seq=7292 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=9 upcoming_bytes=1222 freq=63997563 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7714 bytes_read=1639325 bytes_retransmit=9 bytes_invalid=0 send_seq=1108 receive_seq=1108 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000043 adj=12000538  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.89 cputime=57.263 memavail=3351504 print_time=134.125 buffer_time=2.151 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 93 Hz
Stats 386414.6: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=377019 bytes_read=71694 bytes_retransmit=9 bytes_invalid=0 send_seq=7388 receive_seq=7388 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=16 upcoming_bytes=1319 freq=63997564 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7790 bytes_read=1658359 bytes_retransmit=9 bytes_invalid=0 send_seq=1119 receive_seq=1119 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000043 adj=12000536  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.74 cputime=57.357 memavail=3340416 print_time=135.122 buffer_time=2.148 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 94 Hz
Stats 386415.6: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=382347 bytes_read=72389 bytes_retransmit=9 bytes_invalid=0 send_seq=7484 receive_seq=7484 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=1456 freq=63997561 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7866 bytes_read=1677515 bytes_retransmit=9 bytes_invalid=0 send_seq=1130 receive_seq=1130 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000045 adj=12000533  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.74 cputime=57.442 memavail=3376200 print_time=136.128 buffer_time=2.153 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 95 Hz
Stats 386416.6: gcodein=0  mcu: mcu_awake=0.050 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=387718 bytes_read=73071 bytes_retransmit=9 bytes_invalid=0 send_seq=7580 receive_seq=7580 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1525 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=7942 bytes_read=1696549 bytes_retransmit=9 bytes_invalid=0 send_seq=1141 receive_seq=1141 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000046 adj=12000553  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.74 cputime=57.537 memavail=3375696 print_time=137.123 buffer_time=2.147 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 96 Hz
Stats 386417.6: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=393146 bytes_read=73788 bytes_retransmit=9 bytes_invalid=0 send_seq=7677 receive_seq=7677 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=1667 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8011 bytes_read=1715638 bytes_retransmit=9 bytes_invalid=0 send_seq=1151 receive_seq=1151 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000047 adj=12000565  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.74 cputime=57.627 memavail=3363352 print_time=138.128 buffer_time=2.152 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 97 Hz
Stats 386418.6: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=398661 bytes_read=74489 bytes_retransmit=9 bytes_invalid=0 send_seq=7774 receive_seq=7774 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=1751 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8087 bytes_read=1734733 bytes_retransmit=9 bytes_invalid=0 send_seq=1162 receive_seq=1162 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000047 adj=12000560  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.74 cputime=57.723 memavail=3357060 print_time=139.126 buffer_time=2.148 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 98 Hz
Stats 386419.6: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=404198 bytes_read=75188 bytes_retransmit=9 bytes_invalid=0 send_seq=7872 receive_seq=7872 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1863 freq=63997561 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8163 bytes_read=1753828 bytes_retransmit=9 bytes_invalid=0 send_seq=1173 receive_seq=1173 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000047 adj=12000552  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.52 cputime=57.803 memavail=3344712 print_time=140.126 buffer_time=2.147 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Testing frequency 99 Hz
Stats 386420.6: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=409797 bytes_read=75912 bytes_retransmit=9 bytes_invalid=0 send_seq=7972 receive_seq=7972 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=1967 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8239 bytes_read=1772923 bytes_retransmit=9 bytes_invalid=0 send_seq=1184 receive_seq=1184 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000047 adj=12000542  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.52 cputime=57.894 memavail=3332364 print_time=141.124 buffer_time=2.145 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 100 Hz
Stats 386421.6: gcodein=0  mcu: mcu_awake=0.053 mcu_task_avg=0.000032 mcu_task_stddev=0.000038 bytes_write=415448 bytes_read=76636 bytes_retransmit=9 bytes_invalid=0 send_seq=8072 receive_seq=8072 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=2099 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8315 bytes_read=1792018 bytes_retransmit=9 bytes_invalid=0 send_seq=1195 receive_seq=1195 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000048 adj=12000542  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.52 cputime=57.995 memavail=3313600 print_time=142.129 buffer_time=2.150 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 101 Hz
Stats 386422.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=421187 bytes_read=77371 bytes_retransmit=9 bytes_invalid=0 send_seq=8174 receive_seq=8174 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=26 upcoming_bytes=2203 freq=63997558 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8391 bytes_read=1811130 bytes_retransmit=9 bytes_invalid=0 send_seq=1206 receive_seq=1206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000048 adj=12000538  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.52 cputime=58.094 memavail=3272296 print_time=143.129 buffer_time=2.150 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 102 Hz
Stats 386423.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=426961 bytes_read=78105 bytes_retransmit=9 bytes_invalid=0 send_seq=8276 receive_seq=8276 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2288 freq=63997558 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8467 bytes_read=1830225 bytes_retransmit=9 bytes_invalid=0 send_seq=1217 receive_seq=1217 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000048 adj=12000538  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.52 cputime=58.198 memavail=3243660 print_time=144.127 buffer_time=2.146 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 103 Hz
Stats 386424.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=432806 bytes_read=78849 bytes_retransmit=9 bytes_invalid=0 send_seq=8380 receive_seq=8380 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=42 upcoming_bytes=2385 freq=63997556 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8543 bytes_read=1849259 bytes_retransmit=9 bytes_invalid=0 send_seq=1228 receive_seq=1228 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000049 adj=12000536  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.88 cputime=58.295 memavail=3336200 print_time=145.125 buffer_time=2.143 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 104 Hz
Stats 386425.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=438703 bytes_read=79578 bytes_retransmit=9 bytes_invalid=0 send_seq=8484 receive_seq=8484 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=2522 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8612 bytes_read=1868392 bytes_retransmit=9 bytes_invalid=0 send_seq=1238 receive_seq=1238 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000049 adj=12000538  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.88 cputime=58.440 memavail=3327664 print_time=146.130 buffer_time=2.147 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 105 Hz
Stats 386426.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000031 mcu_task_stddev=0.000038 bytes_write=444697 bytes_read=80332 bytes_retransmit=9 bytes_invalid=0 send_seq=8590 receive_seq=8590 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2610 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8688 bytes_read=1887426 bytes_retransmit=9 bytes_invalid=0 send_seq=1249 receive_seq=1249 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000049 adj=12000537  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.88 cputime=58.550 memavail=3312052 print_time=147.128 buffer_time=2.144 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Testing frequency 106 Hz
Stats 386427.6: gcodein=0  mcu: mcu_awake=0.058 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=450704 bytes_read=81107 bytes_retransmit=9 bytes_invalid=0 send_seq=8697 receive_seq=8697 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=42 upcoming_bytes=2714 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8764 bytes_read=1906599 bytes_retransmit=9 bytes_invalid=0 send_seq=1260 receive_seq=1260 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000050 adj=12000535  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.88 cputime=58.641 memavail=3297256 print_time=148.128 buffer_time=2.143 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 107 Hz
Stats 386428.6: gcodein=0  mcu: mcu_awake=0.058 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=456759 bytes_read=81856 bytes_retransmit=9 bytes_invalid=0 send_seq=8805 receive_seq=8805 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=52 upcoming_bytes=2834 freq=63997554 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8840 bytes_read=1925633 bytes_retransmit=9 bytes_invalid=0 send_seq=1271 receive_seq=1271 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000050 adj=12000534  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.88 cputime=58.736 memavail=3330716 print_time=149.130 buffer_time=2.145 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 108 Hz
Stats 386429.6: gcodein=0  mcu: mcu_awake=0.058 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=462897 bytes_read=82625 bytes_retransmit=9 bytes_invalid=0 send_seq=8914 receive_seq=8914 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=35 upcoming_bytes=2836 freq=63997554 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8916 bytes_read=1944728 bytes_retransmit=9 bytes_invalid=0 send_seq=1282 receive_seq=1282 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000050 adj=12000539  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.65 cputime=58.824 memavail=3331776 print_time=150.130 buffer_time=2.145 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 109 Hz
Stats 386430.6: gcodein=0  mcu: mcu_awake=0.058 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=469779 bytes_read=83454 bytes_retransmit=9 bytes_invalid=0 send_seq=9035 receive_seq=9035 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=51 upcoming_bytes=1098 freq=63997554 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=8992 bytes_read=1963823 bytes_retransmit=9 bytes_invalid=0 send_seq=1293 receive_seq=1293 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000051 adj=12000538  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.65 cputime=58.909 memavail=3323236 print_time=151.131 buffer_time=2.144 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 110 Hz
Stats 386431.6: gcodein=0  mcu: mcu_awake=0.058 mcu_task_avg=0.000032 mcu_task_stddev=0.000039 bytes_write=475653 bytes_read=84153 bytes_retransmit=9 bytes_invalid=0 send_seq=9133 receive_seq=9133 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9068 bytes_read=1982918 bytes_retransmit=9 bytes_invalid=0 send_seq=1304 receive_seq=1304 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000051 adj=12000538  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.65 cputime=58.994 memavail=3307612 print_time=152.128 buffer_time=2.141 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Testing frequency 111 Hz
Stats 386432.6: gcodein=0  mcu: mcu_awake=0.059 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=480543 bytes_read=84833 bytes_retransmit=9 bytes_invalid=0 send_seq=9221 receive_seq=9221 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997556 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9144 bytes_read=2002030 bytes_retransmit=9 bytes_invalid=0 send_seq=1315 receive_seq=1315 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000539  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.65 cputime=59.070 memavail=3299548 print_time=153.129 buffer_time=2.141 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 112 Hz
Stats 386433.6: gcodein=0  mcu: mcu_awake=0.059 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=485841 bytes_read=85557 bytes_retransmit=9 bytes_invalid=0 send_seq=9321 receive_seq=9321 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9220 bytes_read=2021064 bytes_retransmit=9 bytes_invalid=0 send_seq=1326 receive_seq=1326 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000533  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.65 cputime=59.148 memavail=3290732 print_time=154.131 buffer_time=2.143 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 113 Hz
Stats 386434.6: gcodein=0  mcu: mcu_awake=0.059 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=491146 bytes_read=86261 bytes_retransmit=9 bytes_invalid=0 send_seq=9420 receive_seq=9420 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997555 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9296 bytes_read=2040220 bytes_retransmit=9 bytes_invalid=0 send_seq=1337 receive_seq=1337 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000528  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.44 cputime=59.231 memavail=3311388 print_time=155.129 buffer_time=2.139 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 114 Hz
Stats 386435.6: gcodein=0  mcu: mcu_awake=0.059 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=496396 bytes_read=86965 bytes_retransmit=9 bytes_invalid=0 send_seq=9516 receive_seq=9516 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9372 bytes_read=2059315 bytes_retransmit=9 bytes_invalid=0 send_seq=1348 receive_seq=1348 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000532  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.44 cputime=59.316 memavail=3281864 print_time=156.131 buffer_time=2.140 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 115 Hz
Stats 386436.6: gcodein=0  mcu: mcu_awake=0.059 mcu_task_avg=0.000033 mcu_task_stddev=0.000039 bytes_write=501274 bytes_read=87604 bytes_retransmit=9 bytes_invalid=0 send_seq=9599 receive_seq=9599 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997555 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9441 bytes_read=2078387 bytes_retransmit=9 bytes_invalid=0 send_seq=1358 receive_seq=1358 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000536  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.44 cputime=59.410 memavail=3228568 print_time=157.129 buffer_time=2.138 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 116 Hz
Stats 386437.6: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=506437 bytes_read=88289 bytes_retransmit=9 bytes_invalid=0 send_seq=9691 receive_seq=9691 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997555 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9517 bytes_read=2097438 bytes_retransmit=9 bytes_invalid=0 send_seq=1369 receive_seq=1369 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000531  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.44 cputime=59.509 memavail=3246208 print_time=158.129 buffer_time=2.138 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 117 Hz
Stats 386438.6: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=511811 bytes_read=88998 bytes_retransmit=9 bytes_invalid=0 send_seq=9788 receive_seq=9788 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997554 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9593 bytes_read=2116533 bytes_retransmit=9 bytes_invalid=0 send_seq=1380 receive_seq=1380 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000532  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.44 cputime=59.603 memavail=3229276 print_time=159.130 buffer_time=2.137 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 118 Hz
Stats 386439.6: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=517415 bytes_read=89737 bytes_retransmit=9 bytes_invalid=0 send_seq=9891 receive_seq=9891 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997553 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9669 bytes_read=2135628 bytes_retransmit=9 bytes_invalid=0 send_seq=1391 receive_seq=1391 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000532  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.32 cputime=59.686 memavail=3210576 print_time=160.132 buffer_time=2.139 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 119 Hz
Stats 386440.6: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=522100 bytes_read=90381 bytes_retransmit=9 bytes_invalid=0 send_seq=9978 receive_seq=9978 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=49 upcoming_bytes=1953 freq=63997554 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9745 bytes_read=2154723 bytes_retransmit=9 bytes_invalid=0 send_seq=1402 receive_seq=1402 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000535  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.32 cputime=59.776 memavail=3240664 print_time=161.128 buffer_time=2.135 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Testing frequency 120 Hz
Stats 386441.6: gcodein=0  mcu: mcu_awake=0.046 mcu_task_avg=0.000038 mcu_task_stddev=0.000039 bytes_write=526702 bytes_read=91020 bytes_retransmit=9 bytes_invalid=0 send_seq=10061 receive_seq=10061 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=45 upcoming_bytes=4267 freq=63997556 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9821 bytes_read=2173818 bytes_retransmit=9 bytes_invalid=0 send_seq=1413 receive_seq=1413 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000532  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.32 cputime=59.868 memavail=3235564 print_time=162.132 buffer_time=2.138 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 121 Hz
Stats 386442.6: gcodein=0  mcu: mcu_awake=0.051 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=533206 bytes_read=91825 bytes_retransmit=9 bytes_invalid=0 send_seq=10174 receive_seq=10174 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=7 upcoming_bytes=3223 freq=63997556 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9897 bytes_read=2192930 bytes_retransmit=9 bytes_invalid=0 send_seq=1424 receive_seq=1424 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000533  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.32 cputime=59.956 memavail=3229716 print_time=163.128 buffer_time=2.133 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 122 Hz
Stats 386443.6: gcodein=0  mcu: mcu_awake=0.051 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=540008 bytes_read=92594 bytes_retransmit=9 bytes_invalid=0 send_seq=10286 receive_seq=10286 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=1200 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=9973 bytes_read=2212025 bytes_retransmit=9 bytes_invalid=0 send_seq=1435 receive_seq=1435 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000532  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.32 cputime=60.044 memavail=3213892 print_time=164.130 buffer_time=2.134 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 123 Hz
Stats 386444.6: gcodein=0  mcu: mcu_awake=0.051 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=545823 bytes_read=93298 bytes_retransmit=9 bytes_invalid=0 send_seq=10382 receive_seq=10382 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=68 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10049 bytes_read=2231120 bytes_retransmit=9 bytes_invalid=0 send_seq=1446 receive_seq=1446 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000539  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.37 cputime=60.135 memavail=3238756 print_time=165.130 buffer_time=2.133 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 124 Hz
Stats 386445.6: gcodein=0  mcu: mcu_awake=0.051 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=550425 bytes_read=93912 bytes_retransmit=9 bytes_invalid=0 send_seq=10460 receive_seq=10460 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=153 freq=63997558 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10125 bytes_read=2250154 bytes_retransmit=9 bytes_invalid=0 send_seq=1457 receive_seq=1457 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000540  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.37 cputime=60.225 memavail=3236604 print_time=166.132 buffer_time=2.135 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 125 Hz
Stats 386446.6: gcodein=0  mcu: mcu_awake=0.051 mcu_task_avg=0.000034 mcu_task_stddev=0.000039 bytes_write=555080 bytes_read=94521 bytes_retransmit=9 bytes_invalid=0 send_seq=10540 receive_seq=10540 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=221 freq=63997560 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10201 bytes_read=2269249 bytes_retransmit=9 bytes_invalid=0 send_seq=1468 receive_seq=1468 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000532  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.37 cputime=60.310 memavail=3237008 print_time=167.131 buffer_time=2.133 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 126 Hz
Stats 386447.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=559758 bytes_read=95151 bytes_retransmit=9 bytes_invalid=0 send_seq=10618 receive_seq=10618 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=58 upcoming_bytes=282 freq=63997560 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10277 bytes_read=2288361 bytes_retransmit=9 bytes_invalid=0 send_seq=1479 receive_seq=1479 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000527  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.37 cputime=60.394 memavail=3205472 print_time=168.133 buffer_time=2.134 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 127 Hz
Stats 386448.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=564484 bytes_read=95780 bytes_retransmit=9 bytes_invalid=0 send_seq=10699 receive_seq=10699 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=51 upcoming_bytes=340 freq=63997560 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10353 bytes_read=2307456 bytes_retransmit=9 bytes_invalid=0 send_seq=1490 receive_seq=1490 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000525  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.37 cputime=60.480 memavail=3180828 print_time=169.129 buffer_time=2.130 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 128 Hz
Stats 386449.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=569274 bytes_read=96384 bytes_retransmit=9 bytes_invalid=0 send_seq=10779 receive_seq=10778 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=7 upcoming_bytes=418 freq=63997561 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10429 bytes_read=2326551 bytes_retransmit=9 bytes_invalid=0 send_seq=1501 receive_seq=1501 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000527  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.26 cputime=60.571 memavail=3234004 print_time=170.133 buffer_time=2.133 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Testing frequency 129 Hz
Stats 386450.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=574068 bytes_read=97018 bytes_retransmit=9 bytes_invalid=0 send_seq=10860 receive_seq=10860 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=10 upcoming_bytes=476 freq=63997558 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10505 bytes_read=2345646 bytes_retransmit=9 bytes_invalid=0 send_seq=1512 receive_seq=1512 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000524  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.26 cputime=60.658 memavail=3222188 print_time=171.131 buffer_time=2.131 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Testing frequency 130 Hz
Stats 386451.6: gcodein=0  mcu: mcu_awake=0.054 mcu_task_avg=0.000036 mcu_task_stddev=0.000043 bytes_write=578875 bytes_read=97642 bytes_retransmit=9 bytes_invalid=0 send_seq=10940 receive_seq=10940 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=10 upcoming_bytes=561 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10580 bytes_read=2364734 bytes_retransmit=9 bytes_invalid=0 send_seq=1523 receive_seq=1523 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000058 adj=12000530  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.26 cputime=60.748 memavail=3237640 print_time=172.133 buffer_time=2.132 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Testing frequency 131 Hz
Stats 386452.6: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=583726 bytes_read=98262 bytes_retransmit=9 bytes_invalid=0 send_seq=11020 receive_seq=11019 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=622 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10656 bytes_read=2383785 bytes_retransmit=9 bytes_invalid=0 send_seq=1534 receive_seq=1534 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000058 adj=12000533  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.26 cputime=60.837 memavail=3237224 print_time=173.133 buffer_time=2.132 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 132 Hz
Stats 386453.6: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=588611 bytes_read=98901 bytes_retransmit=9 bytes_invalid=0 send_seq=11102 receive_seq=11102 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=17 upcoming_bytes=690 freq=63997559 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10732 bytes_read=2402941 bytes_retransmit=9 bytes_invalid=0 send_seq=1545 receive_seq=1545 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000058 adj=12000534  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.26 cputime=60.930 memavail=3143060 print_time=174.131 buffer_time=2.129 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Testing frequency 133 Hz
toolhead: max_velocity: 300.000000
max_accel: 4000.000000
minimum_cruise_ratio: 0.500000
square_corner_velocity: 5.000000
Stats 386454.6: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=592417 bytes_read=99450 bytes_retransmit=9 bytes_invalid=0 send_seq=11167 receive_seq=11167 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997558 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10808 bytes_read=2421975 bytes_retransmit=9 bytes_invalid=0 send_seq=1556 receive_seq=1556 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000533  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.24 cputime=61.014 memavail=3153212 print_time=174.732 buffer_time=1.728 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386455.6: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=592526 bytes_read=99704 bytes_retransmit=9 bytes_invalid=0 send_seq=11176 receive_seq=11176 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997557 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10884 bytes_read=2441070 bytes_retransmit=9 bytes_invalid=0 send_seq=1567 receive_seq=1567 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000541  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.24 cputime=61.093 memavail=3088356 print_time=174.732 buffer_time=0.728 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
ADXL345 finished 'adxl345' measurements
Stats 386456.6: gcodein=0  mcu: mcu_awake=0.048 mcu_task_avg=0.000034 mcu_task_stddev=0.000042 bytes_write=592895 bytes_read=100003 bytes_retransmit=9 bytes_invalid=0 send_seq=11191 receive_seq=11191 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997554 PIS: mcu_awake=0.424 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10981 bytes_read=2457239 bytes_retransmit=9 bytes_invalid=0 send_seq=1580 receive_seq=1580 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000546  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.24 cputime=61.236 memavail=3056692 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386457.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000038 bytes_write=592985 bytes_read=100277 bytes_retransmit=9 bytes_invalid=0 send_seq=11198 receive_seq=11198 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997552 PIS: mcu_awake=0.408 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10987 bytes_read=2457272 bytes_retransmit=9 bytes_invalid=0 send_seq=1581 receive_seq=1581 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000557  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.24 cputime=61.251 memavail=2946064 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386458.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000038 bytes_write=593075 bytes_read=100521 bytes_retransmit=9 bytes_invalid=0 send_seq=11205 receive_seq=11205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997549 PIS: mcu_awake=0.408 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10993 bytes_read=2457288 bytes_retransmit=9 bytes_invalid=0 send_seq=1582 receive_seq=1582 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000063 adj=12000558  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.24 cputime=61.266 memavail=2900084 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Resonances data written to /tmp/resonances_y_20240325_214225.csv file
Stats 386459.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000038 bytes_write=593165 bytes_read=100780 bytes_retransmit=9 bytes_invalid=0 send_seq=11212 receive_seq=11212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997547 PIS: mcu_awake=0.408 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=10999 bytes_read=2457304 bytes_retransmit=9 bytes_invalid=0 send_seq=1583 receive_seq=1583 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000624  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.94 cputime=61.364 memavail=3038176 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386460.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000038 bytes_write=593297 bytes_read=101049 bytes_retransmit=9 bytes_invalid=0 send_seq=11221 receive_seq=11221 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997545 PIS: mcu_awake=0.408 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11005 bytes_read=2457320 bytes_retransmit=9 bytes_invalid=0 send_seq=1584 receive_seq=1584 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000689  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.94 cputime=61.377 memavail=2972068 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386461.6: gcodein=0  mcu: mcu_awake=0.024 mcu_task_avg=0.000029 mcu_task_stddev=0.000038 bytes_write=593387 bytes_read=101293 bytes_retransmit=9 bytes_invalid=0 send_seq=11228 receive_seq=11228 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997543 PIS: mcu_awake=0.408 mcu_task_avg=0.000025 mcu_task_stddev=0.000009 bytes_write=11011 bytes_read=2457336 bytes_retransmit=9 bytes_invalid=0 send_seq=1585 receive_seq=1585 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000654  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.94 cputime=61.391 memavail=2895784 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386462.6: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000027 bytes_write=593496 bytes_read=101577 bytes_retransmit=9 bytes_invalid=0 send_seq=11237 receive_seq=11237 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997541 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11017 bytes_read=2457363 bytes_retransmit=9 bytes_invalid=0 send_seq=1586 receive_seq=1586 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000080 adj=12000715  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.94 cputime=61.406 memavail=2986240 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386463.6: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000027 bytes_write=593600 bytes_read=101841 bytes_retransmit=9 bytes_invalid=0 send_seq=11245 receive_seq=11245 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997539 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11023 bytes_read=2457379 bytes_retransmit=9 bytes_invalid=0 send_seq=1587 receive_seq=1587 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000087 adj=12000770  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.94 cputime=61.420 memavail=2983344 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386464.6: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000027 bytes_write=593690 bytes_read=102085 bytes_retransmit=9 bytes_invalid=0 send_seq=11252 receive_seq=11252 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997537 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11029 bytes_read=2457395 bytes_retransmit=9 bytes_invalid=0 send_seq=1588 receive_seq=1588 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000097 adj=12000817  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.87 cputime=61.432 memavail=2965664 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386465.6: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000027 bytes_write=593794 bytes_read=102349 bytes_retransmit=9 bytes_invalid=0 send_seq=11260 receive_seq=11260 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997536 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11035 bytes_read=2457411 bytes_retransmit=9 bytes_invalid=0 send_seq=1589 receive_seq=1589 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000099 adj=12000912  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.87 cputime=61.445 memavail=2960356 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386466.6: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000027 bytes_write=593903 bytes_read=102618 bytes_retransmit=9 bytes_invalid=0 send_seq=11269 receive_seq=11269 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997535 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11041 bytes_read=2457427 bytes_retransmit=9 bytes_invalid=0 send_seq=1590 receive_seq=1590 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000097 adj=12000858  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=2.87 cputime=61.456 memavail=2954616 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386467.6: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=593993 bytes_read=102877 bytes_retransmit=9 bytes_invalid=0 send_seq=11276 receive_seq=11276 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997533 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11047 bytes_read=2457454 bytes_retransmit=9 bytes_invalid=0 send_seq=1591 receive_seq=1591 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000097 adj=12000753  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.87 cputime=61.468 memavail=2952876 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386468.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=594083 bytes_read=103136 bytes_retransmit=9 bytes_invalid=0 send_seq=11283 receive_seq=11283 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11053 bytes_read=2457470 bytes_retransmit=9 bytes_invalid=0 send_seq=1592 receive_seq=1592 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000106 adj=12000714  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.87 cputime=61.481 memavail=2952312 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 386469.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=594198 bytes_read=103421 bytes_retransmit=9 bytes_invalid=0 send_seq=11293 receive_seq=11293 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997529 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11059 bytes_read=2457486 bytes_retransmit=9 bytes_invalid=0 send_seq=1593 receive_seq=1593 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000113 adj=12000822  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.72 cputime=61.495 memavail=2943932 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386470.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=594288 bytes_read=103665 bytes_retransmit=9 bytes_invalid=0 send_seq=11300 receive_seq=11300 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11065 bytes_read=2457502 bytes_retransmit=9 bytes_invalid=0 send_seq=1594 receive_seq=1594 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000122 adj=12000870  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.72 cputime=61.508 memavail=2945480 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 386471.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=594397 bytes_read=103934 bytes_retransmit=9 bytes_invalid=0 send_seq=11309 receive_seq=11309 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997527 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11071 bytes_read=2457518 bytes_retransmit=9 bytes_invalid=0 send_seq=1595 receive_seq=1595 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000118 adj=12000941  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.72 cputime=61.521 memavail=2937052 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386472.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=594506 bytes_read=104218 bytes_retransmit=9 bytes_invalid=0 send_seq=11318 receive_seq=11318 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11077 bytes_read=2457545 bytes_retransmit=9 bytes_invalid=0 send_seq=1596 receive_seq=1596 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000113 adj=12000792  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.72 cputime=61.533 memavail=2907024 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386473.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=594615 bytes_read=104472 bytes_retransmit=9 bytes_invalid=0 send_seq=11327 receive_seq=11327 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997525 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11083 bytes_read=2457561 bytes_retransmit=9 bytes_invalid=0 send_seq=1597 receive_seq=1597 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000117 adj=12000676  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.72 cputime=61.545 memavail=2870256 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386474.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=594724 bytes_read=104741 bytes_retransmit=9 bytes_invalid=0 send_seq=11336 receive_seq=11336 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997524 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11089 bytes_read=2457577 bytes_retransmit=9 bytes_invalid=0 send_seq=1598 receive_seq=1598 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000126 adj=12000706  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.74 cputime=61.558 memavail=2922328 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386475.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=594833 bytes_read=105010 bytes_retransmit=9 bytes_invalid=0 send_seq=11345 receive_seq=11345 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997524 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11095 bytes_read=2457593 bytes_retransmit=9 bytes_invalid=0 send_seq=1599 receive_seq=1599 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000133 adj=12000826  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.74 cputime=61.573 memavail=2906508 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386476.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=594923 bytes_read=105254 bytes_retransmit=9 bytes_invalid=0 send_seq=11352 receive_seq=11352 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997523 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11101 bytes_read=2457609 bytes_retransmit=9 bytes_invalid=0 send_seq=1600 receive_seq=1600 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000138 adj=12000868  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.74 cputime=61.587 memavail=2915352 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 386477.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=595060 bytes_read=105548 bytes_retransmit=9 bytes_invalid=0 send_seq=11363 receive_seq=11363 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997523 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11107 bytes_read=2457636 bytes_retransmit=9 bytes_invalid=0 send_seq=1601 receive_seq=1601 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000132 adj=12000891  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.74 cputime=61.604 memavail=2889304 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386478.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=595169 bytes_read=105817 bytes_retransmit=9 bytes_invalid=0 send_seq=11372 receive_seq=11372 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997523 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11113 bytes_read=2457652 bytes_retransmit=9 bytes_invalid=0 send_seq=1602 receive_seq=1602 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000141 adj=12000727  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.74 cputime=61.617 memavail=2854356 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386479.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=595273 bytes_read=106066 bytes_retransmit=9 bytes_invalid=0 send_seq=11380 receive_seq=11380 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11119 bytes_read=2457668 bytes_retransmit=9 bytes_invalid=0 send_seq=1603 receive_seq=1603 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000139 adj=12000826  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=2.68 cputime=61.632 memavail=2856152 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386480.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=595363 bytes_read=106325 bytes_retransmit=9 bytes_invalid=0 send_seq=11387 receive_seq=11387 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11125 bytes_read=2457684 bytes_retransmit=9 bytes_invalid=0 send_seq=1604 receive_seq=1604 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000146 adj=12000727  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.68 cputime=61.647 memavail=2839252 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386481.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000016 bytes_write=595467 bytes_read=106589 bytes_retransmit=9 bytes_invalid=0 send_seq=11395 receive_seq=11395 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997527 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11131 bytes_read=2457700 bytes_retransmit=9 bytes_invalid=0 send_seq=1605 receive_seq=1605 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000152 adj=12000809  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.68 cputime=61.661 memavail=2832368 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386482.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=595557 bytes_read=106841 bytes_retransmit=9 bytes_invalid=0 send_seq=11402 receive_seq=11402 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11137 bytes_read=2457727 bytes_retransmit=9 bytes_invalid=0 send_seq=1606 receive_seq=1606 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000145 adj=12000864  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.68 cputime=61.675 memavail=2814676 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386483.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=595685 bytes_read=107111 bytes_retransmit=9 bytes_invalid=0 send_seq=11413 receive_seq=11413 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11143 bytes_read=2457743 bytes_retransmit=9 bytes_invalid=0 send_seq=1607 receive_seq=1607 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000149 adj=12000692  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.68 cputime=61.689 memavail=2815404 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386484.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=595789 bytes_read=107367 bytes_retransmit=9 bytes_invalid=0 send_seq=11421 receive_seq=11421 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997525 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11149 bytes_read=2457759 bytes_retransmit=9 bytes_invalid=0 send_seq=1608 receive_seq=1608 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000143 adj=12000731  heater_bed: target=0 temp=23.2 pwm=0.000 sysload=2.71 cputime=61.702 memavail=2784516 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386485.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=595907 bytes_read=107614 bytes_retransmit=9 bytes_invalid=0 send_seq=11430 receive_seq=11430 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11155 bytes_read=2457775 bytes_retransmit=9 bytes_invalid=0 send_seq=1609 receive_seq=1609 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000141 adj=12000615  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=2.71 cputime=61.715 memavail=2726512 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386486.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=595997 bytes_read=107886 bytes_retransmit=9 bytes_invalid=0 send_seq=11437 receive_seq=11437 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11161 bytes_read=2457791 bytes_retransmit=9 bytes_invalid=0 send_seq=1610 receive_seq=1610 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000135 adj=12000569  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.71 cputime=61.731 memavail=2838912 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386487.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=596101 bytes_read=108150 bytes_retransmit=9 bytes_invalid=0 send_seq=11445 receive_seq=11445 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11167 bytes_read=2457818 bytes_retransmit=9 bytes_invalid=0 send_seq=1611 receive_seq=1611 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000128 adj=12000484  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.71 cputime=61.747 memavail=2839180 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386488.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=596191 bytes_read=108394 bytes_retransmit=9 bytes_invalid=0 send_seq=11452 receive_seq=11452 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997525 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11173 bytes_read=2457834 bytes_retransmit=9 bytes_invalid=0 send_seq=1612 receive_seq=1612 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000128 adj=12000413  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.71 cputime=61.761 memavail=2835880 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386489.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=596281 bytes_read=108668 bytes_retransmit=9 bytes_invalid=0 send_seq=11459 receive_seq=11459 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997525 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11179 bytes_read=2457850 bytes_retransmit=9 bytes_invalid=0 send_seq=1613 receive_seq=1613 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000127 adj=12000448  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.05 cputime=61.774 memavail=2834768 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386490.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=596390 bytes_read=108922 bytes_retransmit=9 bytes_invalid=0 send_seq=11468 receive_seq=11468 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997525 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11185 bytes_read=2457866 bytes_retransmit=9 bytes_invalid=0 send_seq=1614 receive_seq=1614 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000130 adj=12000480  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.05 cputime=61.786 memavail=2833372 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386491.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000017 bytes_write=596480 bytes_read=109166 bytes_retransmit=9 bytes_invalid=0 send_seq=11475 receive_seq=11475 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997524 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11191 bytes_read=2457882 bytes_retransmit=9 bytes_invalid=0 send_seq=1615 receive_seq=1615 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000130 adj=12000553  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.05 cputime=61.798 memavail=2857248 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386492.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=596584 bytes_read=109460 bytes_retransmit=9 bytes_invalid=0 send_seq=11483 receive_seq=11483 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997529 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11197 bytes_read=2457909 bytes_retransmit=9 bytes_invalid=0 send_seq=1616 receive_seq=1616 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000124 adj=12000566  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.05 cputime=61.810 memavail=2870656 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386493.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=596693 bytes_read=109714 bytes_retransmit=9 bytes_invalid=0 send_seq=11492 receive_seq=11492 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997529 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11203 bytes_read=2457925 bytes_retransmit=9 bytes_invalid=0 send_seq=1617 receive_seq=1617 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000124 adj=12000459  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.05 cputime=61.822 memavail=2866140 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386494.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=596783 bytes_read=109958 bytes_retransmit=9 bytes_invalid=0 send_seq=11499 receive_seq=11499 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11209 bytes_read=2457941 bytes_retransmit=9 bytes_invalid=0 send_seq=1618 receive_seq=1618 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000121 adj=12000496  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.81 cputime=61.834 memavail=2861352 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386495.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=596873 bytes_read=110232 bytes_retransmit=9 bytes_invalid=0 send_seq=11506 receive_seq=11506 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997527 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11215 bytes_read=2457957 bytes_retransmit=9 bytes_invalid=0 send_seq=1619 receive_seq=1619 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000125 adj=12000470  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.81 cputime=61.848 memavail=2831244 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386496.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=596963 bytes_read=110476 bytes_retransmit=9 bytes_invalid=0 send_seq=11513 receive_seq=11513 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11221 bytes_read=2457973 bytes_retransmit=9 bytes_invalid=0 send_seq=1620 receive_seq=1620 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000120 adj=12000564  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.81 cputime=61.862 memavail=2823624 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386497.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597091 bytes_read=110755 bytes_retransmit=9 bytes_invalid=0 send_seq=11524 receive_seq=11524 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11227 bytes_read=2458000 bytes_retransmit=9 bytes_invalid=0 send_seq=1621 receive_seq=1621 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000114 adj=12000496  heater_bed: target=0 temp=23.0 pwm=0.000 sysload=2.81 cputime=61.874 memavail=2794900 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386498.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597181 bytes_read=111029 bytes_retransmit=9 bytes_invalid=0 send_seq=11531 receive_seq=11531 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997527 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11233 bytes_read=2458016 bytes_retransmit=9 bytes_invalid=0 send_seq=1622 receive_seq=1622 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000120 adj=12000423  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.81 cputime=61.887 memavail=2859224 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386499.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597271 bytes_read=111273 bytes_retransmit=9 bytes_invalid=0 send_seq=11538 receive_seq=11538 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11239 bytes_read=2458032 bytes_retransmit=9 bytes_invalid=0 send_seq=1623 receive_seq=1623 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000119 adj=12000551  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=2.66 cputime=61.899 memavail=2856968 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386500.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597380 bytes_read=111527 bytes_retransmit=9 bytes_invalid=0 send_seq=11547 receive_seq=11547 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11245 bytes_read=2458048 bytes_retransmit=9 bytes_invalid=0 send_seq=1624 receive_seq=1624 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000113 adj=12000540  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.66 cputime=61.912 memavail=2854324 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386501.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597470 bytes_read=111801 bytes_retransmit=9 bytes_invalid=0 send_seq=11554 receive_seq=11554 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11251 bytes_read=2458064 bytes_retransmit=9 bytes_invalid=0 send_seq=1625 receive_seq=1625 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000109 adj=12000458  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.66 cputime=61.926 memavail=2851960 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 386502.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597598 bytes_read=112080 bytes_retransmit=9 bytes_invalid=0 send_seq=11565 receive_seq=11565 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997526 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11257 bytes_read=2458091 bytes_retransmit=9 bytes_invalid=0 send_seq=1626 receive_seq=1626 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000104 adj=12000435  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=2.66 cputime=61.940 memavail=2840004 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386503.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597726 bytes_read=112359 bytes_retransmit=9 bytes_invalid=0 send_seq=11576 receive_seq=11576 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997525 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11263 bytes_read=2458107 bytes_retransmit=9 bytes_invalid=0 send_seq=1627 receive_seq=1627 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000104 adj=12000383  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.66 cputime=61.953 memavail=2839680 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386504.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597835 bytes_read=112628 bytes_retransmit=9 bytes_invalid=0 send_seq=11585 receive_seq=11585 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997532 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11269 bytes_read=2458123 bytes_retransmit=9 bytes_invalid=0 send_seq=1628 receive_seq=1628 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000105 adj=12000431  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.77 cputime=61.967 memavail=2838644 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386505.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=597963 bytes_read=112892 bytes_retransmit=9 bytes_invalid=0 send_seq=11596 receive_seq=11596 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11275 bytes_read=2458139 bytes_retransmit=9 bytes_invalid=0 send_seq=1629 receive_seq=1629 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000104 adj=12000456  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.77 cputime=61.982 memavail=2852452 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386506.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000013 bytes_write=598072 bytes_read=113161 bytes_retransmit=9 bytes_invalid=0 send_seq=11605 receive_seq=11605 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11281 bytes_read=2458155 bytes_retransmit=9 bytes_invalid=0 send_seq=1630 receive_seq=1630 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000101 adj=12000475  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=2.77 cputime=61.995 memavail=2895428 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386507.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=598162 bytes_read=113435 bytes_retransmit=9 bytes_invalid=0 send_seq=11612 receive_seq=11612 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11287 bytes_read=2458182 bytes_retransmit=9 bytes_invalid=0 send_seq=1631 receive_seq=1631 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000096 adj=12000446  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.77 cputime=62.008 memavail=2891432 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 386508.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=598252 bytes_read=113679 bytes_retransmit=9 bytes_invalid=0 send_seq=11619 receive_seq=11619 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997531 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11293 bytes_read=2458198 bytes_retransmit=9 bytes_invalid=0 send_seq=1632 receive_seq=1632 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000093 adj=12000395  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=2.77 cputime=62.022 memavail=2870928 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 386509.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=598342 bytes_read=113938 bytes_retransmit=9 bytes_invalid=0 send_seq=11626 receive_seq=11626 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997530 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11299 bytes_read=2458214 bytes_retransmit=9 bytes_invalid=0 send_seq=1633 receive_seq=1633 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000094 adj=12000388  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=3.03 cputime=62.036 memavail=2870612 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386510.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=598432 bytes_read=114197 bytes_retransmit=9 bytes_invalid=0 send_seq=11633 receive_seq=11633 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997530 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11305 bytes_read=2458230 bytes_retransmit=9 bytes_invalid=0 send_seq=1634 receive_seq=1634 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000095 adj=12000453  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.03 cputime=62.048 memavail=2834408 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386511.7: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=598560 bytes_read=114461 bytes_retransmit=9 bytes_invalid=0 send_seq=11644 receive_seq=11644 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997529 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11311 bytes_read=2458246 bytes_retransmit=9 bytes_invalid=0 send_seq=1635 receive_seq=1635 retransmit_seq=2 srtt=0.002 rttvar=0.002 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000094 adj=12000495  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=3.03 cputime=62.062 memavail=2907140 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 386512.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000012 bytes_write=598650 bytes_read=114735 bytes_retransmit=9 bytes_invalid=0 send_seq=11651 receive_seq=11651 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997529 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11323 bytes_read=2458289 bytes_retransmit=9 bytes_invalid=0 send_seq=1637 receive_seq=1637 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000090 adj=12000497  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=3.03 cputime=62.077 memavail=2880548 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 386513.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000012 bytes_write=598740 bytes_read=114994 bytes_retransmit=9 bytes_invalid=0 send_seq=11658 receive_seq=11658 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997529 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11329 bytes_read=2458305 bytes_retransmit=9 bytes_invalid=0 send_seq=1638 receive_seq=1638 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000098 adj=12000460  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=3.03 cputime=62.091 memavail=2911636 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 386514.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000012 bytes_write=598849 bytes_read=115248 bytes_retransmit=9 bytes_invalid=0 send_seq=11667 receive_seq=11667 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11335 bytes_read=2458321 bytes_retransmit=9 bytes_invalid=0 send_seq=1639 receive_seq=1639 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000102 adj=12000610  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.79 cputime=62.104 memavail=2905240 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 386515.7: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000012 bytes_write=598977 bytes_read=115527 bytes_retransmit=9 bytes_invalid=0 send_seq=11678 receive_seq=11678 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997528 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=11341 bytes_read=2458337 bytes_retransmit=9 bytes_invalid=0 send_seq=1640 receive_seq=1640 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000104 adj=12000662  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=2.79 cputime=62.115 memavail=2905252 print_time=174.732 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387060.2: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=652937 bytes_read=257516 bytes_retransmit=9 bytes_invalid=0 send_seq=15961 receive_seq=15961 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14659 bytes_read=2468338 bytes_retransmit=9 bytes_invalid=0 send_seq=2193 receive_seq=2193 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000066 adj=12000579  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.41 cputime=67.888 memavail=2989004 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387061.2: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=652962 bytes_read=257647 bytes_retransmit=9 bytes_invalid=0 send_seq=15964 receive_seq=15964 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14665 bytes_read=2468354 bytes_retransmit=9 bytes_invalid=0 send_seq=2194 receive_seq=2194 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000068 adj=12000506  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.41 cputime=67.895 memavail=2988752 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387062.2: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=652968 bytes_read=257768 bytes_retransmit=9 bytes_invalid=0 send_seq=15965 receive_seq=15965 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14671 bytes_read=2468381 bytes_retransmit=9 bytes_invalid=0 send_seq=2195 receive_seq=2195 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000061 adj=12000545  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.41 cputime=67.902 memavail=2987996 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387063.2: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=652974 bytes_read=257889 bytes_retransmit=9 bytes_invalid=0 send_seq=15966 receive_seq=15966 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14677 bytes_read=2468397 bytes_retransmit=9 bytes_invalid=0 send_seq=2196 receive_seq=2196 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000062 adj=12000442  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.41 cputime=67.910 memavail=2944908 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387064.2: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=652999 bytes_read=258020 bytes_retransmit=9 bytes_invalid=0 send_seq=15969 receive_seq=15969 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14683 bytes_read=2468413 bytes_retransmit=9 bytes_invalid=0 send_seq=2197 receive_seq=2197 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000066 adj=12000482  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.41 cputime=67.918 memavail=2992404 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387065.2: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653019 bytes_read=258146 bytes_retransmit=9 bytes_invalid=0 send_seq=15971 receive_seq=15971 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14689 bytes_read=2468429 bytes_retransmit=9 bytes_invalid=0 send_seq=2198 receive_seq=2198 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000556  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.46 cputime=67.926 memavail=2991900 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387066.2: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653025 bytes_read=258252 bytes_retransmit=9 bytes_invalid=0 send_seq=15972 receive_seq=15972 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14695 bytes_read=2468445 bytes_retransmit=9 bytes_invalid=0 send_seq=2199 receive_seq=2199 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000641  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.46 cputime=67.933 memavail=2991656 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387067.2: gcodein=0  mcu: mcu_awake=0.004 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653031 bytes_read=258373 bytes_retransmit=9 bytes_invalid=0 send_seq=15973 receive_seq=15973 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997498 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14701 bytes_read=2468472 bytes_retransmit=9 bytes_invalid=0 send_seq=2200 receive_seq=2200 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000060 adj=12000531  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.46 cputime=67.940 memavail=2991404 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387068.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653037 bytes_read=258508 bytes_retransmit=9 bytes_invalid=0 send_seq=15974 receive_seq=15974 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997498 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14707 bytes_read=2468488 bytes_retransmit=9 bytes_invalid=0 send_seq=2201 receive_seq=2201 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000068 adj=12000418  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.46 cputime=67.948 memavail=2991156 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387069.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653043 bytes_read=258614 bytes_retransmit=9 bytes_invalid=0 send_seq=15975 receive_seq=15975 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997498 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14713 bytes_read=2468504 bytes_retransmit=9 bytes_invalid=0 send_seq=2202 receive_seq=2202 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000061 adj=12000564  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.46 cputime=67.955 memavail=2987880 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387070.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653049 bytes_read=258735 bytes_retransmit=9 bytes_invalid=0 send_seq=15976 receive_seq=15976 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997497 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14719 bytes_read=2468520 bytes_retransmit=9 bytes_invalid=0 send_seq=2203 receive_seq=2203 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000459  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.42 cputime=67.962 memavail=2987912 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387071.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653055 bytes_read=258856 bytes_retransmit=9 bytes_invalid=0 send_seq=15977 receive_seq=15977 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997497 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14725 bytes_read=2468536 bytes_retransmit=9 bytes_invalid=0 send_seq=2204 receive_seq=2204 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000411  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.42 cputime=67.970 memavail=2987912 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387072.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653089 bytes_read=258972 bytes_retransmit=9 bytes_invalid=0 send_seq=15981 receive_seq=15980 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=5 upcoming_bytes=0 freq=63997496 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14731 bytes_read=2468563 bytes_retransmit=9 bytes_invalid=0 send_seq=2205 receive_seq=2205 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000448  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.42 cputime=67.977 memavail=2987936 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387073.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000012 bytes_write=653105 bytes_read=259117 bytes_retransmit=9 bytes_invalid=0 send_seq=15983 receive_seq=15983 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14737 bytes_read=2468579 bytes_retransmit=9 bytes_invalid=0 send_seq=2206 receive_seq=2206 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000380  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.42 cputime=67.984 memavail=2987684 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387074.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000012 bytes_write=653125 bytes_read=259243 bytes_retransmit=9 bytes_invalid=0 send_seq=15985 receive_seq=15985 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14743 bytes_read=2468595 bytes_retransmit=9 bytes_invalid=0 send_seq=2207 receive_seq=2207 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000488  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.42 cputime=67.991 memavail=2987572 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387075.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000012 bytes_write=653150 bytes_read=259359 bytes_retransmit=9 bytes_invalid=0 send_seq=15988 receive_seq=15988 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14749 bytes_read=2468611 bytes_retransmit=9 bytes_invalid=0 send_seq=2208 receive_seq=2208 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000438  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.55 cputime=67.999 memavail=2940700 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387076.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000012 bytes_write=653162 bytes_read=259496 bytes_retransmit=9 bytes_invalid=0 send_seq=15990 receive_seq=15990 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14755 bytes_read=2468627 bytes_retransmit=9 bytes_invalid=0 send_seq=2209 receive_seq=2209 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000063 adj=12000575  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.55 cputime=68.007 memavail=2988152 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387077.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000012 bytes_write=653168 bytes_read=259617 bytes_retransmit=9 bytes_invalid=0 send_seq=15991 receive_seq=15991 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997500 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14761 bytes_read=2468654 bytes_retransmit=9 bytes_invalid=0 send_seq=2210 receive_seq=2210 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000615  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.55 cputime=68.014 memavail=2985884 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387078.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653174 bytes_read=259737 bytes_retransmit=9 bytes_invalid=0 send_seq=15992 receive_seq=15992 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997504 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14767 bytes_read=2468670 bytes_retransmit=9 bytes_invalid=0 send_seq=2211 receive_seq=2211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000481  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=0.55 cputime=68.021 memavail=2985144 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387079.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653180 bytes_read=259858 bytes_retransmit=9 bytes_invalid=0 send_seq=15993 receive_seq=15993 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997502 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14773 bytes_read=2468686 bytes_retransmit=9 bytes_invalid=0 send_seq=2212 receive_seq=2212 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000436  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.55 cputime=68.027 memavail=2984920 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387080.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653186 bytes_read=259979 bytes_retransmit=9 bytes_invalid=0 send_seq=15994 receive_seq=15994 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997501 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14779 bytes_read=2468702 bytes_retransmit=9 bytes_invalid=0 send_seq=2213 receive_seq=2213 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000062 adj=12000472  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=0.51 cputime=68.034 memavail=2983168 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387081.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653192 bytes_read=260085 bytes_retransmit=9 bytes_invalid=0 send_seq=15995 receive_seq=15995 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997500 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14785 bytes_read=2468718 bytes_retransmit=9 bytes_invalid=0 send_seq=2214 receive_seq=2214 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000062 adj=12000606  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.51 cputime=68.041 memavail=2979388 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387082.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653198 bytes_read=260206 bytes_retransmit=9 bytes_invalid=0 send_seq=15996 receive_seq=15996 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997500 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14791 bytes_read=2468745 bytes_retransmit=9 bytes_invalid=0 send_seq=2215 receive_seq=2215 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000584  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.51 cputime=68.048 memavail=2978884 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387083.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653204 bytes_read=260341 bytes_retransmit=9 bytes_invalid=0 send_seq=15997 receive_seq=15997 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997499 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14797 bytes_read=2468761 bytes_retransmit=9 bytes_invalid=0 send_seq=2216 receive_seq=2216 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000051 adj=12000479  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.51 cputime=68.056 memavail=2978884 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387084.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653210 bytes_read=260447 bytes_retransmit=9 bytes_invalid=0 send_seq=15998 receive_seq=15998 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997498 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14803 bytes_read=2468777 bytes_retransmit=9 bytes_invalid=0 send_seq=2217 receive_seq=2217 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000051 adj=12000427  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.51 cputime=68.062 memavail=2977372 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 387085.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653216 bytes_read=260568 bytes_retransmit=9 bytes_invalid=0 send_seq=15999 receive_seq=15999 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997498 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14809 bytes_read=2468793 bytes_retransmit=9 bytes_invalid=0 send_seq=2218 receive_seq=2218 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000441  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.55 cputime=68.070 memavail=2975968 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387086.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653236 bytes_read=260689 bytes_retransmit=9 bytes_invalid=0 send_seq=16001 receive_seq=16001 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997497 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14815 bytes_read=2468809 bytes_retransmit=9 bytes_invalid=0 send_seq=2219 receive_seq=2219 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000060 adj=12000524  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.55 cputime=68.077 memavail=2958352 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387087.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653261 bytes_read=260796 bytes_retransmit=9 bytes_invalid=0 send_seq=16004 receive_seq=16004 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14821 bytes_read=2468836 bytes_retransmit=9 bytes_invalid=0 send_seq=2220 receive_seq=2220 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000063 adj=12000605  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.55 cputime=68.084 memavail=2906696 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387088.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653267 bytes_read=260923 bytes_retransmit=9 bytes_invalid=0 send_seq=16005 receive_seq=16005 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14827 bytes_read=2468852 bytes_retransmit=9 bytes_invalid=0 send_seq=2221 receive_seq=2221 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000064 adj=12000644  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.55 cputime=68.092 memavail=2956580 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387089.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653273 bytes_read=261036 bytes_retransmit=9 bytes_invalid=0 send_seq=16006 receive_seq=16006 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14833 bytes_read=2468868 bytes_retransmit=9 bytes_invalid=0 send_seq=2222 receive_seq=2222 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000066 adj=12000630  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.55 cputime=68.099 memavail=2956104 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387090.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653298 bytes_read=261147 bytes_retransmit=9 bytes_invalid=0 send_seq=16009 receive_seq=16009 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997496 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14839 bytes_read=2468884 bytes_retransmit=9 bytes_invalid=0 send_seq=2223 receive_seq=2223 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000641  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.50 cputime=68.106 memavail=2956112 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387091.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653318 bytes_read=261273 bytes_retransmit=9 bytes_invalid=0 send_seq=16011 receive_seq=16011 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14845 bytes_read=2468900 bytes_retransmit=9 bytes_invalid=0 send_seq=2224 receive_seq=2224 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000068 adj=12000688  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.50 cputime=68.112 memavail=2956116 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387092.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000014 mcu_task_stddev=0.000014 bytes_write=653343 bytes_read=261404 bytes_retransmit=9 bytes_invalid=0 send_seq=16014 receive_seq=16014 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14851 bytes_read=2468927 bytes_retransmit=9 bytes_invalid=0 send_seq=2225 receive_seq=2225 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000604  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.50 cputime=68.120 memavail=2954920 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387093.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=653368 bytes_read=261534 bytes_retransmit=9 bytes_invalid=0 send_seq=16017 receive_seq=16017 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14857 bytes_read=2468943 bytes_retransmit=9 bytes_invalid=0 send_seq=2226 receive_seq=2226 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000628  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.50 cputime=68.127 memavail=2952424 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387094.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=653374 bytes_read=261655 bytes_retransmit=9 bytes_invalid=0 send_seq=16018 receive_seq=16018 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14863 bytes_read=2468959 bytes_retransmit=9 bytes_invalid=0 send_seq=2227 receive_seq=2227 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000068 adj=12000654  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=0.50 cputime=68.135 memavail=2962212 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387095.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=653380 bytes_read=261776 bytes_retransmit=9 bytes_invalid=0 send_seq=16019 receive_seq=16019 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14869 bytes_read=2468975 bytes_retransmit=9 bytes_invalid=0 send_seq=2228 receive_seq=2228 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000555  heater_bed: target=0 temp=23.4 pwm=0.000 sysload=0.46 cputime=68.143 memavail=2963484 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387096.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=653386 bytes_read=261882 bytes_retransmit=9 bytes_invalid=0 send_seq=16020 receive_seq=16020 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14875 bytes_read=2468991 bytes_retransmit=9 bytes_invalid=0 send_seq=2229 receive_seq=2229 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000624  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.46 cputime=68.150 memavail=2965220 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387097.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=653392 bytes_read=262003 bytes_retransmit=9 bytes_invalid=0 send_seq=16021 receive_seq=16021 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997492 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14881 bytes_read=2469018 bytes_retransmit=9 bytes_invalid=0 send_seq=2230 receive_seq=2230 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000065 adj=12000515  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.46 cputime=68.157 memavail=2967300 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387098.2: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000014 mcu_task_stddev=0.000016 bytes_write=653398 bytes_read=262124 bytes_retransmit=9 bytes_invalid=0 send_seq=16022 receive_seq=16022 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997491 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14887 bytes_read=2469034 bytes_retransmit=9 bytes_invalid=0 send_seq=2231 receive_seq=2231 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000491  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.46 cputime=68.164 memavail=2939576 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387099.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653404 bytes_read=262244 bytes_retransmit=9 bytes_invalid=0 send_seq=16023 receive_seq=16023 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997490 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14893 bytes_read=2469050 bytes_retransmit=9 bytes_invalid=0 send_seq=2232 receive_seq=2232 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000063 adj=12000558  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.46 cputime=68.171 memavail=2986832 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387100.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653410 bytes_read=262365 bytes_retransmit=9 bytes_invalid=0 send_seq=16024 receive_seq=16024 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997490 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14899 bytes_read=2469066 bytes_retransmit=9 bytes_invalid=0 send_seq=2233 receive_seq=2233 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000468  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.42 cputime=68.178 memavail=2986332 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387101.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653416 bytes_read=262486 bytes_retransmit=9 bytes_invalid=0 send_seq=16025 receive_seq=16025 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997490 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14905 bytes_read=2469082 bytes_retransmit=9 bytes_invalid=0 send_seq=2234 receive_seq=2234 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000541  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.42 cputime=68.185 memavail=2986432 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387102.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653422 bytes_read=262592 bytes_retransmit=9 bytes_invalid=0 send_seq=16026 receive_seq=16026 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997490 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14911 bytes_read=2469109 bytes_retransmit=9 bytes_invalid=0 send_seq=2235 receive_seq=2235 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000650  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.42 cputime=68.192 memavail=2986432 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387103.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653428 bytes_read=262728 bytes_retransmit=9 bytes_invalid=0 send_seq=16027 receive_seq=16027 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997489 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14917 bytes_read=2469125 bytes_retransmit=9 bytes_invalid=0 send_seq=2236 receive_seq=2236 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000551  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.42 cputime=68.199 memavail=2986408 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=23.7 pwm=0.000
Stats 387104.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653434 bytes_read=262848 bytes_retransmit=9 bytes_invalid=0 send_seq=16028 receive_seq=16028 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997489 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14923 bytes_read=2469141 bytes_retransmit=9 bytes_invalid=0 send_seq=2237 receive_seq=2237 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000079 adj=12000602  heater_bed: target=0 temp=23.3 pwm=0.000 sysload=0.42 cputime=68.205 memavail=2986184 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387105.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653440 bytes_read=262954 bytes_retransmit=9 bytes_invalid=0 send_seq=16029 receive_seq=16029 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14929 bytes_read=2469157 bytes_retransmit=9 bytes_invalid=0 send_seq=2238 receive_seq=2238 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000077 adj=12000698  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.55 cputime=68.212 memavail=2985696 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387106.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653446 bytes_read=263090 bytes_retransmit=9 bytes_invalid=0 send_seq=16030 receive_seq=16030 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14935 bytes_read=2469173 bytes_retransmit=9 bytes_invalid=0 send_seq=2239 receive_seq=2239 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000082 adj=12000634  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.55 cputime=68.219 memavail=2985444 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387107.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653452 bytes_read=263196 bytes_retransmit=9 bytes_invalid=0 send_seq=16031 receive_seq=16031 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14941 bytes_read=2469200 bytes_retransmit=9 bytes_invalid=0 send_seq=2240 receive_seq=2240 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000082 adj=12000690  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.55 cputime=68.226 memavail=2982424 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387108.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653458 bytes_read=263302 bytes_retransmit=9 bytes_invalid=0 send_seq=16032 receive_seq=16032 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14947 bytes_read=2469216 bytes_retransmit=9 bytes_invalid=0 send_seq=2241 receive_seq=2241 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000076 adj=12000647  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.55 cputime=68.233 memavail=2981676 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 387109.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653464 bytes_read=263452 bytes_retransmit=9 bytes_invalid=0 send_seq=16033 receive_seq=16033 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14953 bytes_read=2469232 bytes_retransmit=9 bytes_invalid=0 send_seq=2242 receive_seq=2242 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000078 adj=12000527  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.55 cputime=68.240 memavail=2980416 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387110.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653470 bytes_read=263558 bytes_retransmit=9 bytes_invalid=0 send_seq=16034 receive_seq=16034 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14959 bytes_read=2469248 bytes_retransmit=9 bytes_invalid=0 send_seq=2243 receive_seq=2243 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000077 adj=12000576  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.59 cputime=68.247 memavail=2936316 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387111.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653476 bytes_read=263664 bytes_retransmit=9 bytes_invalid=0 send_seq=16035 receive_seq=16035 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14965 bytes_read=2469264 bytes_retransmit=9 bytes_invalid=0 send_seq=2244 receive_seq=2244 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000077 adj=12000557  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.59 cputime=68.255 memavail=2982608 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387112.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653482 bytes_read=263800 bytes_retransmit=9 bytes_invalid=0 send_seq=16036 receive_seq=16036 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14971 bytes_read=2469291 bytes_retransmit=9 bytes_invalid=0 send_seq=2245 receive_seq=2245 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000076 adj=12000556  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.59 cputime=68.262 memavail=2981100 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387113.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653488 bytes_read=263906 bytes_retransmit=9 bytes_invalid=0 send_seq=16037 receive_seq=16037 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14977 bytes_read=2469307 bytes_retransmit=9 bytes_invalid=0 send_seq=2246 receive_seq=2246 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000536  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=0.59 cputime=68.269 memavail=2981108 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387114.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653494 bytes_read=264026 bytes_retransmit=9 bytes_invalid=0 send_seq=16038 receive_seq=16038 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14983 bytes_read=2469323 bytes_retransmit=9 bytes_invalid=0 send_seq=2247 receive_seq=2247 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000430  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.59 cputime=68.277 memavail=2980604 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387115.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653500 bytes_read=264162 bytes_retransmit=9 bytes_invalid=0 send_seq=16039 receive_seq=16039 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997486 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14989 bytes_read=2469339 bytes_retransmit=9 bytes_invalid=0 send_seq=2248 receive_seq=2248 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000426  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=0.54 cputime=68.284 memavail=2980604 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387116.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653506 bytes_read=264268 bytes_retransmit=9 bytes_invalid=0 send_seq=16040 receive_seq=16040 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=14995 bytes_read=2469355 bytes_retransmit=9 bytes_invalid=0 send_seq=2249 receive_seq=2249 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000529  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=0.54 cputime=68.291 memavail=2980604 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 387117.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653512 bytes_read=264374 bytes_retransmit=9 bytes_invalid=0 send_seq=16041 receive_seq=16041 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15001 bytes_read=2469382 bytes_retransmit=9 bytes_invalid=0 send_seq=2250 receive_seq=2250 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000492  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.54 cputime=68.298 memavail=2979848 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 387118.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653518 bytes_read=264510 bytes_retransmit=9 bytes_invalid=0 send_seq=16042 receive_seq=16042 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997486 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15013 bytes_read=2469414 bytes_retransmit=9 bytes_invalid=0 send_seq=2252 receive_seq=2252 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000577  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=0.54 cputime=68.306 memavail=2979096 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387119.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=653543 bytes_read=264640 bytes_retransmit=9 bytes_invalid=0 send_seq=16045 receive_seq=16045 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997486 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15019 bytes_read=2469430 bytes_retransmit=9 bytes_invalid=0 send_seq=2253 receive_seq=2253 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000575  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=0.54 cputime=68.313 memavail=2977108 print_time=778.172 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387197.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=654512 bytes_read=274155 bytes_retransmit=9 bytes_invalid=0 send_seq=16146 receive_seq=16146 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15493 bytes_read=2470870 bytes_retransmit=9 bytes_invalid=0 send_seq=2332 receive_seq=2332 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000051 adj=12000484  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.82 cputime=68.882 memavail=2933032 print_time=917.829 buffer_time=2.247 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387198.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=654647 bytes_read=274401 bytes_retransmit=9 bytes_invalid=0 send_seq=16156 receive_seq=16156 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15499 bytes_read=2470886 bytes_retransmit=9 bytes_invalid=0 send_seq=2333 receive_seq=2333 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000456  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=0.82 cputime=68.895 memavail=2916148 print_time=917.830 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 387199.2: gcodein=0  mcu: mcu_awake=0.002 mcu_task_avg=0.000013 mcu_task_stddev=0.000010 bytes_write=654687 bytes_read=274584 bytes_retransmit=9 bytes_invalid=0 send_seq=16160 receive_seq=16160 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15505 bytes_read=2470902 bytes_retransmit=9 bytes_invalid=0 send_seq=2334 receive_seq=2334 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000481  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=0.82 cputime=68.906 memavail=2916760 print_time=917.830 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 387200.2: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000022 bytes_write=655429 bytes_read=275389 bytes_retransmit=9 bytes_invalid=0 send_seq=16211 receive_seq=16211 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15511 bytes_read=2470918 bytes_retransmit=9 bytes_invalid=0 send_seq=2335 receive_seq=2335 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000060 adj=12000552  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.15 cputime=68.931 memavail=2932988 print_time=918.780 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387201.2: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000022 bytes_write=656082 bytes_read=275982 bytes_retransmit=9 bytes_invalid=0 send_seq=16248 receive_seq=16248 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997496 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15517 bytes_read=2470934 bytes_retransmit=9 bytes_invalid=0 send_seq=2336 receive_seq=2336 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000062 adj=12000562  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.15 cputime=68.953 memavail=2950896 print_time=919.791 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387202.2: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000022 bytes_write=656872 bytes_read=276838 bytes_retransmit=9 bytes_invalid=0 send_seq=16302 receive_seq=16302 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997502 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15523 bytes_read=2470961 bytes_retransmit=9 bytes_invalid=0 send_seq=2337 receive_seq=2337 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000578  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.15 cputime=68.982 memavail=2935624 print_time=920.741 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387203.2: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000022 bytes_write=657884 bytes_read=277487 bytes_retransmit=9 bytes_invalid=0 send_seq=16346 receive_seq=16346 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=63997503 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15529 bytes_read=2470977 bytes_retransmit=9 bytes_invalid=0 send_seq=2338 receive_seq=2338 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000451  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.15 cputime=69.006 memavail=2939696 print_time=923.131 buffer_time=1.545 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387204.2: gcodein=0  mcu: mcu_awake=0.007 mcu_task_avg=0.000016 mcu_task_stddev=0.000022 bytes_write=658007 bytes_read=277756 bytes_retransmit=9 bytes_invalid=0 send_seq=16355 receive_seq=16355 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=63997504 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15535 bytes_read=2470993 bytes_retransmit=9 bytes_invalid=0 send_seq=2339 receive_seq=2339 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000048 adj=12000430  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.15 cputime=69.018 memavail=2907304 print_time=923.131 buffer_time=0.544 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387205.3: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=658110 bytes_read=278035 bytes_retransmit=9 bytes_invalid=0 send_seq=16363 receive_seq=16363 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=18 freq=63997503 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15541 bytes_read=2471009 bytes_retransmit=9 bytes_invalid=0 send_seq=2340 receive_seq=2340 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000054 adj=12000371  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.30 cputime=69.031 memavail=2952720 print_time=923.131 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387206.3: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=658371 bytes_read=278423 bytes_retransmit=9 bytes_invalid=0 send_seq=16381 receive_seq=16381 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997503 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15547 bytes_read=2471025 bytes_retransmit=9 bytes_invalid=0 send_seq=2341 receive_seq=2341 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000482  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.30 cputime=69.047 memavail=2948208 print_time=924.856 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387207.3: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=658846 bytes_read=278947 bytes_retransmit=9 bytes_invalid=0 send_seq=16413 receive_seq=16413 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997502 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15553 bytes_read=2471052 bytes_retransmit=9 bytes_invalid=0 send_seq=2342 receive_seq=2342 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000545  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.30 cputime=69.067 memavail=2947480 print_time=925.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387208.3: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=659344 bytes_read=279552 bytes_retransmit=9 bytes_invalid=0 send_seq=16450 receive_seq=16450 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997501 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15559 bytes_read=2471068 bytes_retransmit=9 bytes_invalid=0 send_seq=2343 receive_seq=2343 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000473  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.30 cputime=69.087 memavail=2947480 print_time=926.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387209.3: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=659840 bytes_read=280133 bytes_retransmit=9 bytes_invalid=0 send_seq=16488 receive_seq=16488 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997500 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15565 bytes_read=2471084 bytes_retransmit=9 bytes_invalid=0 send_seq=2344 receive_seq=2344 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000052 adj=12000471  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.30 cputime=69.107 memavail=2946724 print_time=927.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387210.3: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=660341 bytes_read=280749 bytes_retransmit=9 bytes_invalid=0 send_seq=16527 receive_seq=16527 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997499 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15571 bytes_read=2471100 bytes_retransmit=9 bytes_invalid=0 send_seq=2345 receive_seq=2345 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000499  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.52 cputime=69.127 memavail=2943212 print_time=928.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387211.3: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=660829 bytes_read=281344 bytes_retransmit=9 bytes_invalid=0 send_seq=16562 receive_seq=16562 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997499 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15577 bytes_read=2471116 bytes_retransmit=9 bytes_invalid=0 send_seq=2346 receive_seq=2346 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000065 adj=12000603  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.52 cputime=69.147 memavail=2939392 print_time=929.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387212.3: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=661353 bytes_read=281955 bytes_retransmit=9 bytes_invalid=0 send_seq=16602 receive_seq=16602 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=0 freq=63997501 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15583 bytes_read=2471143 bytes_retransmit=9 bytes_invalid=0 send_seq=2347 receive_seq=2347 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000068 adj=12000684  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.52 cputime=69.169 memavail=2956268 print_time=930.577 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387213.3: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=661723 bytes_read=282349 bytes_retransmit=9 bytes_invalid=0 send_seq=16618 receive_seq=16618 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=8 freq=63997503 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15589 bytes_read=2471159 bytes_retransmit=9 bytes_invalid=0 send_seq=2348 receive_seq=2348 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000075 adj=12000697  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.52 cputime=69.185 memavail=2950488 print_time=933.106 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387214.3: gcodein=0  mcu: mcu_awake=0.012 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=661813 bytes_read=282608 bytes_retransmit=9 bytes_invalid=0 send_seq=16625 receive_seq=16625 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=8 upcoming_bytes=0 freq=63997503 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15595 bytes_read=2471175 bytes_retransmit=9 bytes_invalid=0 send_seq=2349 receive_seq=2349 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000704  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.52 cputime=69.198 memavail=2948220 print_time=933.106 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387215.3: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=662176 bytes_read=283060 bytes_retransmit=9 bytes_invalid=0 send_seq=16651 receive_seq=16651 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997503 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15601 bytes_read=2471191 bytes_retransmit=9 bytes_invalid=0 send_seq=2350 receive_seq=2350 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000656  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.48 cputime=69.216 memavail=2942776 print_time=933.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387216.3: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=662642 bytes_read=283646 bytes_retransmit=9 bytes_invalid=0 send_seq=16687 receive_seq=16687 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997502 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15607 bytes_read=2471207 bytes_retransmit=9 bytes_invalid=0 send_seq=2351 receive_seq=2351 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000675  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.48 cputime=69.235 memavail=2904240 print_time=934.756 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387217.3: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=663070 bytes_read=284204 bytes_retransmit=9 bytes_invalid=0 send_seq=16719 receive_seq=16719 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997506 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15613 bytes_read=2471234 bytes_retransmit=9 bytes_invalid=0 send_seq=2352 receive_seq=2352 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000583  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.48 cputime=69.254 memavail=2945616 print_time=935.342 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387218.3: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=663352 bytes_read=284593 bytes_retransmit=9 bytes_invalid=0 send_seq=16737 receive_seq=16737 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997505 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15619 bytes_read=2471250 bytes_retransmit=9 bytes_invalid=0 send_seq=2353 receive_seq=2353 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000064 adj=12000515  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.48 cputime=69.269 memavail=2940872 print_time=937.663 buffer_time=1.069 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387219.3: gcodein=0  mcu: mcu_awake=0.011 mcu_task_avg=0.000015 mcu_task_stddev=0.000013 bytes_write=663503 bytes_read=284857 bytes_retransmit=9 bytes_invalid=0 send_seq=16745 receive_seq=16745 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997504 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15625 bytes_read=2471266 bytes_retransmit=9 bytes_invalid=0 send_seq=2354 receive_seq=2354 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000065 adj=12000475  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.48 cputime=69.281 memavail=2939612 print_time=937.663 buffer_time=0.068 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387220.3: gcodein=0  mcu: mcu_awake=0.010 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=663621 bytes_read=285133 bytes_retransmit=9 bytes_invalid=0 send_seq=16753 receive_seq=16753 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997502 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15631 bytes_read=2471282 bytes_retransmit=9 bytes_invalid=0 send_seq=2355 receive_seq=2355 retransmit_seq=2 srtt=0.002 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000066 adj=12000502  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.44 cputime=69.293 memavail=2938988 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387221.3: gcodein=0  mcu: mcu_awake=0.010 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=663711 bytes_read=285370 bytes_retransmit=9 bytes_invalid=0 send_seq=16760 receive_seq=16760 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997501 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15637 bytes_read=2471298 bytes_retransmit=9 bytes_invalid=0 send_seq=2356 receive_seq=2356 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000068 adj=12000529  heater_bed: target=0 temp=24.0 pwm=0.000 sysload=1.44 cputime=69.303 memavail=2938988 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387222.3: gcodein=0  mcu: mcu_awake=0.010 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=663801 bytes_read=285621 bytes_retransmit=9 bytes_invalid=0 send_seq=16767 receive_seq=16767 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997501 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15643 bytes_read=2471325 bytes_retransmit=9 bytes_invalid=0 send_seq=2357 receive_seq=2357 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000561  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.44 cputime=69.314 memavail=2938768 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387223.3: gcodein=0  mcu: mcu_awake=0.010 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=663891 bytes_read=285872 bytes_retransmit=9 bytes_invalid=0 send_seq=16774 receive_seq=16774 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997500 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15649 bytes_read=2471341 bytes_retransmit=9 bytes_invalid=0 send_seq=2358 receive_seq=2358 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000591  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.44 cputime=69.325 memavail=2934332 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387224.3: gcodein=0  mcu: mcu_awake=0.010 mcu_task_avg=0.000015 mcu_task_stddev=0.000014 bytes_write=663981 bytes_read=286110 bytes_retransmit=9 bytes_invalid=0 send_seq=16781 receive_seq=16781 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997499 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15655 bytes_read=2471357 bytes_retransmit=9 bytes_invalid=0 send_seq=2359 receive_seq=2359 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000640  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.44 cputime=69.336 memavail=2934240 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387225.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=664071 bytes_read=286384 bytes_retransmit=9 bytes_invalid=0 send_seq=16788 receive_seq=16788 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997498 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15661 bytes_read=2471373 bytes_retransmit=9 bytes_invalid=0 send_seq=2360 receive_seq=2360 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000594  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.40 cputime=69.347 memavail=2934016 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387226.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=664161 bytes_read=286643 bytes_retransmit=9 bytes_invalid=0 send_seq=16795 receive_seq=16795 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997497 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15667 bytes_read=2471389 bytes_retransmit=9 bytes_invalid=0 send_seq=2361 receive_seq=2361 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000563  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.40 cputime=69.357 memavail=2934016 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387227.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=664251 bytes_read=286887 bytes_retransmit=9 bytes_invalid=0 send_seq=16802 receive_seq=16802 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997496 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15673 bytes_read=2471416 bytes_retransmit=9 bytes_invalid=0 send_seq=2362 receive_seq=2362 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000563  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.40 cputime=69.368 memavail=2934016 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387228.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=664341 bytes_read=287146 bytes_retransmit=9 bytes_invalid=0 send_seq=16809 receive_seq=16809 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997496 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15679 bytes_read=2471432 bytes_retransmit=9 bytes_invalid=0 send_seq=2363 receive_seq=2363 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000550  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.40 cputime=69.379 memavail=2884044 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387229.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000015 mcu_task_stddev=0.000024 bytes_write=664431 bytes_read=287405 bytes_retransmit=9 bytes_invalid=0 send_seq=16816 receive_seq=16816 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997496 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15685 bytes_read=2471448 bytes_retransmit=9 bytes_invalid=0 send_seq=2364 receive_seq=2364 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000556  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.40 cputime=69.389 memavail=2930580 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387230.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=664521 bytes_read=287664 bytes_retransmit=9 bytes_invalid=0 send_seq=16823 receive_seq=16823 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15691 bytes_read=2471464 bytes_retransmit=9 bytes_invalid=0 send_seq=2365 receive_seq=2365 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000512  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.37 cputime=69.400 memavail=2927556 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387231.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=664611 bytes_read=287923 bytes_retransmit=9 bytes_invalid=0 send_seq=16830 receive_seq=16830 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997495 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15697 bytes_read=2471480 bytes_retransmit=9 bytes_invalid=0 send_seq=2366 receive_seq=2366 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000571  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.37 cputime=69.410 memavail=2927304 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387232.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=664701 bytes_read=288182 bytes_retransmit=9 bytes_invalid=0 send_seq=16837 receive_seq=16837 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997494 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15703 bytes_read=2471507 bytes_retransmit=9 bytes_invalid=0 send_seq=2367 receive_seq=2367 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000075 adj=12000592  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.37 cputime=69.421 memavail=2926556 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387233.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=664791 bytes_read=288426 bytes_retransmit=9 bytes_invalid=0 send_seq=16844 receive_seq=16844 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997493 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15709 bytes_read=2471523 bytes_retransmit=9 bytes_invalid=0 send_seq=2368 receive_seq=2368 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000077 adj=12000610  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.37 cputime=69.432 memavail=2926060 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387234.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=664881 bytes_read=288685 bytes_retransmit=9 bytes_invalid=0 send_seq=16851 receive_seq=16851 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997492 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15715 bytes_read=2471539 bytes_retransmit=9 bytes_invalid=0 send_seq=2369 receive_seq=2369 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000082 adj=12000629  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.37 cputime=69.442 memavail=2926060 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387235.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=664971 bytes_read=288959 bytes_retransmit=9 bytes_invalid=0 send_seq=16858 receive_seq=16858 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997492 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15721 bytes_read=2471555 bytes_retransmit=9 bytes_invalid=0 send_seq=2370 receive_seq=2370 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000086 adj=12000679  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.34 cputime=69.453 memavail=2926060 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387236.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665061 bytes_read=289203 bytes_retransmit=9 bytes_invalid=0 send_seq=16865 receive_seq=16865 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997491 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15727 bytes_read=2471571 bytes_retransmit=9 bytes_invalid=0 send_seq=2371 receive_seq=2371 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000089 adj=12000709  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.34 cputime=69.464 memavail=2925808 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387237.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665151 bytes_read=289462 bytes_retransmit=9 bytes_invalid=0 send_seq=16872 receive_seq=16872 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997491 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15733 bytes_read=2471598 bytes_retransmit=9 bytes_invalid=0 send_seq=2372 receive_seq=2372 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000089 adj=12000720  heater_bed: target=0 temp=24.0 pwm=0.000 sysload=1.34 cputime=69.474 memavail=2925816 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387238.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665241 bytes_read=289721 bytes_retransmit=9 bytes_invalid=0 send_seq=16879 receive_seq=16879 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997491 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15739 bytes_read=2471614 bytes_retransmit=9 bytes_invalid=0 send_seq=2373 receive_seq=2373 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000090 adj=12000686  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.34 cputime=69.485 memavail=2925356 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387239.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665331 bytes_read=289965 bytes_retransmit=9 bytes_invalid=0 send_seq=16886 receive_seq=16886 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997490 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15745 bytes_read=2471630 bytes_retransmit=9 bytes_invalid=0 send_seq=2374 receive_seq=2374 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000090 adj=12000665  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.34 cputime=69.496 memavail=2917040 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387240.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665421 bytes_read=290239 bytes_retransmit=9 bytes_invalid=0 send_seq=16893 receive_seq=16893 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997490 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15757 bytes_read=2471646 bytes_retransmit=9 bytes_invalid=0 send_seq=2376 receive_seq=2375 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000089 adj=12000643  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.39 cputime=69.506 memavail=2877476 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387241.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665511 bytes_read=290498 bytes_retransmit=9 bytes_invalid=0 send_seq=16900 receive_seq=16900 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997489 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15763 bytes_read=2471678 bytes_retransmit=9 bytes_invalid=0 send_seq=2377 receive_seq=2377 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000084 adj=12000570  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.39 cputime=69.517 memavail=2935412 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387242.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665601 bytes_read=290742 bytes_retransmit=9 bytes_invalid=0 send_seq=16907 receive_seq=16907 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997489 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15769 bytes_read=2471705 bytes_retransmit=9 bytes_invalid=0 send_seq=2378 receive_seq=2378 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000077 adj=12000539  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.39 cputime=69.528 memavail=2930448 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387243.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665691 bytes_read=291001 bytes_retransmit=9 bytes_invalid=0 send_seq=16914 receive_seq=16914 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15775 bytes_read=2471721 bytes_retransmit=9 bytes_invalid=0 send_seq=2379 receive_seq=2379 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000076 adj=12000425  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.39 cputime=69.539 memavail=2930452 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.1 pwm=0.000
Stats 387244.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665781 bytes_read=291260 bytes_retransmit=9 bytes_invalid=0 send_seq=16921 receive_seq=16921 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15781 bytes_read=2471737 bytes_retransmit=9 bytes_invalid=0 send_seq=2380 receive_seq=2380 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000077 adj=12000447  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.39 cputime=69.550 memavail=2930200 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387245.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665871 bytes_read=291519 bytes_retransmit=9 bytes_invalid=0 send_seq=16928 receive_seq=16928 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15787 bytes_read=2471753 bytes_retransmit=9 bytes_invalid=0 send_seq=2381 receive_seq=2381 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000075 adj=12000483  heater_bed: target=0 temp=24.0 pwm=0.000 sysload=1.44 cputime=69.561 memavail=2929948 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387246.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=665961 bytes_read=291778 bytes_retransmit=9 bytes_invalid=0 send_seq=16935 receive_seq=16935 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15793 bytes_read=2471769 bytes_retransmit=9 bytes_invalid=0 send_seq=2382 receive_seq=2382 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000474  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.44 cputime=69.571 memavail=2929948 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.0 pwm=0.000
Stats 387247.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666051 bytes_read=292037 bytes_retransmit=9 bytes_invalid=0 send_seq=16942 receive_seq=16942 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997486 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15799 bytes_read=2471796 bytes_retransmit=9 bytes_invalid=0 send_seq=2383 receive_seq=2383 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000484  heater_bed: target=0 temp=24.1 pwm=0.000 sysload=1.44 cputime=69.582 memavail=2929956 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387248.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666141 bytes_read=292281 bytes_retransmit=9 bytes_invalid=0 send_seq=16949 receive_seq=16949 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997485 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15805 bytes_read=2471812 bytes_retransmit=9 bytes_invalid=0 send_seq=2384 receive_seq=2384 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000391  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.44 cputime=69.593 memavail=2927940 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387249.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666231 bytes_read=292540 bytes_retransmit=9 bytes_invalid=0 send_seq=16956 receive_seq=16956 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997485 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15811 bytes_read=2471828 bytes_retransmit=9 bytes_invalid=0 send_seq=2385 receive_seq=2385 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000073 adj=12000471  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.44 cputime=69.603 memavail=2925676 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387250.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666321 bytes_read=292814 bytes_retransmit=9 bytes_invalid=0 send_seq=16963 receive_seq=16963 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997485 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15817 bytes_read=2471844 bytes_retransmit=9 bytes_invalid=0 send_seq=2386 receive_seq=2386 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000544  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.41 cputime=69.614 memavail=2925676 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387251.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666411 bytes_read=293058 bytes_retransmit=9 bytes_invalid=0 send_seq=16970 receive_seq=16970 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997484 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15823 bytes_read=2471860 bytes_retransmit=9 bytes_invalid=0 send_seq=2387 receive_seq=2387 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000512  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.41 cputime=69.624 memavail=2907784 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387252.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666501 bytes_read=293317 bytes_retransmit=9 bytes_invalid=0 send_seq=16977 receive_seq=16977 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997485 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15829 bytes_read=2471887 bytes_retransmit=9 bytes_invalid=0 send_seq=2388 receive_seq=2388 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000064 adj=12000521  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.41 cputime=69.635 memavail=2857384 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387253.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666591 bytes_read=293576 bytes_retransmit=9 bytes_invalid=0 send_seq=16984 receive_seq=16984 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15835 bytes_read=2471903 bytes_retransmit=9 bytes_invalid=0 send_seq=2389 receive_seq=2389 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000070 adj=12000418  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.41 cputime=69.648 memavail=2928524 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387254.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666681 bytes_read=293820 bytes_retransmit=9 bytes_invalid=0 send_seq=16991 receive_seq=16991 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15841 bytes_read=2471919 bytes_retransmit=9 bytes_invalid=0 send_seq=2390 receive_seq=2390 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000525  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.41 cputime=69.658 memavail=2926264 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387255.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666771 bytes_read=294094 bytes_retransmit=9 bytes_invalid=0 send_seq=16998 receive_seq=16998 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15847 bytes_read=2471935 bytes_retransmit=9 bytes_invalid=0 send_seq=2391 receive_seq=2391 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000552  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.37 cputime=69.668 memavail=2923560 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387256.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666861 bytes_read=294353 bytes_retransmit=9 bytes_invalid=0 send_seq=17005 receive_seq=17005 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15853 bytes_read=2471951 bytes_retransmit=9 bytes_invalid=0 send_seq=2392 receive_seq=2392 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000074 adj=12000565  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.37 cputime=69.679 memavail=2923308 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387257.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=666951 bytes_read=294597 bytes_retransmit=9 bytes_invalid=0 send_seq=17012 receive_seq=17012 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15859 bytes_read=2471978 bytes_retransmit=9 bytes_invalid=0 send_seq=2393 receive_seq=2393 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000067 adj=12000585  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.37 cputime=69.690 memavail=2923356 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387258.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667041 bytes_read=294856 bytes_retransmit=9 bytes_invalid=0 send_seq=17019 receive_seq=17019 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15865 bytes_read=2471994 bytes_retransmit=9 bytes_invalid=0 send_seq=2394 receive_seq=2394 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000069 adj=12000466  heater_bed: target=0 temp=23.5 pwm=0.000 sysload=1.37 cputime=69.700 memavail=2922388 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387259.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667137 bytes_read=295115 bytes_retransmit=9 bytes_invalid=0 send_seq=17027 receive_seq=17026 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15871 bytes_read=2472010 bytes_retransmit=9 bytes_invalid=0 send_seq=2395 receive_seq=2395 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000071 adj=12000525  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.37 cputime=69.711 memavail=2920580 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387260.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667227 bytes_read=295390 bytes_retransmit=9 bytes_invalid=0 send_seq=17034 receive_seq=17034 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15877 bytes_read=2472026 bytes_retransmit=9 bytes_invalid=0 send_seq=2396 receive_seq=2396 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000072 adj=12000562  heater_bed: target=0 temp=24.0 pwm=0.000 sysload=1.34 cputime=69.723 memavail=2922120 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387261.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667317 bytes_read=295664 bytes_retransmit=9 bytes_invalid=0 send_seq=17041 receive_seq=17041 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15883 bytes_read=2472042 bytes_retransmit=9 bytes_invalid=0 send_seq=2397 receive_seq=2397 retransmit_seq=2 srtt=0.002 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000075 adj=12000559  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.34 cputime=69.734 memavail=2921912 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387262.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667407 bytes_read=295908 bytes_retransmit=9 bytes_invalid=0 send_seq=17048 receive_seq=17048 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15889 bytes_read=2472069 bytes_retransmit=9 bytes_invalid=0 send_seq=2398 receive_seq=2398 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000068 adj=12000604  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.34 cputime=69.745 memavail=2921912 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387263.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667497 bytes_read=296152 bytes_retransmit=9 bytes_invalid=0 send_seq=17055 receive_seq=17055 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15895 bytes_read=2472085 bytes_retransmit=9 bytes_invalid=0 send_seq=2399 receive_seq=2399 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000066 adj=12000478  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.34 cputime=69.755 memavail=2910412 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387264.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667587 bytes_read=296426 bytes_retransmit=9 bytes_invalid=0 send_seq=17062 receive_seq=17062 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15901 bytes_read=2472101 bytes_retransmit=9 bytes_invalid=0 send_seq=2400 receive_seq=2400 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000063 adj=12000475  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.34 cputime=69.767 memavail=2874636 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387265.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667677 bytes_read=296685 bytes_retransmit=9 bytes_invalid=0 send_seq=17069 receive_seq=17069 retransmit_seq=2 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15907 bytes_read=2472117 bytes_retransmit=9 bytes_invalid=0 send_seq=2401 receive_seq=2401 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000062 adj=12000441  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.32 cputime=69.778 memavail=2946276 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387266.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667767 bytes_read=296929 bytes_retransmit=9 bytes_invalid=0 send_seq=17076 receive_seq=17076 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997487 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15913 bytes_read=2472133 bytes_retransmit=9 bytes_invalid=0 send_seq=2402 receive_seq=2402 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000061 adj=12000448  heater_bed: target=0 temp=24.0 pwm=0.000 sysload=1.32 cputime=69.788 memavail=2942048 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387267.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667857 bytes_read=297203 bytes_retransmit=9 bytes_invalid=0 send_seq=17083 receive_seq=17083 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15919 bytes_read=2472160 bytes_retransmit=9 bytes_invalid=0 send_seq=2403 receive_seq=2403 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000455  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.32 cputime=69.798 memavail=2941292 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387268.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=667947 bytes_read=297447 bytes_retransmit=9 bytes_invalid=0 send_seq=17090 receive_seq=17090 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15925 bytes_read=2472176 bytes_retransmit=9 bytes_invalid=0 send_seq=2404 receive_seq=2404 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000055 adj=12000373  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.32 cputime=69.809 memavail=2940284 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387269.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668037 bytes_read=297691 bytes_retransmit=9 bytes_invalid=0 send_seq=17097 receive_seq=17097 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15931 bytes_read=2472192 bytes_retransmit=9 bytes_invalid=0 send_seq=2405 receive_seq=2405 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000056 adj=12000412  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.32 cputime=69.819 memavail=2939968 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387270.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668127 bytes_read=297980 bytes_retransmit=9 bytes_invalid=0 send_seq=17104 receive_seq=17104 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15937 bytes_read=2472208 bytes_retransmit=9 bytes_invalid=0 send_seq=2406 receive_seq=2406 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000460  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.29 cputime=69.829 memavail=2938796 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387271.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668217 bytes_read=298224 bytes_retransmit=9 bytes_invalid=0 send_seq=17111 receive_seq=17111 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15943 bytes_read=2472224 bytes_retransmit=9 bytes_invalid=0 send_seq=2407 receive_seq=2407 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000059 adj=12000490  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.29 cputime=69.840 memavail=2937792 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387272.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668307 bytes_read=298483 bytes_retransmit=9 bytes_invalid=0 send_seq=17118 receive_seq=17118 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15949 bytes_read=2472251 bytes_retransmit=9 bytes_invalid=0 send_seq=2408 receive_seq=2408 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000053 adj=12000538  heater_bed: target=0 temp=23.9 pwm=0.000 sysload=1.29 cputime=69.850 memavail=2936280 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387273.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668397 bytes_read=298742 bytes_retransmit=9 bytes_invalid=0 send_seq=17125 receive_seq=17125 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15955 bytes_read=2472267 bytes_retransmit=9 bytes_invalid=0 send_seq=2409 receive_seq=2409 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000057 adj=12000440  heater_bed: target=0 temp=23.6 pwm=0.000 sysload=1.29 cputime=69.861 memavail=2936280 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
Stats 387274.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668487 bytes_read=298986 bytes_retransmit=9 bytes_invalid=0 send_seq=17132 receive_seq=17132 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15961 bytes_read=2472283 bytes_retransmit=9 bytes_invalid=0 send_seq=2410 receive_seq=2410 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000058 adj=12000513  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.29 cputime=69.871 memavail=2935776 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.2 pwm=0.000
Stats 387275.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668577 bytes_read=299260 bytes_retransmit=9 bytes_invalid=0 send_seq=17139 receive_seq=17139 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15967 bytes_read=2472299 bytes_retransmit=9 bytes_invalid=0 send_seq=2411 receive_seq=2411 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000060 adj=12000543  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.35 cputime=69.883 memavail=2905544 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387276.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668667 bytes_read=299519 bytes_retransmit=9 bytes_invalid=0 send_seq=17146 receive_seq=17146 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15973 bytes_read=2472315 bytes_retransmit=9 bytes_invalid=0 send_seq=2412 receive_seq=2412 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000064 adj=12000567  heater_bed: target=0 temp=23.8 pwm=0.000 sysload=1.35 cputime=69.894 memavail=2952192 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.4 pwm=0.000
Stats 387277.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668757 bytes_read=299763 bytes_retransmit=9 bytes_invalid=0 send_seq=17153 receive_seq=17153 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15979 bytes_read=2472342 bytes_retransmit=9 bytes_invalid=0 send_seq=2413 receive_seq=2413 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000064 adj=12000622  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.35 cputime=69.904 memavail=2948916 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.6 pwm=0.000
Stats 387278.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668847 bytes_read=300022 bytes_retransmit=9 bytes_invalid=0 send_seq=17160 receive_seq=17160 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15985 bytes_read=2472358 bytes_retransmit=9 bytes_invalid=0 send_seq=2414 receive_seq=2414 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000062 adj=12000598  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.35 cputime=69.915 memavail=2948412 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 387279.3: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=668937 bytes_read=300281 bytes_retransmit=9 bytes_invalid=0 send_seq=17167 receive_seq=17167 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=63997488 PIS: mcu_awake=0.000 mcu_task_avg=0.000003 mcu_task_stddev=0.000003 bytes_write=15991 bytes_read=2472374 bytes_retransmit=9 bytes_invalid=0 send_seq=2415 receive_seq=2415 retransmit_seq=2 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=12000060 adj=12000551  heater_bed: target=0 temp=23.7 pwm=0.000 sysload=1.35 cputime=69.925 memavail=2948412 print_time=937.663 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.3 pwm=0.000
